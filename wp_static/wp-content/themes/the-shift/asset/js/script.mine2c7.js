(function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o), m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-162031185-1', 'auto');
ga('send', 'pageview');
! function (t, e) {
    "function" == typeof define && define.amd ? define(function () {
        return e(t)
    }) : e(t)
}(this, function (t) {
    var e = function () {
        function $(t) {
            return null == t ? String(t) : S[C.call(t)] || "object"
        }

        function F(t) {
            return "function" == $(t)
        }

        function k(t) {
            return null != t && t == t.window
        }

        function M(t) {
            return null != t && t.nodeType == t.DOCUMENT_NODE
        }

        function R(t) {
            return "object" == $(t)
        }

        function Z(t) {
            return R(t) && !k(t) && Object.getPrototypeOf(t) == Object.prototype
        }

        function z(t) {
            var e = !!t && "length" in t && t.length,
                n = r.type(t);
            return "function" != n && !k(t) && ("array" == n || 0 === e || "number" == typeof e && e > 0 && e - 1 in t)
        }

        function q(t) {
            return a.call(t, function (t) {
                return null != t
            })
        }

        function H(t) {
            return t.length > 0 ? r.fn.concat.apply([], t) : t
        }

        function I(t) {
            return t.replace(/::/g, "/").replace(/([A-Z]+)([A-Z][a-z])/g, "$1_$2").replace(/([a-z\d])([A-Z])/g, "$1_$2").replace(/_/g, "-").toLowerCase()
        }

        function V(t) {
            return t in l ? l[t] : l[t] = new RegExp("(^|\\s)" + t + "(\\s|$)")
        }

        function _(t, e) {
            return "number" != typeof e || h[I(t)] ? e : e + "px"
        }

        function B(t) {
            var e, n;
            return c[t] || (e = f.createElement(t), f.body.appendChild(e), n = getComputedStyle(e, "").getPropertyValue("display"), e.parentNode.removeChild(e), "none" == n && (n = "block"), c[t] = n), c[t]
        }

        function U(t) {
            return "children" in t ? u.call(t.children) : r.map(t.childNodes, function (t) {
                return 1 == t.nodeType ? t : void 0
            })
        }

        function X(t, e) {
            var n, r = t ? t.length : 0;
            for (n = 0; r > n; n++) this[n] = t[n];
            this.length = r, this.selector = e || ""
        }

        function J(t, r, i) {
            for (n in r) i && (Z(r[n]) || L(r[n])) ? (Z(r[n]) && !Z(t[n]) && (t[n] = {}), L(r[n]) && !L(t[n]) && (t[n] = []), J(t[n], r[n], i)) : r[n] !== e && (t[n] = r[n])
        }

        function W(t, e) {
            return null == e ? r(t) : r(t).filter(e)
        }

        function Y(t, e, n, r) {
            return F(e) ? e.call(t, n, r) : e
        }

        function G(t, e, n) {
            null == n ? t.removeAttribute(e) : t.setAttribute(e, n)
        }

        function K(t, n) {
            var r = t.className || "",
                i = r && r.baseVal !== e;
            return n === e ? i ? r.baseVal : r : void(i ? r.baseVal = n : t.className = n)
        }

        function Q(t) {
            try {
                return t ? "true" == t || ("false" == t ? !1 : "null" == t ? null : +t + "" == t ? +t : /^[\[\{]/.test(t) ? r.parseJSON(t) : t) : t
            } catch (e) {
                return t
            }
        }

        function tt(t, e) {
            e(t);
            for (var n = 0, r = t.childNodes.length; r > n; n++) tt(t.childNodes[n], e)
        }
        var e, n, r, i, O, P, o = [],
            s = o.concat,
            a = o.filter,
            u = o.slice,
            f = t.document,
            c = {},
            l = {},
            h = {
                "column-count": 1,
                columns: 1,
                "font-weight": 1,
                "line-height": 1,
                opacity: 1,
                "z-index": 1,
                zoom: 1
            },
            p = /^\s*<(\w+|!)[^>]*>/,
            d = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
            m = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
            g = /^(?:body|html)$/i,
            v = /([A-Z])/g,
            y = ["val", "css", "html", "text", "data", "width", "height", "offset"],
            x = ["after", "prepend", "before", "append"],
            b = f.createElement("table"),
            E = f.createElement("tr"),
            j = {
                tr: f.createElement("tbody"),
                tbody: b,
                thead: b,
                tfoot: b,
                td: E,
                th: E,
                "*": f.createElement("div")
            },
            w = /complete|loaded|interactive/,
            T = /^[\w-]*$/,
            S = {},
            C = S.toString,
            N = {},
            A = f.createElement("div"),
            D = {
                tabindex: "tabIndex",
                readonly: "readOnly",
                "for": "htmlFor",
                "class": "className",
                maxlength: "maxLength",
                cellspacing: "cellSpacing",
                cellpadding: "cellPadding",
                rowspan: "rowSpan",
                colspan: "colSpan",
                usemap: "useMap",
                frameborder: "frameBorder",
                contenteditable: "contentEditable"
            },
            L = Array.isArray || function (t) {
                return t instanceof Array
            };
        return N.matches = function (t, e) {
            if (!e || !t || 1 !== t.nodeType) return !1;
            var n = t.matches || t.webkitMatchesSelector || t.mozMatchesSelector || t.oMatchesSelector || t.matchesSelector;
            if (n) return n.call(t, e);
            var r, i = t.parentNode,
                o = !i;
            return o && (i = A).appendChild(t), r = ~N.qsa(i, e).indexOf(t), o && A.removeChild(t), r
        }, O = function (t) {
            return t.replace(/-+(.)?/g, function (t, e) {
                return e ? e.toUpperCase() : ""
            })
        }, P = function (t) {
            return a.call(t, function (e, n) {
                return t.indexOf(e) == n
            })
        }, N.fragment = function (t, n, i) {
            var o, s, a;
            return d.test(t) && (o = r(f.createElement(RegExp.$1))), o || (t.replace && (t = t.replace(m, "<$1></$2>")), n === e && (n = p.test(t) && RegExp.$1), n in j || (n = "*"), a = j[n], a.innerHTML = "" + t, o = r.each(u.call(a.childNodes), function () {
                a.removeChild(this)
            })), Z(i) && (s = r(o), r.each(i, function (t, e) {
                y.indexOf(t) > -1 ? s[t](e) : s.attr(t, e)
            })), o
        }, N.Z = function (t, e) {
            return new X(t, e)
        }, N.isZ = function (t) {
            return t instanceof N.Z
        }, N.init = function (t, n) {
            var i;
            if (!t) return N.Z();
            if ("string" == typeof t)
                if (t = t.trim(), "<" == t[0] && p.test(t)) i = N.fragment(t, RegExp.$1, n), t = null;
                else {
                    if (n !== e) return r(n).find(t);
                    i = N.qsa(f, t)
                }
            else {
                if (F(t)) return r(f).ready(t);
                if (N.isZ(t)) return t;
                if (L(t)) i = q(t);
                else if (R(t)) i = [t], t = null;
                else if (p.test(t)) i = N.fragment(t.trim(), RegExp.$1, n), t = null;
                else {
                    if (n !== e) return r(n).find(t);
                    i = N.qsa(f, t)
                }
            }
            return N.Z(i, t)
        }, r = function (t, e) {
            return N.init(t, e)
        }, r.extend = function (t) {
            var e, n = u.call(arguments, 1);
            return "boolean" == typeof t && (e = t, t = n.shift()), n.forEach(function (n) {
                J(t, n, e)
            }), t
        }, N.qsa = function (t, e) {
            var n, r = "#" == e[0],
                i = !r && "." == e[0],
                o = r || i ? e.slice(1) : e,
                s = T.test(o);
            return t.getElementById && s && r ? (n = t.getElementById(o)) ? [n] : [] : 1 !== t.nodeType && 9 !== t.nodeType && 11 !== t.nodeType ? [] : u.call(s && !r && t.getElementsByClassName ? i ? t.getElementsByClassName(o) : t.getElementsByTagName(e) : t.querySelectorAll(e))
        }, r.contains = f.documentElement.contains ? function (t, e) {
            return t !== e && t.contains(e)
        } : function (t, e) {
            for (; e && (e = e.parentNode);)
                if (e === t) return !0;
            return !1
        }, r.type = $, r.isFunction = F, r.isWindow = k, r.isArray = L, r.isPlainObject = Z, r.isEmptyObject = function (t) {
            var e;
            for (e in t) return !1;
            return !0
        }, r.isNumeric = function (t) {
            var e = Number(t),
                n = typeof t;
            return null != t && "boolean" != n && ("string" != n || t.length) && !isNaN(e) && isFinite(e) || !1
        }, r.inArray = function (t, e, n) {
            return o.indexOf.call(e, t, n)
        }, r.camelCase = O, r.trim = function (t) {
            return null == t ? "" : String.prototype.trim.call(t)
        }, r.uuid = 0, r.support = {}, r.expr = {}, r.noop = function () {}, r.map = function (t, e) {
            var n, i, o, r = [];
            if (z(t))
                for (i = 0; i < t.length; i++) n = e(t[i], i), null != n && r.push(n);
            else
                for (o in t) n = e(t[o], o), null != n && r.push(n);
            return H(r)
        }, r.each = function (t, e) {
            var n, r;
            if (z(t)) {
                for (n = 0; n < t.length; n++)
                    if (e.call(t[n], n, t[n]) === !1) return t
            } else
                for (r in t)
                    if (e.call(t[r], r, t[r]) === !1) return t;
            return t
        }, r.grep = function (t, e) {
            return a.call(t, e)
        }, t.JSON && (r.parseJSON = JSON.parse), r.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function (t, e) {
            S["[object " + e + "]"] = e.toLowerCase()
        }), r.fn = {
            constructor: N.Z,
            length: 0,
            forEach: o.forEach,
            reduce: o.reduce,
            push: o.push,
            sort: o.sort,
            splice: o.splice,
            indexOf: o.indexOf,
            concat: function () {
                var t, e, n = [];
                for (t = 0; t < arguments.length; t++) e = arguments[t], n[t] = N.isZ(e) ? e.toArray() : e;
                return s.apply(N.isZ(this) ? this.toArray() : this, n)
            },
            map: function (t) {
                return r(r.map(this, function (e, n) {
                    return t.call(e, n, e)
                }))
            },
            slice: function () {
                return r(u.apply(this, arguments))
            },
            ready: function (t) {
                return w.test(f.readyState) && f.body ? t(r) : f.addEventListener("DOMContentLoaded", function () {
                    t(r)
                }, !1), this
            },
            get: function (t) {
                return t === e ? u.call(this) : this[t >= 0 ? t : t + this.length]
            },
            toArray: function () {
                return this.get()
            },
            size: function () {
                return this.length
            },
            remove: function () {
                return this.each(function () {
                    null != this.parentNode && this.parentNode.removeChild(this)
                })
            },
            each: function (t) {
                return o.every.call(this, function (e, n) {
                    return t.call(e, n, e) !== !1
                }), this
            },
            filter: function (t) {
                return F(t) ? this.not(this.not(t)) : r(a.call(this, function (e) {
                    return N.matches(e, t)
                }))
            },
            add: function (t, e) {
                return r(P(this.concat(r(t, e))))
            },
            is: function (t) {
                return this.length > 0 && N.matches(this[0], t)
            },
            not: function (t) {
                var n = [];
                if (F(t) && t.call !== e) this.each(function (e) {
                    t.call(this, e) || n.push(this)
                });
                else {
                    var i = "string" == typeof t ? this.filter(t) : z(t) && F(t.item) ? u.call(t) : r(t);
                    this.forEach(function (t) {
                        i.indexOf(t) < 0 && n.push(t)
                    })
                }
                return r(n)
            },
            has: function (t) {
                return this.filter(function () {
                    return R(t) ? r.contains(this, t) : r(this).find(t).size()
                })
            },
            eq: function (t) {
                return -1 === t ? this.slice(t) : this.slice(t, +t + 1)
            },
            first: function () {
                var t = this[0];
                return t && !R(t) ? t : r(t)
            },
            last: function () {
                var t = this[this.length - 1];
                return t && !R(t) ? t : r(t)
            },
            find: function (t) {
                var e, n = this;
                return e = t ? "object" == typeof t ? r(t).filter(function () {
                    var t = this;
                    return o.some.call(n, function (e) {
                        return r.contains(e, t)
                    })
                }) : 1 == this.length ? r(N.qsa(this[0], t)) : this.map(function () {
                    return N.qsa(this, t)
                }) : r()
            },
            closest: function (t, e) {
                var n = [],
                    i = "object" == typeof t && r(t);
                return this.each(function (r, o) {
                    for (; o && !(i ? i.indexOf(o) >= 0 : N.matches(o, t));) o = o !== e && !M(o) && o.parentNode;
                    o && n.indexOf(o) < 0 && n.push(o)
                }), r(n)
            },
            parents: function (t) {
                for (var e = [], n = this; n.length > 0;) n = r.map(n, function (t) {
                    return (t = t.parentNode) && !M(t) && e.indexOf(t) < 0 ? (e.push(t), t) : void 0
                });
                return W(e, t)
            },
            parent: function (t) {
                return W(P(this.pluck("parentNode")), t)
            },
            children: function (t) {
                return W(this.map(function () {
                    return U(this)
                }), t)
            },
            contents: function () {
                return this.map(function () {
                    return this.contentDocument || u.call(this.childNodes)
                })
            },
            siblings: function (t) {
                return W(this.map(function (t, e) {
                    return a.call(U(e.parentNode), function (t) {
                        return t !== e
                    })
                }), t)
            },
            empty: function () {
                return this.each(function () {
                    this.innerHTML = ""
                })
            },
            pluck: function (t) {
                return r.map(this, function (e) {
                    return e[t]
                })
            },
            show: function () {
                return this.each(function () {
                    "none" == this.style.display && (this.style.display = ""), "none" == getComputedStyle(this, "").getPropertyValue("display") && (this.style.display = B(this.nodeName))
                })
            },
            replaceWith: function (t) {
                return this.before(t).remove()
            },
            wrap: function (t) {
                var e = F(t);
                if (this[0] && !e) var n = r(t).get(0),
                    i = n.parentNode || this.length > 1;
                return this.each(function (o) {
                    r(this).wrapAll(e ? t.call(this, o) : i ? n.cloneNode(!0) : n)
                })
            },
            wrapAll: function (t) {
                if (this[0]) {
                    r(this[0]).before(t = r(t));
                    for (var e;
                        (e = t.children()).length;) t = e.first();
                    r(t).append(this)
                }
                return this
            },
            wrapInner: function (t) {
                var e = F(t);
                return this.each(function (n) {
                    var i = r(this),
                        o = i.contents(),
                        s = e ? t.call(this, n) : t;
                    o.length ? o.wrapAll(s) : i.append(s)
                })
            },
            unwrap: function () {
                return this.parent().each(function () {
                    r(this).replaceWith(r(this).children())
                }), this
            },
            clone: function () {
                return this.map(function () {
                    return this.cloneNode(!0)
                })
            },
            hide: function () {
                return this.css("display", "none")
            },
            toggle: function (t) {
                return this.each(function () {
                    var n = r(this);
                    (t === e ? "none" == n.css("display") : t) ? n.show(): n.hide()
                })
            },
            prev: function (t) {
                return r(this.pluck("previousElementSibling")).filter(t || "*")
            },
            next: function (t) {
                return r(this.pluck("nextElementSibling")).filter(t || "*")
            },
            html: function (t) {
                return 0 in arguments ? this.each(function (e) {
                    var n = this.innerHTML;
                    r(this).empty().append(Y(this, t, e, n))
                }) : 0 in this ? this[0].innerHTML : null
            },
            text: function (t) {
                return 0 in arguments ? this.each(function (e) {
                    var n = Y(this, t, e, this.textContent);
                    this.textContent = null == n ? "" : "" + n
                }) : 0 in this ? this.pluck("textContent").join("") : null
            },
            attr: function (t, r) {
                var i;
                return "string" != typeof t || 1 in arguments ? this.each(function (e) {
                    if (1 === this.nodeType)
                        if (R(t))
                            for (n in t) G(this, n, t[n]);
                        else G(this, t, Y(this, r, e, this.getAttribute(t)))
                }) : 0 in this && 1 == this[0].nodeType && null != (i = this[0].getAttribute(t)) ? i : e
            },
            removeAttr: function (t) {
                return this.each(function () {
                    1 === this.nodeType && t.split(" ").forEach(function (t) {
                        G(this, t)
                    }, this)
                })
            },
            prop: function (t, e) {
                return t = D[t] || t, 1 in arguments ? this.each(function (n) {
                    this[t] = Y(this, e, n, this[t])
                }) : this[0] && this[0][t]
            },
            removeProp: function (t) {
                return t = D[t] || t, this.each(function () {
                    delete this[t]
                })
            },
            data: function (t, n) {
                var r = "data-" + t.replace(v, "-$1").toLowerCase(),
                    i = 1 in arguments ? this.attr(r, n) : this.attr(r);
                return null !== i ? Q(i) : e
            },
            val: function (t) {
                return 0 in arguments ? (null == t && (t = ""), this.each(function (e) {
                    this.value = Y(this, t, e, this.value)
                })) : this[0] && (this[0].multiple ? r(this[0]).find("option").filter(function () {
                    return this.selected
                }).pluck("value") : this[0].value)
            },
            offset: function (e) {
                if (e) return this.each(function (t) {
                    var n = r(this),
                        i = Y(this, e, t, n.offset()),
                        o = n.offsetParent().offset(),
                        s = {
                            top: i.top - o.top,
                            left: i.left - o.left
                        };
                    "static" == n.css("position") && (s.position = "relative"), n.css(s)
                });
                if (!this.length) return null;
                if (f.documentElement !== this[0] && !r.contains(f.documentElement, this[0])) return {
                    top: 0,
                    left: 0
                };
                var n = this[0].getBoundingClientRect();
                return {
                    left: n.left + t.pageXOffset,
                    top: n.top + t.pageYOffset,
                    width: Math.round(n.width),
                    height: Math.round(n.height)
                }
            },
            css: function (t, e) {
                if (arguments.length < 2) {
                    var i = this[0];
                    if ("string" == typeof t) {
                        if (!i) return;
                        return i.style[O(t)] || getComputedStyle(i, "").getPropertyValue(t)
                    }
                    if (L(t)) {
                        if (!i) return;
                        var o = {},
                            s = getComputedStyle(i, "");
                        return r.each(t, function (t, e) {
                            o[e] = i.style[O(e)] || s.getPropertyValue(e)
                        }), o
                    }
                }
                var a = "";
                if ("string" == $(t)) e || 0 === e ? a = I(t) + ":" + _(t, e) : this.each(function () {
                    this.style.removeProperty(I(t))
                });
                else
                    for (n in t) t[n] || 0 === t[n] ? a += I(n) + ":" + _(n, t[n]) + ";" : this.each(function () {
                        this.style.removeProperty(I(n))
                    });
                return this.each(function () {
                    this.style.cssText += ";" + a
                })
            },
            index: function (t) {
                return t ? this.indexOf(r(t)[0]) : this.parent().children().indexOf(this[0])
            },
            hasClass: function (t) {
                return t ? o.some.call(this, function (t) {
                    return this.test(K(t))
                }, V(t)) : !1
            },
            addClass: function (t) {
                return t ? this.each(function (e) {
                    if ("className" in this) {
                        i = [];
                        var n = K(this),
                            o = Y(this, t, e, n);
                        o.split(/\s+/g).forEach(function (t) {
                            r(this).hasClass(t) || i.push(t)
                        }, this), i.length && K(this, n + (n ? " " : "") + i.join(" "))
                    }
                }) : this
            },
            removeClass: function (t) {
                return this.each(function (n) {
                    if ("className" in this) {
                        if (t === e) return K(this, "");
                        i = K(this), Y(this, t, n, i).split(/\s+/g).forEach(function (t) {
                            i = i.replace(V(t), " ")
                        }), K(this, i.trim())
                    }
                })
            },
            toggleClass: function (t, n) {
                return t ? this.each(function (i) {
                    var o = r(this),
                        s = Y(this, t, i, K(this));
                    s.split(/\s+/g).forEach(function (t) {
                        (n === e ? !o.hasClass(t) : n) ? o.addClass(t): o.removeClass(t)
                    })
                }) : this
            },
            scrollTop: function (t) {
                if (this.length) {
                    var n = "scrollTop" in this[0];
                    return t === e ? n ? this[0].scrollTop : this[0].pageYOffset : this.each(n ? function () {
                        this.scrollTop = t
                    } : function () {
                        this.scrollTo(this.scrollX, t)
                    })
                }
            },
            scrollLeft: function (t) {
                if (this.length) {
                    var n = "scrollLeft" in this[0];
                    return t === e ? n ? this[0].scrollLeft : this[0].pageXOffset : this.each(n ? function () {
                        this.scrollLeft = t
                    } : function () {
                        this.scrollTo(t, this.scrollY)
                    })
                }
            },
            position: function () {
                if (this.length) {
                    var t = this[0],
                        e = this.offsetParent(),
                        n = this.offset(),
                        i = g.test(e[0].nodeName) ? {
                            top: 0,
                            left: 0
                        } : e.offset();
                    return n.top -= parseFloat(r(t).css("margin-top")) || 0, n.left -= parseFloat(r(t).css("margin-left")) || 0, i.top += parseFloat(r(e[0]).css("border-top-width")) || 0, i.left += parseFloat(r(e[0]).css("border-left-width")) || 0, {
                        top: n.top - i.top,
                        left: n.left - i.left
                    }
                }
            },
            offsetParent: function () {
                return this.map(function () {
                    for (var t = this.offsetParent || f.body; t && !g.test(t.nodeName) && "static" == r(t).css("position");) t = t.offsetParent;
                    return t
                })
            }
        }, r.fn.detach = r.fn.remove, ["width", "height"].forEach(function (t) {
            var n = t.replace(/./, function (t) {
                return t[0].toUpperCase()
            });
            r.fn[t] = function (i) {
                var o, s = this[0];
                return i === e ? k(s) ? s["inner" + n] : M(s) ? s.documentElement["scroll" + n] : (o = this.offset()) && o[t] : this.each(function (e) {
                    s = r(this), s.css(t, Y(this, i, e, s[t]()))
                })
            }
        }), x.forEach(function (n, i) {
            var o = i % 2;
            r.fn[n] = function () {
                var n, a, s = r.map(arguments, function (t) {
                        var i = [];
                        return n = $(t), "array" == n ? (t.forEach(function (t) {
                            return t.nodeType !== e ? i.push(t) : r.zepto.isZ(t) ? i = i.concat(t.get()) : void(i = i.concat(N.fragment(t)))
                        }), i) : "object" == n || null == t ? t : N.fragment(t)
                    }),
                    u = this.length > 1;
                return s.length < 1 ? this : this.each(function (e, n) {
                    a = o ? n : n.parentNode, n = 0 == i ? n.nextSibling : 1 == i ? n.firstChild : 2 == i ? n : null;
                    var c = r.contains(f.documentElement, a);
                    s.forEach(function (e) {
                        if (u) e = e.cloneNode(!0);
                        else if (!a) return r(e).remove();
                        a.insertBefore(e, n), c && tt(e, function (e) {
                            if (!(null == e.nodeName || "SCRIPT" !== e.nodeName.toUpperCase() || e.type && "text/javascript" !== e.type || e.src)) {
                                var n = e.ownerDocument ? e.ownerDocument.defaultView : t;
                                n.eval.call(n, e.innerHTML)
                            }
                        })
                    })
                })
            }, r.fn[o ? n + "To" : "insert" + (i ? "Before" : "After")] = function (t) {
                return r(t)[n](this), this
            }
        }), N.Z.prototype = X.prototype = r.fn, N.uniq = P, N.deserializeValue = Q, r.zepto = N, r
    }();
    return t.Zepto = e, void 0 === t.$ && (t.$ = e),
        function (e) {
            function h(t) {
                return t._zid || (t._zid = n++)
            }

            function p(t, e, n, r) {
                if (e = d(e), e.ns) var i = m(e.ns);
                return (a[h(t)] || []).filter(function (t) {
                    return t && (!e.e || t.e == e.e) && (!e.ns || i.test(t.ns)) && (!n || h(t.fn) === h(n)) && (!r || t.sel == r)
                })
            }

            function d(t) {
                var e = ("" + t).split(".");
                return {
                    e: e[0],
                    ns: e.slice(1).sort().join(" ")
                }
            }

            function m(t) {
                return new RegExp("(?:^| )" + t.replace(" ", " .* ?") + "(?: |$)")
            }

            function g(t, e) {
                return t.del && !f && t.e in c || !!e
            }

            function v(t) {
                return l[t] || f && c[t] || t
            }

            function y(t, n, i, o, s, u, f) {
                var c = h(t),
                    p = a[c] || (a[c] = []);
                n.split(/\s/).forEach(function (n) {
                    if ("ready" == n) return e(document).ready(i);
                    var a = d(n);
                    a.fn = i, a.sel = s, a.e in l && (i = function (t) {
                        var n = t.relatedTarget;
                        return !n || n !== this && !e.contains(this, n) ? a.fn.apply(this, arguments) : void 0
                    }), a.del = u;
                    var c = u || i;
                    a.proxy = function (e) {
                        if (e = T(e), !e.isImmediatePropagationStopped()) {
                            e.data = o;
                            var n = c.apply(t, e._args == r ? [e] : [e].concat(e._args));
                            return n === !1 && (e.preventDefault(), e.stopPropagation()), n
                        }
                    }, a.i = p.length, p.push(a), "addEventListener" in t && t.addEventListener(v(a.e), a.proxy, g(a, f))
                })
            }

            function x(t, e, n, r, i) {
                var o = h(t);
                (e || "").split(/\s/).forEach(function (e) {
                    p(t, e, n, r).forEach(function (e) {
                        delete a[o][e.i], "removeEventListener" in t && t.removeEventListener(v(e.e), e.proxy, g(e, i))
                    })
                })
            }

            function T(t, n) {
                return (n || !t.isDefaultPrevented) && (n || (n = t), e.each(w, function (e, r) {
                    var i = n[e];
                    t[e] = function () {
                        return this[r] = b, i && i.apply(n, arguments)
                    }, t[r] = E
                }), t.timeStamp || (t.timeStamp = Date.now()), (n.defaultPrevented !== r ? n.defaultPrevented : "returnValue" in n ? n.returnValue === !1 : n.getPreventDefault && n.getPreventDefault()) && (t.isDefaultPrevented = b)), t
            }

            function S(t) {
                var e, n = {
                    originalEvent: t
                };
                for (e in t) j.test(e) || t[e] === r || (n[e] = t[e]);
                return T(n, t)
            }
            var r, n = 1,
                i = Array.prototype.slice,
                o = e.isFunction,
                s = function (t) {
                    return "string" == typeof t
                },
                a = {},
                u = {},
                f = "onfocusin" in t,
                c = {
                    focus: "focusin",
                    blur: "focusout"
                },
                l = {
                    mouseenter: "mouseover",
                    mouseleave: "mouseout"
                };
            u.click = u.mousedown = u.mouseup = u.mousemove = "MouseEvents", e.event = {
                add: y,
                remove: x
            }, e.proxy = function (t, n) {
                var r = 2 in arguments && i.call(arguments, 2);
                if (o(t)) {
                    var a = function () {
                        return t.apply(n, r ? r.concat(i.call(arguments)) : arguments)
                    };
                    return a._zid = h(t), a
                }
                if (s(n)) return r ? (r.unshift(t[n], t), e.proxy.apply(null, r)) : e.proxy(t[n], t);
                throw new TypeError("expected function")
            }, e.fn.bind = function (t, e, n) {
                return this.on(t, e, n)
            }, e.fn.unbind = function (t, e) {
                return this.off(t, e)
            }, e.fn.one = function (t, e, n, r) {
                return this.on(t, e, n, r, 1)
            };
            var b = function () {
                    return !0
                },
                E = function () {
                    return !1
                },
                j = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,
                w = {
                    preventDefault: "isDefaultPrevented",
                    stopImmediatePropagation: "isImmediatePropagationStopped",
                    stopPropagation: "isPropagationStopped"
                };
            e.fn.delegate = function (t, e, n) {
                return this.on(e, t, n)
            }, e.fn.undelegate = function (t, e, n) {
                return this.off(e, t, n)
            }, e.fn.live = function (t, n) {
                return e(document.body).delegate(this.selector, t, n), this
            }, e.fn.die = function (t, n) {
                return e(document.body).undelegate(this.selector, t, n), this
            }, e.fn.on = function (t, n, a, u, f) {
                var c, l, h = this;
                return t && !s(t) ? (e.each(t, function (t, e) {
                    h.on(t, n, a, e, f)
                }), h) : (s(n) || o(u) || u === !1 || (u = a, a = n, n = r), (u === r || a === !1) && (u = a, a = r), u === !1 && (u = E), h.each(function (r, o) {
                    f && (c = function (t) {
                        return x(o, t.type, u), u.apply(this, arguments)
                    }), n && (l = function (t) {
                        var r, s = e(t.target).closest(n, o).get(0);
                        return s && s !== o ? (r = e.extend(S(t), {
                            currentTarget: s,
                            liveFired: o
                        }), (c || u).apply(s, [r].concat(i.call(arguments, 1)))) : void 0
                    }), y(o, t, u, a, n, l || c)
                }))
            }, e.fn.off = function (t, n, i) {
                var a = this;
                return t && !s(t) ? (e.each(t, function (t, e) {
                    a.off(t, n, e)
                }), a) : (s(n) || o(i) || i === !1 || (i = n, n = r), i === !1 && (i = E), a.each(function () {
                    x(this, t, i, n)
                }))
            }, e.fn.trigger = function (t, n) {
                return t = s(t) || e.isPlainObject(t) ? e.Event(t) : T(t), t._args = n, this.each(function () {
                    t.type in c && "function" == typeof this[t.type] ? this[t.type]() : "dispatchEvent" in this ? this.dispatchEvent(t) : e(this).triggerHandler(t, n)
                })
            }, e.fn.triggerHandler = function (t, n) {
                var r, i;
                return this.each(function (o, a) {
                    r = S(s(t) ? e.Event(t) : t), r._args = n, r.target = a, e.each(p(a, t.type || t), function (t, e) {
                        return i = e.proxy(r), r.isImmediatePropagationStopped() ? !1 : void 0
                    })
                }), i
            }, "focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function (t) {
                e.fn[t] = function (e) {
                    return 0 in arguments ? this.bind(t, e) : this.trigger(t)
                }
            }), e.Event = function (t, e) {
                s(t) || (e = t, t = e.type);
                var n = document.createEvent(u[t] || "Events"),
                    r = !0;
                if (e)
                    for (var i in e) "bubbles" == i ? r = !!e[i] : n[i] = e[i];
                return n.initEvent(t, r, !0), T(n)
            }
        }(e),
        function (e) {
            function p(t, n, r) {
                var i = e.Event(n);
                return e(t).trigger(i, r), !i.isDefaultPrevented()
            }

            function d(t, e, n, i) {
                return t.global ? p(e || r, n, i) : void 0
            }

            function m(t) {
                t.global && 0 === e.active++ && d(t, null, "ajaxStart")
            }

            function g(t) {
                t.global && !--e.active && d(t, null, "ajaxStop")
            }

            function v(t, e) {
                var n = e.context;
                return e.beforeSend.call(n, t, e) === !1 || d(e, n, "ajaxBeforeSend", [t, e]) === !1 ? !1 : void d(e, n, "ajaxSend", [t, e])
            }

            function y(t, e, n, r) {
                var i = n.context,
                    o = "success";
                n.success.call(i, t, o, e), r && r.resolveWith(i, [t, o, e]), d(n, i, "ajaxSuccess", [e, n, t]), b(o, e, n)
            }

            function x(t, e, n, r, i) {
                var o = r.context;
                r.error.call(o, n, e, t), i && i.rejectWith(o, [n, e, t]), d(r, o, "ajaxError", [n, r, t || e]), b(e, n, r)
            }

            function b(t, e, n) {
                var r = n.context;
                n.complete.call(r, e, t), d(n, r, "ajaxComplete", [e, n]), g(n)
            }

            function E(t, e, n) {
                if (n.dataFilter == j) return t;
                var r = n.context;
                return n.dataFilter.call(r, t, e)
            }

            function j() {}

            function w(t) {
                return t && (t = t.split(";", 2)[0]), t && (t == c ? "html" : t == f ? "json" : a.test(t) ? "script" : u.test(t) && "xml") || "text"
            }

            function T(t, e) {
                return "" == e ? t : (t + "&" + e).replace(/[&?]{1,2}/, "?")
            }

            function S(t) {
                t.processData && t.data && "string" != e.type(t.data) && (t.data = e.param(t.data, t.traditional)), !t.data || t.type && "GET" != t.type.toUpperCase() && "jsonp" != t.dataType || (t.url = T(t.url, t.data), t.data = void 0)
            }

            function C(t, n, r, i) {
                return e.isFunction(n) && (i = r, r = n, n = void 0), e.isFunction(r) || (i = r, r = void 0), {
                    url: t,
                    data: n,
                    success: r,
                    dataType: i
                }
            }

            function O(t, n, r, i) {
                var o, s = e.isArray(n),
                    a = e.isPlainObject(n);
                e.each(n, function (n, u) {
                    o = e.type(u), i && (n = r ? i : i + "[" + (a || "object" == o || "array" == o ? n : "") + "]"), !i && s ? t.add(u.name, u.value) : "array" == o || !r && "object" == o ? O(t, u, r, n) : t.add(n, u)
                })
            }
            var i, o, n = +new Date,
                r = t.document,
                s = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
                a = /^(?:text|application)\/javascript/i,
                u = /^(?:text|application)\/xml/i,
                f = "application/json",
                c = "text/html",
                l = /^\s*$/,
                h = r.createElement("a");
            h.href = t.location.href, e.active = 0, e.ajaxJSONP = function (i, o) {
                if (!("type" in i)) return e.ajax(i);
                var c, p, s = i.jsonpCallback,
                    a = (e.isFunction(s) ? s() : s) || "Zepto" + n++,
                    u = r.createElement("script"),
                    f = t[a],
                    l = function (t) {
                        e(u).triggerHandler("error", t || "abort")
                    },
                    h = {
                        abort: l
                    };
                return o && o.promise(h), e(u).on("load error", function (n, r) {
                    clearTimeout(p), e(u).off().remove(), "error" != n.type && c ? y(c[0], h, i, o) : x(null, r || "error", h, i, o), t[a] = f, c && e.isFunction(f) && f(c[0]), f = c = void 0
                }), v(h, i) === !1 ? (l("abort"), h) : (t[a] = function () {
                    c = arguments
                }, u.src = i.url.replace(/\?(.+)=\?/, "?$1=" + a), r.head.appendChild(u), i.timeout > 0 && (p = setTimeout(function () {
                    l("timeout")
                }, i.timeout)), h)
            }, e.ajaxSettings = {
                type: "GET",
                beforeSend: j,
                success: j,
                error: j,
                complete: j,
                context: null,
                global: !0,
                xhr: function () {
                    return new t.XMLHttpRequest
                },
                accepts: {
                    script: "text/javascript, application/javascript, application/x-javascript",
                    json: f,
                    xml: "application/xml, text/xml",
                    html: c,
                    text: "text/plain"
                },
                crossDomain: !1,
                timeout: 0,
                processData: !0,
                cache: !0,
                dataFilter: j
            }, e.ajax = function (n) {
                var u, f, s = e.extend({}, n || {}),
                    a = e.Deferred && e.Deferred();
                for (i in e.ajaxSettings) void 0 === s[i] && (s[i] = e.ajaxSettings[i]);
                m(s), s.crossDomain || (u = r.createElement("a"), u.href = s.url, u.href = u.href, s.crossDomain = h.protocol + "//" + h.host != u.protocol + "//" + u.host), s.url || (s.url = t.location.toString()), (f = s.url.indexOf("#")) > -1 && (s.url = s.url.slice(0, f)), S(s);
                var c = s.dataType,
                    p = /\?.+=\?/.test(s.url);
                if (p && (c = "jsonp"), s.cache !== !1 && (n && n.cache === !0 || "script" != c && "jsonp" != c) || (s.url = T(s.url, "_=" + Date.now())), "jsonp" == c) return p || (s.url = T(s.url, s.jsonp ? s.jsonp + "=?" : s.jsonp === !1 ? "" : "callback=?")), e.ajaxJSONP(s, a);
                var P, d = s.accepts[c],
                    g = {},
                    b = function (t, e) {
                        g[t.toLowerCase()] = [t, e]
                    },
                    C = /^([\w-]+:)\/\//.test(s.url) ? RegExp.$1 : t.location.protocol,
                    N = s.xhr(),
                    O = N.setRequestHeader;
                if (a && a.promise(N), s.crossDomain || b("X-Requested-With", "XMLHttpRequest"), b("Accept", d || "*/*"), (d = s.mimeType || d) && (d.indexOf(",") > -1 && (d = d.split(",", 2)[0]), N.overrideMimeType && N.overrideMimeType(d)), (s.contentType || s.contentType !== !1 && s.data && "GET" != s.type.toUpperCase()) && b("Content-Type", s.contentType || "application/x-www-form-urlencoded"), s.headers)
                    for (o in s.headers) b(o, s.headers[o]);
                if (N.setRequestHeader = b, N.onreadystatechange = function () {
                        if (4 == N.readyState) {
                            N.onreadystatechange = j, clearTimeout(P);
                            var t, n = !1;
                            if (N.status >= 200 && N.status < 300 || 304 == N.status || 0 == N.status && "file:" == C) {
                                if (c = c || w(s.mimeType || N.getResponseHeader("content-type")), "arraybuffer" == N.responseType || "blob" == N.responseType) t = N.response;
                                else {
                                    t = N.responseText;
                                    try {
                                        t = E(t, c, s), "script" == c ? (1, eval)(t) : "xml" == c ? t = N.responseXML : "json" == c && (t = l.test(t) ? null : e.parseJSON(t))
                                    } catch (r) {
                                        n = r
                                    }
                                    if (n) return x(n, "parsererror", N, s, a)
                                }
                                y(t, N, s, a)
                            } else x(N.statusText || null, N.status ? "error" : "abort", N, s, a)
                        }
                    }, v(N, s) === !1) return N.abort(), x(null, "abort", N, s, a), N;
                var A = "async" in s ? s.async : !0;
                if (N.open(s.type, s.url, A, s.username, s.password), s.xhrFields)
                    for (o in s.xhrFields) N[o] = s.xhrFields[o];
                for (o in g) O.apply(N, g[o]);
                return s.timeout > 0 && (P = setTimeout(function () {
                    N.onreadystatechange = j, N.abort(), x(null, "timeout", N, s, a)
                }, s.timeout)), N.send(s.data ? s.data : null), N
            }, e.get = function () {
                return e.ajax(C.apply(null, arguments))
            }, e.post = function () {
                var t = C.apply(null, arguments);
                return t.type = "POST", e.ajax(t)
            }, e.getJSON = function () {
                var t = C.apply(null, arguments);
                return t.dataType = "json", e.ajax(t)
            }, e.fn.load = function (t, n, r) {
                if (!this.length) return this;
                var a, i = this,
                    o = t.split(/\s/),
                    u = C(t, n, r),
                    f = u.success;
                return o.length > 1 && (u.url = o[0], a = o[1]), u.success = function (t) {
                    i.html(a ? e("<div>").html(t.replace(s, "")).find(a) : t), f && f.apply(i, arguments)
                }, e.ajax(u), this
            };
            var N = encodeURIComponent;
            e.param = function (t, n) {
                var r = [];
                return r.add = function (t, n) {
                    e.isFunction(n) && (n = n()), null == n && (n = ""), this.push(N(t) + "=" + N(n))
                }, O(r, t, n), r.join("&").replace(/%20/g, "+")
            }
        }(e),
        function (t) {
            t.fn.serializeArray = function () {
                var e, n, r = [],
                    i = function (t) {
                        return t.forEach ? t.forEach(i) : void r.push({
                            name: e,
                            value: t
                        })
                    };
                return this[0] && t.each(this[0].elements, function (r, o) {
                    n = o.type, e = o.name, e && "fieldset" != o.nodeName.toLowerCase() && !o.disabled && "submit" != n && "reset" != n && "button" != n && "file" != n && ("radio" != n && "checkbox" != n || o.checked) && i(t(o).val())
                }), r
            }, t.fn.serialize = function () {
                var t = [];
                return this.serializeArray().forEach(function (e) {
                    t.push(encodeURIComponent(e.name) + "=" + encodeURIComponent(e.value))
                }), t.join("&")
            }, t.fn.submit = function (e) {
                if (0 in arguments) this.bind("submit", e);
                else if (this.length) {
                    var n = t.Event("submit");
                    this.eq(0).trigger(n), n.isDefaultPrevented() || this.get(0).submit()
                }
                return this
            }
        }(e),
        function () {
            try {
                getComputedStyle(void 0)
            } catch (e) {
                var n = getComputedStyle;
                t.getComputedStyle = function (t, e) {
                    try {
                        return n(t, e)
                    } catch (r) {
                        return null
                    }
                }
            }
        }(), e
});
var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function () {
        "use strict";
        _gsScope._gsDefine("TweenMax", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function (a, b, c) {
                var d = function (a) {
                        var b, c = [],
                            d = a.length;
                        for (b = 0; b !== d; c.push(a[b++]));
                        return c
                    },
                    e = function (a, b, c) {
                        var d, e, f = a.cycle;
                        for (d in f) e = f[d], a[d] = "function" == typeof e ? e(c, b[c]) : e[c % e.length];
                        delete a.cycle
                    },
                    f = function (a, b, d) {
                        c.call(this, a, b, d), this._cycle = 0, this._yoyo = this.vars.yoyo === !0 || !!this.vars.yoyoEase, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._repeat && this._uncache(!0), this.render = f.prototype.render
                    },
                    g = 1e-10,
                    h = c._internals,
                    i = h.isSelector,
                    j = h.isArray,
                    k = f.prototype = c.to({}, .1, {}),
                    l = [];
                f.version = "1.20.3", k.constructor = f, k.kill()._gc = !1, f.killTweensOf = f.killDelayedCallsTo = c.killTweensOf, f.getTweensOf = c.getTweensOf, f.lagSmoothing = c.lagSmoothing, f.ticker = c.ticker, f.render = c.render, k.invalidate = function () {
                    return this._yoyo = this.vars.yoyo === !0 || !!this.vars.yoyoEase, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._yoyoEase = null, this._uncache(!0), c.prototype.invalidate.call(this)
                }, k.updateTo = function (a, b) {
                    var d, e = this.ratio,
                        f = this.vars.immediateRender || a.immediateRender;
                    b && this._startTime < this._timeline._time && (this._startTime = this._timeline._time, this._uncache(!1), this._gc ? this._enabled(!0, !1) : this._timeline.insert(this, this._startTime - this._delay));
                    for (d in a) this.vars[d] = a[d];
                    if (this._initted || f)
                        if (b) this._initted = !1, f && this.render(0, !0, !0);
                        else if (this._gc && this._enabled(!0, !1), this._notifyPluginsOfEnabled && this._firstPT && c._onPluginEvent("_onDisable", this), this._time / this._duration > .998) {
                        var g = this._totalTime;
                        this.render(0, !0, !1), this._initted = !1, this.render(g, !0, !1)
                    } else if (this._initted = !1, this._init(), this._time > 0 || f)
                        for (var h, i = 1 / (1 - e), j = this._firstPT; j;) h = j.s + j.c, j.c *= i, j.s = h - j.c, j = j._next;
                    return this
                }, k.render = function (a, b, d) {
                    this._initted || 0 === this._duration && this.vars.repeat && this.invalidate();
                    var e, f, i, j, k, l, m, n, o, p = this._dirty ? this.totalDuration() : this._totalDuration,
                        q = this._time,
                        r = this._totalTime,
                        s = this._cycle,
                        t = this._duration,
                        u = this._rawPrevTime;
                    if (a >= p - 1e-7 && a >= 0 ? (this._totalTime = p, this._cycle = this._repeat, this._yoyo && 0 !== (1 & this._cycle) ? (this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0) : (this._time = t, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1), this._reversed || (e = !0, f = "onComplete", d = d || this._timeline.autoRemoveChildren), 0 === t && (this._initted || !this.vars.lazy || d) && (this._startTime === this._timeline._duration && (a = 0), (0 > u || 0 >= a && a >= -1e-7 || u === g && "isPause" !== this.data) && u !== a && (d = !0, u > g && (f = "onReverseComplete")), this._rawPrevTime = n = !b || a || u === a ? a : g)) : 1e-7 > a ? (this._totalTime = this._time = this._cycle = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== r || 0 === t && u > 0) && (f = "onReverseComplete", e = this._reversed), 0 > a && (this._active = !1, 0 === t && (this._initted || !this.vars.lazy || d) && (u >= 0 && (d = !0), this._rawPrevTime = n = !b || a || u === a ? a : g)), this._initted || (d = !0)) : (this._totalTime = this._time = a, 0 !== this._repeat && (j = t + this._repeatDelay, this._cycle = this._totalTime / j >> 0, 0 !== this._cycle && this._cycle === this._totalTime / j && a >= r && this._cycle--, this._time = this._totalTime - this._cycle * j, this._yoyo && 0 !== (1 & this._cycle) && (this._time = t - this._time, o = this._yoyoEase || this.vars.yoyoEase, o && (this._yoyoEase || (o !== !0 || this._initted ? this._yoyoEase = o = o === !0 ? this._ease : o instanceof Ease ? o : Ease.map[o] : (o = this.vars.ease, this._yoyoEase = o = o ? o instanceof Ease ? o : "function" == typeof o ? new Ease(o, this.vars.easeParams) : Ease.map[o] || c.defaultEase : c.defaultEase)), this.ratio = o ? 1 - o.getRatio((t - this._time) / t) : 0)), this._time > t ? this._time = t : this._time < 0 && (this._time = 0)), this._easeType && !o ? (k = this._time / t, l = this._easeType, m = this._easePower, (1 === l || 3 === l && k >= .5) && (k = 1 - k), 3 === l && (k *= 2), 1 === m ? k *= k : 2 === m ? k *= k * k : 3 === m ? k *= k * k * k : 4 === m && (k *= k * k * k * k), 1 === l ? this.ratio = 1 - k : 2 === l ? this.ratio = k : this._time / t < .5 ? this.ratio = k / 2 : this.ratio = 1 - k / 2) : o || (this.ratio = this._ease.getRatio(this._time / t))), q === this._time && !d && s === this._cycle) return void(r !== this._totalTime && this._onUpdate && (b || this._callback("onUpdate")));
                    if (!this._initted) {
                        if (this._init(), !this._initted || this._gc) return;
                        if (!d && this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration)) return this._time = q, this._totalTime = r, this._rawPrevTime = u, this._cycle = s, h.lazyTweens.push(this), void(this._lazy = [a, b]);
                        !this._time || e || o ? e && this._ease._calcEnd && !o && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1)) : this.ratio = this._ease.getRatio(this._time / t)
                    }
                    for (this._lazy !== !1 && (this._lazy = !1), this._active || !this._paused && this._time !== q && a >= 0 && (this._active = !0), 0 === r && (2 === this._initted && a > 0 && this._init(), this._startAt && (a >= 0 ? this._startAt.render(a, !0, d) : f || (f = "_dummyGS")), this.vars.onStart && (0 !== this._totalTime || 0 === t) && (b || this._callback("onStart"))), i = this._firstPT; i;) i.f ? i.t[i.p](i.c * this.ratio + i.s) : i.t[i.p] = i.c * this.ratio + i.s, i = i._next;
                    this._onUpdate && (0 > a && this._startAt && this._startTime && this._startAt.render(a, !0, d), b || (this._totalTime !== r || f) && this._callback("onUpdate")), this._cycle !== s && (b || this._gc || this.vars.onRepeat && this._callback("onRepeat")), f && (!this._gc || d) && (0 > a && this._startAt && !this._onUpdate && this._startTime && this._startAt.render(a, !0, d), e && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !b && this.vars[f] && this._callback(f), 0 === t && this._rawPrevTime === g && n !== g && (this._rawPrevTime = 0))
                }, f.to = function (a, b, c) {
                    return new f(a, b, c)
                }, f.from = function (a, b, c) {
                    return c.runBackwards = !0, c.immediateRender = 0 != c.immediateRender, new f(a, b, c)
                }, f.fromTo = function (a, b, c, d) {
                    return d.startAt = c, d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender, new f(a, b, d)
                }, f.staggerTo = f.allTo = function (a, b, g, h, k, m, n) {
                    h = h || 0;
                    var o, p, q, r, s = 0,
                        t = [],
                        u = function () {
                            g.onComplete && g.onComplete.apply(g.onCompleteScope || this, arguments), k.apply(n || g.callbackScope || this, m || l)
                        },
                        v = g.cycle,
                        w = g.startAt && g.startAt.cycle;
                    for (j(a) || ("string" == typeof a && (a = c.selector(a) || a), i(a) && (a = d(a))), a = a || [], 0 > h && (a = d(a), a.reverse(), h *= -1), o = a.length - 1, q = 0; o >= q; q++) {
                        p = {};
                        for (r in g) p[r] = g[r];
                        if (v && (e(p, a, q), null != p.duration && (b = p.duration, delete p.duration)), w) {
                            w = p.startAt = {};
                            for (r in g.startAt) w[r] = g.startAt[r];
                            e(p.startAt, a, q)
                        }
                        p.delay = s + (p.delay || 0), q === o && k && (p.onComplete = u), t[q] = new f(a[q], b, p), s += h
                    }
                    return t
                }, f.staggerFrom = f.allFrom = function (a, b, c, d, e, g, h) {
                    return c.runBackwards = !0, c.immediateRender = 0 != c.immediateRender, f.staggerTo(a, b, c, d, e, g, h)
                }, f.staggerFromTo = f.allFromTo = function (a, b, c, d, e, g, h, i) {
                    return d.startAt = c, d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender, f.staggerTo(a, b, d, e, g, h, i)
                }, f.delayedCall = function (a, b, c, d, e) {
                    return new f(b, 0, {
                        delay: a,
                        onComplete: b,
                        onCompleteParams: c,
                        callbackScope: d,
                        onReverseComplete: b,
                        onReverseCompleteParams: c,
                        immediateRender: !1,
                        useFrames: e,
                        overwrite: 0
                    })
                }, f.set = function (a, b) {
                    return new f(a, 0, b)
                }, f.isTweening = function (a) {
                    return c.getTweensOf(a, !0).length > 0
                };
                var m = function (a, b) {
                        for (var d = [], e = 0, f = a._first; f;) f instanceof c ? d[e++] = f : (b && (d[e++] = f), d = d.concat(m(f, b)), e = d.length), f = f._next;
                        return d
                    },
                    n = f.getAllTweens = function (b) {
                        return m(a._rootTimeline, b).concat(m(a._rootFramesTimeline, b))
                    };
                f.killAll = function (a, c, d, e) {
                    null == c && (c = !0), null == d && (d = !0);
                    var f, g, h, i = n(0 != e),
                        j = i.length,
                        k = c && d && e;
                    for (h = 0; j > h; h++) g = i[h], (k || g instanceof b || (f = g.target === g.vars.onComplete) && d || c && !f) && (a ? g.totalTime(g._reversed ? 0 : g.totalDuration()) : g._enabled(!1, !1))
                }, f.killChildTweensOf = function (a, b) {
                    if (null != a) {
                        var e, g, k, l, m, n = h.tweenLookup;
                        if ("string" == typeof a && (a = c.selector(a) || a), i(a) && (a = d(a)), j(a))
                            for (l = a.length; --l > -1;) f.killChildTweensOf(a[l], b);
                        else {
                            e = [];
                            for (k in n)
                                for (g = n[k].target.parentNode; g;) g === a && (e = e.concat(n[k].tweens)), g = g.parentNode;
                            for (m = e.length, l = 0; m > l; l++) b && e[l].totalTime(e[l].totalDuration()), e[l]._enabled(!1, !1)
                        }
                    }
                };
                var o = function (a, c, d, e) {
                    c = c !== !1, d = d !== !1, e = e !== !1;
                    for (var f, g, h = n(e), i = c && d && e, j = h.length; --j > -1;) g = h[j], (i || g instanceof b || (f = g.target === g.vars.onComplete) && d || c && !f) && g.paused(a)
                };
                return f.pauseAll = function (a, b, c) {
                    o(!0, a, b, c)
                }, f.resumeAll = function (a, b, c) {
                    o(!1, a, b, c)
                }, f.globalTimeScale = function (b) {
                    var d = a._rootTimeline,
                        e = c.ticker.time;
                    return arguments.length ? (b = b || g, d._startTime = e - (e - d._startTime) * d._timeScale / b, d = a._rootFramesTimeline, e = c.ticker.frame, d._startTime = e - (e - d._startTime) * d._timeScale / b, d._timeScale = a._rootTimeline._timeScale = b, b) : d._timeScale
                }, k.progress = function (a, b) {
                    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 !== (1 & this._cycle) ? 1 - a : a) + this._cycle * (this._duration + this._repeatDelay), b) : this._time / this.duration()
                }, k.totalProgress = function (a, b) {
                    return arguments.length ? this.totalTime(this.totalDuration() * a, b) : this._totalTime / this.totalDuration()
                }, k.time = function (a, b) {
                    return arguments.length ? (this._dirty && this.totalDuration(), a > this._duration && (a = this._duration), this._yoyo && 0 !== (1 & this._cycle) ? a = this._duration - a + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (a += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(a, b)) : this._time
                }, k.duration = function (b) {
                    return arguments.length ? a.prototype.duration.call(this, b) : this._duration
                }, k.totalDuration = function (a) {
                    return arguments.length ? -1 === this._repeat ? this : this.duration((a - this._repeat * this._repeatDelay) / (this._repeat + 1)) : (this._dirty && (this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat, this._dirty = !1), this._totalDuration)
                }, k.repeat = function (a) {
                    return arguments.length ? (this._repeat = a, this._uncache(!0)) : this._repeat
                }, k.repeatDelay = function (a) {
                    return arguments.length ? (this._repeatDelay = a, this._uncache(!0)) : this._repeatDelay
                }, k.yoyo = function (a) {
                    return arguments.length ? (this._yoyo = a, this) : this._yoyo
                }, f
            }, !0), _gsScope._gsDefine("TimelineLite", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function (a, b, c) {
                var d = function (a) {
                        b.call(this, a), this._labels = {}, this.autoRemoveChildren = this.vars.autoRemoveChildren === !0, this.smoothChildTiming = this.vars.smoothChildTiming === !0, this._sortChildren = !0, this._onUpdate = this.vars.onUpdate;
                        var c, d, e = this.vars;
                        for (d in e) c = e[d], i(c) && -1 !== c.join("").indexOf("{self}") && (e[d] = this._swapSelfInParams(c));
                        i(e.tweens) && this.add(e.tweens, 0, e.align, e.stagger)
                    },
                    e = 1e-10,
                    f = c._internals,
                    g = d._internals = {},
                    h = f.isSelector,
                    i = f.isArray,
                    j = f.lazyTweens,
                    k = f.lazyRender,
                    l = _gsScope._gsDefine.globals,
                    m = function (a) {
                        var b, c = {};
                        for (b in a) c[b] = a[b];
                        return c
                    },
                    n = function (a, b, c) {
                        var d, e, f = a.cycle;
                        for (d in f) e = f[d], a[d] = "function" == typeof e ? e(c, b[c]) : e[c % e.length];
                        delete a.cycle
                    },
                    o = g.pauseCallback = function () {},
                    p = function (a) {
                        var b, c = [],
                            d = a.length;
                        for (b = 0; b !== d; c.push(a[b++]));
                        return c
                    },
                    q = d.prototype = new b;
                return d.version = "1.20.3", q.constructor = d, q.kill()._gc = q._forcingPlayhead = q._hasPause = !1, q.to = function (a, b, d, e) {
                    var f = d.repeat && l.TweenMax || c;
                    return b ? this.add(new f(a, b, d), e) : this.set(a, d, e)
                }, q.from = function (a, b, d, e) {
                    return this.add((d.repeat && l.TweenMax || c).from(a, b, d), e)
                }, q.fromTo = function (a, b, d, e, f) {
                    var g = e.repeat && l.TweenMax || c;
                    return b ? this.add(g.fromTo(a, b, d, e), f) : this.set(a, e, f)
                }, q.staggerTo = function (a, b, e, f, g, i, j, k) {
                    var l, o, q = new d({
                            onComplete: i,
                            onCompleteParams: j,
                            callbackScope: k,
                            smoothChildTiming: this.smoothChildTiming
                        }),
                        r = e.cycle;
                    for ("string" == typeof a && (a = c.selector(a) || a), a = a || [], h(a) && (a = p(a)), f = f || 0, 0 > f && (a = p(a), a.reverse(), f *= -1), o = 0; o < a.length; o++) l = m(e), l.startAt && (l.startAt = m(l.startAt), l.startAt.cycle && n(l.startAt, a, o)), r && (n(l, a, o), null != l.duration && (b = l.duration, delete l.duration)), q.to(a[o], b, l, o * f);
                    return this.add(q, g)
                }, q.staggerFrom = function (a, b, c, d, e, f, g, h) {
                    return c.immediateRender = 0 != c.immediateRender, c.runBackwards = !0, this.staggerTo(a, b, c, d, e, f, g, h)
                }, q.staggerFromTo = function (a, b, c, d, e, f, g, h, i) {
                    return d.startAt = c, d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender, this.staggerTo(a, b, d, e, f, g, h, i)
                }, q.call = function (a, b, d, e) {
                    return this.add(c.delayedCall(0, a, b, d), e)
                }, q.set = function (a, b, d) {
                    return d = this._parseTimeOrLabel(d, 0, !0), null == b.immediateRender && (b.immediateRender = d === this._time && !this._paused), this.add(new c(a, 0, b), d)
                }, d.exportRoot = function (a, b) {
                    a = a || {}, null == a.smoothChildTiming && (a.smoothChildTiming = !0);
                    var e, f, g, h, i = new d(a),
                        j = i._timeline;
                    for (null == b && (b = !0), j._remove(i, !0), i._startTime = 0, i._rawPrevTime = i._time = i._totalTime = j._time, g = j._first; g;) h = g._next, b && g instanceof c && g.target === g.vars.onComplete || (f = g._startTime - g._delay, 0 > f && (e = 1), i.add(g, f)), g = h;
                    return j.add(i, 0), e && i.totalDuration(), i
                }, q.add = function (e, f, g, h) {
                    var j, k, l, m, n, o;
                    if ("number" != typeof f && (f = this._parseTimeOrLabel(f, 0, !0, e)), !(e instanceof a)) {
                        if (e instanceof Array || e && e.push && i(e)) {
                            for (g = g || "normal", h = h || 0, j = f, k = e.length, l = 0; k > l; l++) i(m = e[l]) && (m = new d({
                                tweens: m
                            })), this.add(m, j), "string" != typeof m && "function" != typeof m && ("sequence" === g ? j = m._startTime + m.totalDuration() / m._timeScale : "start" === g && (m._startTime -= m.delay())), j += h;
                            return this._uncache(!0)
                        }
                        if ("string" == typeof e) return this.addLabel(e, f);
                        if ("function" != typeof e) throw "Cannot add " + e + " into the timeline; it is not a tween, timeline, function, or string.";
                        e = c.delayedCall(0, e)
                    }
                    if (b.prototype.add.call(this, e, f), e._time && e.render((this.rawTime() - e._startTime) * e._timeScale, !1, !1), (this._gc || this._time === this._duration) && !this._paused && this._duration < this.duration())
                        for (n = this, o = n.rawTime() > e._startTime; n._timeline;) o && n._timeline.smoothChildTiming ? n.totalTime(n._totalTime, !0) : n._gc && n._enabled(!0, !1), n = n._timeline;
                    return this
                }, q.remove = function (b) {
                    if (b instanceof a) {
                        this._remove(b, !1);
                        var c = b._timeline = b.vars.useFrames ? a._rootFramesTimeline : a._rootTimeline;
                        return b._startTime = (b._paused ? b._pauseTime : c._time) - (b._reversed ? b.totalDuration() - b._totalTime : b._totalTime) / b._timeScale, this
                    }
                    if (b instanceof Array || b && b.push && i(b)) {
                        for (var d = b.length; --d > -1;) this.remove(b[d]);
                        return this
                    }
                    return "string" == typeof b ? this.removeLabel(b) : this.kill(null, b)
                }, q._remove = function (a, c) {
                    b.prototype._remove.call(this, a, c);
                    var d = this._last;
                    return d ? this._time > this.duration() && (this._time = this._duration, this._totalTime = this._totalDuration) : this._time = this._totalTime = this._duration = this._totalDuration = 0, this
                }, q.append = function (a, b) {
                    return this.add(a, this._parseTimeOrLabel(null, b, !0, a))
                }, q.insert = q.insertMultiple = function (a, b, c, d) {
                    return this.add(a, b || 0, c, d)
                }, q.appendMultiple = function (a, b, c, d) {
                    return this.add(a, this._parseTimeOrLabel(null, b, !0, a), c, d)
                }, q.addLabel = function (a, b) {
                    return this._labels[a] = this._parseTimeOrLabel(b), this
                }, q.addPause = function (a, b, d, e) {
                    var f = c.delayedCall(0, o, d, e || this);
                    return f.vars.onComplete = f.vars.onReverseComplete = b, f.data = "isPause", this._hasPause = !0, this.add(f, a)
                }, q.removeLabel = function (a) {
                    return delete this._labels[a], this
                }, q.getLabelTime = function (a) {
                    return null != this._labels[a] ? this._labels[a] : -1
                }, q._parseTimeOrLabel = function (b, c, d, e) {
                    var f, g;
                    if (e instanceof a && e.timeline === this) this.remove(e);
                    else if (e && (e instanceof Array || e.push && i(e)))
                        for (g = e.length; --g > -1;) e[g] instanceof a && e[g].timeline === this && this.remove(e[g]);
                    if (f = "number" != typeof b || c ? this.duration() > 99999999999 ? this.recent().endTime(!1) : this._duration : 0, "string" == typeof c) return this._parseTimeOrLabel(c, d && "number" == typeof b && null == this._labels[c] ? b - f : 0, d);
                    if (c = c || 0, "string" != typeof b || !isNaN(b) && null == this._labels[b]) null == b && (b = f);
                    else {
                        if (g = b.indexOf("="), -1 === g) return null == this._labels[b] ? d ? this._labels[b] = f + c : c : this._labels[b] + c;
                        c = parseInt(b.charAt(g - 1) + "1", 10) * Number(b.substr(g + 1)), b = g > 1 ? this._parseTimeOrLabel(b.substr(0, g - 1), 0, d) : f
                    }
                    return Number(b) + c
                }, q.seek = function (a, b) {
                    return this.totalTime("number" == typeof a ? a : this._parseTimeOrLabel(a), b !== !1)
                }, q.stop = function () {
                    return this.paused(!0)
                }, q.gotoAndPlay = function (a, b) {
                    return this.play(a, b)
                }, q.gotoAndStop = function (a, b) {
                    return this.pause(a, b)
                }, q.render = function (a, b, c) {
                    this._gc && this._enabled(!0, !1);
                    var d, f, g, h, i, l, m, n = this._time,
                        o = this._dirty ? this.totalDuration() : this._totalDuration,
                        p = this._startTime,
                        q = this._timeScale,
                        r = this._paused;
                    if (n !== this._time && (a += this._time - n), a >= o - 1e-7 && a >= 0) this._totalTime = this._time = o, this._reversed || this._hasPausedChild() || (f = !0, h = "onComplete", i = !!this._timeline.autoRemoveChildren, 0 === this._duration && (0 >= a && a >= -1e-7 || this._rawPrevTime < 0 || this._rawPrevTime === e) && this._rawPrevTime !== a && this._first && (i = !0, this._rawPrevTime > e && (h = "onReverseComplete"))), this._rawPrevTime = this._duration || !b || a || this._rawPrevTime === a ? a : e, a = o + 1e-4;
                    else if (1e-7 > a)
                        if (this._totalTime = this._time = 0, (0 !== n || 0 === this._duration && this._rawPrevTime !== e && (this._rawPrevTime > 0 || 0 > a && this._rawPrevTime >= 0)) && (h = "onReverseComplete", f = this._reversed), 0 > a) this._active = !1, this._timeline.autoRemoveChildren && this._reversed ? (i = f = !0, h = "onReverseComplete") : this._rawPrevTime >= 0 && this._first && (i = !0), this._rawPrevTime = a;
                        else {
                            if (this._rawPrevTime = this._duration || !b || a || this._rawPrevTime === a ? a : e, 0 === a && f)
                                for (d = this._first; d && 0 === d._startTime;) d._duration || (f = !1), d = d._next;
                            a = 0, this._initted || (i = !0)
                        }
                    else {
                        if (this._hasPause && !this._forcingPlayhead && !b) {
                            if (a >= n)
                                for (d = this._first; d && d._startTime <= a && !l;) d._duration || "isPause" !== d.data || d.ratio || 0 === d._startTime && 0 === this._rawPrevTime || (l = d), d = d._next;
                            else
                                for (d = this._last; d && d._startTime >= a && !l;) d._duration || "isPause" === d.data && d._rawPrevTime > 0 && (l = d), d = d._prev;
                            l && (this._time = a = l._startTime, this._totalTime = a + this._cycle * (this._totalDuration + this._repeatDelay))
                        }
                        this._totalTime = this._time = this._rawPrevTime = a
                    }
                    if (this._time !== n && this._first || c || i || l) {
                        if (this._initted || (this._initted = !0), this._active || !this._paused && this._time !== n && a > 0 && (this._active = !0), 0 === n && this.vars.onStart && (0 === this._time && this._duration || b || this._callback("onStart")), m = this._time, m >= n)
                            for (d = this._first; d && (g = d._next, m === this._time && (!this._paused || r));)(d._active || d._startTime <= m && !d._paused && !d._gc) && (l === d && this.pause(), d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)), d = g;
                        else
                            for (d = this._last; d && (g = d._prev, m === this._time && (!this._paused || r));) {
                                if (d._active || d._startTime <= n && !d._paused && !d._gc) {
                                    if (l === d) {
                                        for (l = d._prev; l && l.endTime() > this._time;) l.render(l._reversed ? l.totalDuration() - (a - l._startTime) * l._timeScale : (a - l._startTime) * l._timeScale, b, c), l = l._prev;
                                        l = null, this.pause()
                                    }
                                    d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)
                                }
                                d = g
                            }
                        this._onUpdate && (b || (j.length && k(), this._callback("onUpdate"))), h && (this._gc || (p === this._startTime || q !== this._timeScale) && (0 === this._time || o >= this.totalDuration()) && (f && (j.length && k(), this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !b && this.vars[h] && this._callback(h)))
                    }
                }, q._hasPausedChild = function () {
                    for (var a = this._first; a;) {
                        if (a._paused || a instanceof d && a._hasPausedChild()) return !0;
                        a = a._next
                    }
                    return !1
                }, q.getChildren = function (a, b, d, e) {
                    e = e || -9999999999;
                    for (var f = [], g = this._first, h = 0; g;) g._startTime < e || (g instanceof c ? b !== !1 && (f[h++] = g) : (d !== !1 && (f[h++] = g), a !== !1 && (f = f.concat(g.getChildren(!0, b, d)), h = f.length))), g = g._next;
                    return f
                }, q.getTweensOf = function (a, b) {
                    var d, e, f = this._gc,
                        g = [],
                        h = 0;
                    for (f && this._enabled(!0, !0), d = c.getTweensOf(a), e = d.length; --e > -1;)(d[e].timeline === this || b && this._contains(d[e])) && (g[h++] = d[e]);
                    return f && this._enabled(!1, !0), g
                }, q.recent = function () {
                    return this._recent
                }, q._contains = function (a) {
                    for (var b = a.timeline; b;) {
                        if (b === this) return !0;
                        b = b.timeline
                    }
                    return !1
                }, q.shiftChildren = function (a, b, c) {
                    c = c || 0;
                    for (var d, e = this._first, f = this._labels; e;) e._startTime >= c && (e._startTime += a), e = e._next;
                    if (b)
                        for (d in f) f[d] >= c && (f[d] += a);
                    return this._uncache(!0)
                }, q._kill = function (a, b) {
                    if (!a && !b) return this._enabled(!1, !1);
                    for (var c = b ? this.getTweensOf(b) : this.getChildren(!0, !0, !1), d = c.length, e = !1; --d > -1;) c[d]._kill(a, b) && (e = !0);
                    return e
                }, q.clear = function (a) {
                    var b = this.getChildren(!1, !0, !0),
                        c = b.length;
                    for (this._time = this._totalTime = 0; --c > -1;) b[c]._enabled(!1, !1);
                    return a !== !1 && (this._labels = {}), this._uncache(!0)
                }, q.invalidate = function () {
                    for (var b = this._first; b;) b.invalidate(), b = b._next;
                    return a.prototype.invalidate.call(this)
                }, q._enabled = function (a, c) {
                    if (a === this._gc)
                        for (var d = this._first; d;) d._enabled(a, !0), d = d._next;
                    return b.prototype._enabled.call(this, a, c)
                }, q.totalTime = function (b, c, d) {
                    this._forcingPlayhead = !0;
                    var e = a.prototype.totalTime.apply(this, arguments);
                    return this._forcingPlayhead = !1, e
                }, q.duration = function (a) {
                    return arguments.length ? (0 !== this.duration() && 0 !== a && this.timeScale(this._duration / a), this) : (this._dirty && this.totalDuration(), this._duration)
                }, q.totalDuration = function (a) {
                    if (!arguments.length) {
                        if (this._dirty) {
                            for (var b, c, d = 0, e = this._last, f = 999999999999; e;) b = e._prev, e._dirty && e.totalDuration(), e._startTime > f && this._sortChildren && !e._paused && !this._calculatingDuration ? (this._calculatingDuration = 1, this.add(e, e._startTime - e._delay), this._calculatingDuration = 0) : f = e._startTime, e._startTime < 0 && !e._paused && (d -= e._startTime, this._timeline.smoothChildTiming && (this._startTime += e._startTime / this._timeScale, this._time -= e._startTime, this._totalTime -= e._startTime, this._rawPrevTime -= e._startTime), this.shiftChildren(-e._startTime, !1, -9999999999), f = 0), c = e._startTime + e._totalDuration / e._timeScale, c > d && (d = c), e = b;
                            this._duration = this._totalDuration = d, this._dirty = !1
                        }
                        return this._totalDuration
                    }
                    return a && this.totalDuration() ? this.timeScale(this._totalDuration / a) : this
                }, q.paused = function (b) {
                    if (!b)
                        for (var c = this._first, d = this._time; c;) c._startTime === d && "isPause" === c.data && (c._rawPrevTime = 0), c = c._next;
                    return a.prototype.paused.apply(this, arguments)
                }, q.usesFrames = function () {
                    for (var b = this._timeline; b._timeline;) b = b._timeline;
                    return b === a._rootFramesTimeline
                }, q.rawTime = function (a) {
                    return a && (this._paused || this._repeat && this.time() > 0 && this.totalProgress() < 1) ? this._totalTime % (this._duration + this._repeatDelay) : this._paused ? this._totalTime : (this._timeline.rawTime(a) - this._startTime) * this._timeScale
                }, d
            }, !0), _gsScope._gsDefine("TimelineMax", ["TimelineLite", "TweenLite", "easing.Ease"], function (a, b, c) {
                var d = function (b) {
                        a.call(this, b), this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._cycle = 0, this._yoyo = this.vars.yoyo === !0, this._dirty = !0
                    },
                    e = 1e-10,
                    f = b._internals,
                    g = f.lazyTweens,
                    h = f.lazyRender,
                    i = _gsScope._gsDefine.globals,
                    j = new c(null, null, 1, 0),
                    k = d.prototype = new a;
                return k.constructor = d, k.kill()._gc = !1, d.version = "1.20.3", k.invalidate = function () {
                    return this._yoyo = this.vars.yoyo === !0, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._uncache(!0), a.prototype.invalidate.call(this)
                }, k.addCallback = function (a, c, d, e) {
                    return this.add(b.delayedCall(0, a, d, e), c)
                }, k.removeCallback = function (a, b) {
                    if (a)
                        if (null == b) this._kill(null, a);
                        else
                            for (var c = this.getTweensOf(a, !1), d = c.length, e = this._parseTimeOrLabel(b); --d > -1;) c[d]._startTime === e && c[d]._enabled(!1, !1);
                    return this
                }, k.removePause = function (b) {
                    return this.removeCallback(a._internals.pauseCallback, b)
                }, k.tweenTo = function (a, c) {
                    c = c || {};
                    var d, e, f, g = {
                            ease: j,
                            useFrames: this.usesFrames(),
                            immediateRender: !1
                        },
                        h = c.repeat && i.TweenMax || b;
                    for (e in c) g[e] = c[e];
                    return g.time = this._parseTimeOrLabel(a), d = Math.abs(Number(g.time) - this._time) / this._timeScale || .001, f = new h(this, d, g), g.onStart = function () {
                        f.target.paused(!0), f.vars.time !== f.target.time() && d === f.duration() && f.duration(Math.abs(f.vars.time - f.target.time()) / f.target._timeScale), c.onStart && c.onStart.apply(c.onStartScope || c.callbackScope || f, c.onStartParams || [])
                    }, f
                }, k.tweenFromTo = function (a, b, c) {
                    c = c || {}, a = this._parseTimeOrLabel(a), c.startAt = {
                        onComplete: this.seek,
                        onCompleteParams: [a],
                        callbackScope: this
                    }, c.immediateRender = c.immediateRender !== !1;
                    var d = this.tweenTo(b, c);
                    return d.duration(Math.abs(d.vars.time - a) / this._timeScale || .001)
                }, k.render = function (a, b, c) {
                    this._gc && this._enabled(!0, !1);
                    var d, f, i, j, k, l, m, n, o = this._time,
                        p = this._dirty ? this.totalDuration() : this._totalDuration,
                        q = this._duration,
                        r = this._totalTime,
                        s = this._startTime,
                        t = this._timeScale,
                        u = this._rawPrevTime,
                        v = this._paused,
                        w = this._cycle;
                    if (o !== this._time && (a += this._time - o), a >= p - 1e-7 && a >= 0) this._locked || (this._totalTime = p, this._cycle = this._repeat), this._reversed || this._hasPausedChild() || (f = !0, j = "onComplete", k = !!this._timeline.autoRemoveChildren, 0 === this._duration && (0 >= a && a >= -1e-7 || 0 > u || u === e) && u !== a && this._first && (k = !0, u > e && (j = "onReverseComplete"))), this._rawPrevTime = this._duration || !b || a || this._rawPrevTime === a ? a : e, this._yoyo && 0 !== (1 & this._cycle) ? this._time = a = 0 : (this._time = q, a = q + 1e-4);
                    else if (1e-7 > a)
                        if (this._locked || (this._totalTime = this._cycle = 0), this._time = 0, (0 !== o || 0 === q && u !== e && (u > 0 || 0 > a && u >= 0) && !this._locked) && (j = "onReverseComplete", f = this._reversed), 0 > a) this._active = !1, this._timeline.autoRemoveChildren && this._reversed ? (k = f = !0, j = "onReverseComplete") : u >= 0 && this._first && (k = !0), this._rawPrevTime = a;
                        else {
                            if (this._rawPrevTime = q || !b || a || this._rawPrevTime === a ? a : e, 0 === a && f)
                                for (d = this._first; d && 0 === d._startTime;) d._duration || (f = !1), d = d._next;
                            a = 0, this._initted || (k = !0)
                        }
                    else if (0 === q && 0 > u && (k = !0), this._time = this._rawPrevTime = a, this._locked || (this._totalTime = a, 0 !== this._repeat && (l = q + this._repeatDelay, this._cycle = this._totalTime / l >> 0, 0 !== this._cycle && this._cycle === this._totalTime / l && a >= r && this._cycle--, this._time = this._totalTime - this._cycle * l, this._yoyo && 0 !== (1 & this._cycle) && (this._time = q - this._time), this._time > q ? (this._time = q, a = q + 1e-4) : this._time < 0 ? this._time = a = 0 : a = this._time)), this._hasPause && !this._forcingPlayhead && !b) {
                        if (a = this._time, a >= o || this._repeat && w !== this._cycle)
                            for (d = this._first; d && d._startTime <= a && !m;) d._duration || "isPause" !== d.data || d.ratio || 0 === d._startTime && 0 === this._rawPrevTime || (m = d), d = d._next;
                        else
                            for (d = this._last; d && d._startTime >= a && !m;) d._duration || "isPause" === d.data && d._rawPrevTime > 0 && (m = d), d = d._prev;
                        m && m._startTime < q && (this._time = a = m._startTime, this._totalTime = a + this._cycle * (this._totalDuration + this._repeatDelay))
                    }
                    if (this._cycle !== w && !this._locked) {
                        var x = this._yoyo && 0 !== (1 & w),
                            y = x === (this._yoyo && 0 !== (1 & this._cycle)),
                            z = this._totalTime,
                            A = this._cycle,
                            B = this._rawPrevTime,
                            C = this._time;
                        if (this._totalTime = w * q, this._cycle < w ? x = !x : this._totalTime += q, this._time = o, this._rawPrevTime = 0 === q ? u - 1e-4 : u, this._cycle = w, this._locked = !0, o = x ? 0 : q, this.render(o, b, 0 === q), b || this._gc || this.vars.onRepeat && (this._cycle = A, this._locked = !1, this._callback("onRepeat")), o !== this._time) return;
                        if (y && (this._cycle = w, this._locked = !0, o = x ? q + 1e-4 : -1e-4, this.render(o, !0, !1)), this._locked = !1, this._paused && !v) return;
                        this._time = C, this._totalTime = z, this._cycle = A, this._rawPrevTime = B
                    }
                    if (!(this._time !== o && this._first || c || k || m)) return void(r !== this._totalTime && this._onUpdate && (b || this._callback("onUpdate")));
                    if (this._initted || (this._initted = !0), this._active || !this._paused && this._totalTime !== r && a > 0 && (this._active = !0), 0 === r && this.vars.onStart && (0 === this._totalTime && this._totalDuration || b || this._callback("onStart")), n = this._time, n >= o)
                        for (d = this._first; d && (i = d._next, n === this._time && (!this._paused || v));)(d._active || d._startTime <= this._time && !d._paused && !d._gc) && (m === d && this.pause(), d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)), d = i;
                    else
                        for (d = this._last; d && (i = d._prev, n === this._time && (!this._paused || v));) {
                            if (d._active || d._startTime <= o && !d._paused && !d._gc) {
                                if (m === d) {
                                    for (m = d._prev; m && m.endTime() > this._time;) m.render(m._reversed ? m.totalDuration() - (a - m._startTime) * m._timeScale : (a - m._startTime) * m._timeScale, b, c), m = m._prev;
                                    m = null, this.pause()
                                }
                                d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)
                            }
                            d = i
                        }
                    this._onUpdate && (b || (g.length && h(), this._callback("onUpdate"))), j && (this._locked || this._gc || (s === this._startTime || t !== this._timeScale) && (0 === this._time || p >= this.totalDuration()) && (f && (g.length && h(), this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !b && this.vars[j] && this._callback(j)))
                }, k.getActive = function (a, b, c) {
                    null == a && (a = !0), null == b && (b = !0), null == c && (c = !1);
                    var d, e, f = [],
                        g = this.getChildren(a, b, c),
                        h = 0,
                        i = g.length;
                    for (d = 0; i > d; d++) e = g[d], e.isActive() && (f[h++] = e);
                    return f
                }, k.getLabelAfter = function (a) {
                    a || 0 !== a && (a = this._time);
                    var b, c = this.getLabelsArray(),
                        d = c.length;
                    for (b = 0; d > b; b++)
                        if (c[b].time > a) return c[b].name;
                    return null
                }, k.getLabelBefore = function (a) {
                    null == a && (a = this._time);
                    for (var b = this.getLabelsArray(), c = b.length; --c > -1;)
                        if (b[c].time < a) return b[c].name;
                    return null
                }, k.getLabelsArray = function () {
                    var a, b = [],
                        c = 0;
                    for (a in this._labels) b[c++] = {
                        time: this._labels[a],
                        name: a
                    };
                    return b.sort(function (a, b) {
                        return a.time - b.time
                    }), b
                }, k.invalidate = function () {
                    return this._locked = !1, a.prototype.invalidate.call(this)
                }, k.progress = function (a, b) {
                    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 !== (1 & this._cycle) ? 1 - a : a) + this._cycle * (this._duration + this._repeatDelay), b) : this._time / this.duration() || 0
                }, k.totalProgress = function (a, b) {
                    return arguments.length ? this.totalTime(this.totalDuration() * a, b) : this._totalTime / this.totalDuration() || 0
                }, k.totalDuration = function (b) {
                    return arguments.length ? -1 !== this._repeat && b ? this.timeScale(this.totalDuration() / b) : this : (this._dirty && (a.prototype.totalDuration.call(this), this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat), this._totalDuration)
                }, k.time = function (a, b) {
                    return arguments.length ? (this._dirty && this.totalDuration(), a > this._duration && (a = this._duration), this._yoyo && 0 !== (1 & this._cycle) ? a = this._duration - a + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (a += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(a, b)) : this._time
                }, k.repeat = function (a) {
                    return arguments.length ? (this._repeat = a, this._uncache(!0)) : this._repeat
                }, k.repeatDelay = function (a) {
                    return arguments.length ? (this._repeatDelay = a, this._uncache(!0)) : this._repeatDelay
                }, k.yoyo = function (a) {
                    return arguments.length ? (this._yoyo = a, this) : this._yoyo
                }, k.currentLabel = function (a) {
                    return arguments.length ? this.seek(a, !0) : this.getLabelBefore(this._time + 1e-8)
                }, d
            }, !0),
            function () {
                var a = 180 / Math.PI,
                    b = [],
                    c = [],
                    d = [],
                    e = {},
                    f = _gsScope._gsDefine.globals,
                    g = function (a, b, c, d) {
                        c === d && (c = d - (d - b) / 1e6), a === b && (b = a + (c - a) / 1e6), this.a = a, this.b = b, this.c = c, this.d = d, this.da = d - a, this.ca = c - a, this.ba = b - a
                    },
                    h = ",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",
                    i = function (a, b, c, d) {
                        var e = {
                                a: a
                            },
                            f = {},
                            g = {},
                            h = {
                                c: d
                            },
                            i = (a + b) / 2,
                            j = (b + c) / 2,
                            k = (c + d) / 2,
                            l = (i + j) / 2,
                            m = (j + k) / 2,
                            n = (m - l) / 8;
                        return e.b = i + (a - i) / 4, f.b = l + n, e.c = f.a = (e.b + f.b) / 2, f.c = g.a = (l + m) / 2, g.b = m - n, h.b = k + (d - k) / 4, g.c = h.a = (g.b + h.b) / 2, [e, f, g, h]
                    },
                    j = function (a, e, f, g, h) {
                        var j, k, l, m, n, o, p, q, r, s, t, u, v, w = a.length - 1,
                            x = 0,
                            y = a[0].a;
                        for (j = 0; w > j; j++) n = a[x], k = n.a, l = n.d, m = a[x + 1].d, h ? (t = b[j], u = c[j], v = (u + t) * e * .25 / (g ? .5 : d[j] || .5), o = l - (l - k) * (g ? .5 * e : 0 !== t ? v / t : 0), p = l + (m - l) * (g ? .5 * e : 0 !== u ? v / u : 0), q = l - (o + ((p - o) * (3 * t / (t + u) + .5) / 4 || 0))) : (o = l - (l - k) * e * .5, p = l + (m - l) * e * .5, q = l - (o + p) / 2), o += q, p += q, n.c = r = o, 0 !== j ? n.b = y : n.b = y = n.a + .6 * (n.c - n.a), n.da = l - k, n.ca = r - k, n.ba = y - k, f ? (s = i(k, y, r, l), a.splice(x, 1, s[0], s[1], s[2], s[3]), x += 4) : x++, y = p;
                        n = a[x], n.b = y, n.c = y + .4 * (n.d - y), n.da = n.d - n.a, n.ca = n.c - n.a, n.ba = y - n.a, f && (s = i(n.a, y, n.c, n.d), a.splice(x, 1, s[0], s[1], s[2], s[3]))
                    },
                    k = function (a, d, e, f) {
                        var h, i, j, k, l, m, n = [];
                        if (f)
                            for (a = [f].concat(a), i = a.length; --i > -1;) "string" == typeof (m = a[i][d]) && "=" === m.charAt(1) && (a[i][d] = f[d] + Number(m.charAt(0) + m.substr(2)));
                        if (h = a.length - 2, 0 > h) return n[0] = new g(a[0][d], 0, 0, a[0][d]), n;
                        for (i = 0; h > i; i++) j = a[i][d], k = a[i + 1][d], n[i] = new g(j, 0, 0, k), e && (l = a[i + 2][d], b[i] = (b[i] || 0) + (k - j) * (k - j), c[i] = (c[i] || 0) + (l - k) * (l - k));
                        return n[i] = new g(a[i][d], 0, 0, a[i + 1][d]), n
                    },
                    l = function (a, f, g, i, l, m) {
                        var n, o, p, q, r, s, t, u, v = {},
                            w = [],
                            x = m || a[0];
                        l = "string" == typeof l ? "," + l + "," : h, null == f && (f = 1);
                        for (o in a[0]) w.push(o);
                        if (a.length > 1) {
                            for (u = a[a.length - 1], t = !0, n = w.length; --n > -1;)
                                if (o = w[n], Math.abs(x[o] - u[o]) > .05) {
                                    t = !1;
                                    break
                                } t && (a = a.concat(), m && a.unshift(m), a.push(a[1]), m = a[a.length - 3])
                        }
                        for (b.length = c.length = d.length = 0, n = w.length; --n > -1;) o = w[n], e[o] = -1 !== l.indexOf("," + o + ","), v[o] = k(a, o, e[o], m);
                        for (n = b.length; --n > -1;) b[n] = Math.sqrt(b[n]), c[n] = Math.sqrt(c[n]);
                        if (!i) {
                            for (n = w.length; --n > -1;)
                                if (e[o])
                                    for (p = v[w[n]], s = p.length - 1, q = 0; s > q; q++) r = p[q + 1].da / c[q] + p[q].da / b[q] || 0, d[q] = (d[q] || 0) + r * r;
                            for (n = d.length; --n > -1;) d[n] = Math.sqrt(d[n])
                        }
                        for (n = w.length, q = g ? 4 : 1; --n > -1;) o = w[n], p = v[o], j(p, f, g, i, e[o]), t && (p.splice(0, q), p.splice(p.length - q, q));
                        return v
                    },
                    m = function (a, b, c) {
                        b = b || "soft";
                        var d, e, f, h, i, j, k, l, m, n, o, p = {},
                            q = "cubic" === b ? 3 : 2,
                            r = "soft" === b,
                            s = [];
                        if (r && c && (a = [c].concat(a)), null == a || a.length < q + 1) throw "invalid Bezier data";
                        for (m in a[0]) s.push(m);
                        for (j = s.length; --j > -1;) {
                            for (m = s[j], p[m] = i = [], n = 0, l = a.length, k = 0; l > k; k++) d = null == c ? a[k][m] : "string" == typeof (o = a[k][m]) && "=" === o.charAt(1) ? c[m] + Number(o.charAt(0) + o.substr(2)) : Number(o), r && k > 1 && l - 1 > k && (i[n++] = (d + i[n - 2]) / 2), i[n++] = d;
                            for (l = n - q + 1, n = 0, k = 0; l > k; k += q) d = i[k], e = i[k + 1], f = i[k + 2], h = 2 === q ? 0 : i[k + 3], i[n++] = o = 3 === q ? new g(d, e, f, h) : new g(d, (2 * e + d) / 3, (2 * e + f) / 3, f);
                            i.length = n
                        }
                        return p
                    },
                    n = function (a, b, c) {
                        for (var d, e, f, g, h, i, j, k, l, m, n, o = 1 / c, p = a.length; --p > -1;)
                            for (m = a[p], f = m.a, g = m.d - f, h = m.c - f, i = m.b - f, d = e = 0, k = 1; c >= k; k++) j = o * k, l = 1 - j, d = e - (e = (j * j * g + 3 * l * (j * h + l * i)) * j), n = p * c + k - 1, b[n] = (b[n] || 0) + d * d
                    },
                    o = function (a, b) {
                        b = b >> 0 || 6;
                        var c, d, e, f, g = [],
                            h = [],
                            i = 0,
                            j = 0,
                            k = b - 1,
                            l = [],
                            m = [];
                        for (c in a) n(a[c], g, b);
                        for (e = g.length, d = 0; e > d; d++) i += Math.sqrt(g[d]), f = d % b, m[f] = i, f === k && (j += i, f = d / b >> 0, l[f] = m, h[f] = j, i = 0, m = []);
                        return {
                            length: j,
                            lengths: h,
                            segments: l
                        }
                    },
                    p = _gsScope._gsDefine.plugin({
                        propName: "bezier",
                        priority: -1,
                        version: "1.3.8",
                        API: 2,
                        global: !0,
                        init: function (a, b, c) {
                            this._target = a, b instanceof Array && (b = {
                                values: b
                            }), this._func = {}, this._mod = {}, this._props = [], this._timeRes = null == b.timeResolution ? 6 : parseInt(b.timeResolution, 10);
                            var d, e, f, g, h, i = b.values || [],
                                j = {},
                                k = i[0],
                                n = b.autoRotate || c.vars.orientToBezier;
                            this._autoRotate = n ? n instanceof Array ? n : [
                                ["x", "y", "rotation", n === !0 ? 0 : Number(n) || 0]
                            ] : null;
                            for (d in k) this._props.push(d);
                            for (f = this._props.length; --f > -1;) d = this._props[f], this._overwriteProps.push(d), e = this._func[d] = "function" == typeof a[d], j[d] = e ? a[d.indexOf("set") || "function" != typeof a["get" + d.substr(3)] ? d : "get" + d.substr(3)]() : parseFloat(a[d]), h || j[d] !== i[0][d] && (h = j);
                            if (this._beziers = "cubic" !== b.type && "quadratic" !== b.type && "soft" !== b.type ? l(i, isNaN(b.curviness) ? 1 : b.curviness, !1, "thruBasic" === b.type, b.correlate, h) : m(i, b.type, j), this._segCount = this._beziers[d].length, this._timeRes) {
                                var p = o(this._beziers, this._timeRes);
                                this._length = p.length, this._lengths = p.lengths, this._segments = p.segments, this._l1 = this._li = this._s1 = this._si = 0, this._l2 = this._lengths[0], this._curSeg = this._segments[0], this._s2 = this._curSeg[0], this._prec = 1 / this._curSeg.length
                            }
                            if (n = this._autoRotate)
                                for (this._initialRotations = [], n[0] instanceof Array || (this._autoRotate = n = [n]), f = n.length; --f > -1;) {
                                    for (g = 0; 3 > g; g++) d = n[f][g], this._func[d] = "function" == typeof a[d] ? a[d.indexOf("set") || "function" != typeof a["get" + d.substr(3)] ? d : "get" + d.substr(3)] : !1;
                                    d = n[f][2], this._initialRotations[f] = (this._func[d] ? this._func[d].call(this._target) : this._target[d]) || 0, this._overwriteProps.push(d)
                                }
                            return this._startRatio = c.vars.runBackwards ? 1 : 0, !0
                        },
                        set: function (b) {
                            var c, d, e, f, g, h, i, j, k, l, m = this._segCount,
                                n = this._func,
                                o = this._target,
                                p = b !== this._startRatio;
                            if (this._timeRes) {
                                if (k = this._lengths, l = this._curSeg, b *= this._length, e = this._li, b > this._l2 && m - 1 > e) {
                                    for (j = m - 1; j > e && (this._l2 = k[++e]) <= b;);
                                    this._l1 = k[e - 1], this._li = e, this._curSeg = l = this._segments[e], this._s2 = l[this._s1 = this._si = 0]
                                } else if (b < this._l1 && e > 0) {
                                    for (; e > 0 && (this._l1 = k[--e]) >= b;);
                                    0 === e && b < this._l1 ? this._l1 = 0 : e++, this._l2 = k[e], this._li = e, this._curSeg = l = this._segments[e], this._s1 = l[(this._si = l.length - 1) - 1] || 0, this._s2 = l[this._si]
                                }
                                if (c = e, b -= this._l1, e = this._si, b > this._s2 && e < l.length - 1) {
                                    for (j = l.length - 1; j > e && (this._s2 = l[++e]) <= b;);
                                    this._s1 = l[e - 1], this._si = e
                                } else if (b < this._s1 && e > 0) {
                                    for (; e > 0 && (this._s1 = l[--e]) >= b;);
                                    0 === e && b < this._s1 ? this._s1 = 0 : e++, this._s2 = l[e], this._si = e
                                }
                                h = (e + (b - this._s1) / (this._s2 - this._s1)) * this._prec || 0
                            } else c = 0 > b ? 0 : b >= 1 ? m - 1 : m * b >> 0, h = (b - c * (1 / m)) * m;
                            for (d = 1 - h, e = this._props.length; --e > -1;) f = this._props[e], g = this._beziers[f][c], i = (h * h * g.da + 3 * d * (h * g.ca + d * g.ba)) * h + g.a, this._mod[f] && (i = this._mod[f](i, o)), n[f] ? o[f](i) : o[f] = i;
                            if (this._autoRotate) {
                                var q, r, s, t, u, v, w, x = this._autoRotate;
                                for (e = x.length; --e > -1;) f = x[e][2], v = x[e][3] || 0, w = x[e][4] === !0 ? 1 : a, g = this._beziers[x[e][0]], q = this._beziers[x[e][1]], g && q && (g = g[c], q = q[c], r = g.a + (g.b - g.a) * h, t = g.b + (g.c - g.b) * h, r += (t - r) * h, t += (g.c + (g.d - g.c) * h - t) * h, s = q.a + (q.b - q.a) * h, u = q.b + (q.c - q.b) * h, s += (u - s) * h, u += (q.c + (q.d - q.c) * h - u) * h, i = p ? Math.atan2(u - s, t - r) * w + v : this._initialRotations[e], this._mod[f] && (i = this._mod[f](i, o)), n[f] ? o[f](i) : o[f] = i)
                            }
                        }
                    }),
                    q = p.prototype;
                p.bezierThrough = l, p.cubicToQuadratic = i, p._autoCSS = !0, p.quadraticToCubic = function (a, b, c) {
                    return new g(a, (2 * b + a) / 3, (2 * b + c) / 3, c)
                }, p._cssRegister = function () {
                    var a = f.CSSPlugin;
                    if (a) {
                        var b = a._internals,
                            c = b._parseToProxy,
                            d = b._setPluginRatio,
                            e = b.CSSPropTween;
                        b._registerComplexSpecialProp("bezier", {
                            parser: function (a, b, f, g, h, i) {
                                b instanceof Array && (b = {
                                    values: b
                                }), i = new p;
                                var j, k, l, m = b.values,
                                    n = m.length - 1,
                                    o = [],
                                    q = {};
                                if (0 > n) return h;
                                for (j = 0; n >= j; j++) l = c(a, m[j], g, h, i, n !== j), o[j] = l.end;
                                for (k in b) q[k] = b[k];
                                return q.values = o, h = new e(a, "bezier", 0, 0, l.pt, 2), h.data = l, h.plugin = i, h.setRatio = d, 0 === q.autoRotate && (q.autoRotate = !0), !q.autoRotate || q.autoRotate instanceof Array || (j = q.autoRotate === !0 ? 0 : Number(q.autoRotate), q.autoRotate = null != l.end.left ? [
                                    ["left", "top", "rotation", j, !1]
                                ] : null != l.end.x ? [
                                    ["x", "y", "rotation", j, !1]
                                ] : !1), q.autoRotate && (g._transform || g._enableTransforms(!1), l.autoRotate = g._target._gsTransform, l.proxy.rotation = l.autoRotate.rotation || 0, g._overwriteProps.push("rotation")), i._onInitTween(l.proxy, q, g._tween), h
                            }
                        })
                    }
                }, q._mod = function (a) {
                    for (var b, c = this._overwriteProps, d = c.length; --d > -1;) b = a[c[d]], b && "function" == typeof b && (this._mod[c[d]] = b)
                }, q._kill = function (a) {
                    var b, c, d = this._props;
                    for (b in this._beziers)
                        if (b in a)
                            for (delete this._beziers[b], delete this._func[b], c = d.length; --c > -1;) d[c] === b && d.splice(c, 1);
                    if (d = this._autoRotate)
                        for (c = d.length; --c > -1;) a[d[c][2]] && d.splice(c, 1);
                    return this._super._kill.call(this, a)
                }
            }(), _gsScope._gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin", "TweenLite"], function (a, b) {
                var c, d, e, f, g = function () {
                        a.call(this, "css"), this._overwriteProps.length = 0, this.setRatio = g.prototype.setRatio
                    },
                    h = _gsScope._gsDefine.globals,
                    i = {},
                    j = g.prototype = new a("css");
                j.constructor = g, g.version = "1.20.3", g.API = 2, g.defaultTransformPerspective = 0, g.defaultSkewType = "compensated", g.defaultSmoothOrigin = !0, j = "px", g.suffixMap = {
                    top: j,
                    right: j,
                    bottom: j,
                    left: j,
                    width: j,
                    height: j,
                    fontSize: j,
                    padding: j,
                    margin: j,
                    perspective: j,
                    lineHeight: ""
                };
                var k, l, m, n, o, p, q, r, s = /(?:\-|\.|\b)(\d|\.|e\-)+/g,
                    t = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,
                    u = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,
                    v = /(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,
                    w = /(?:\d|\-|\+|=|#|\.)*/g,
                    x = /opacity *= *([^)]*)/i,
                    y = /opacity:([^;]*)/i,
                    z = /alpha\(opacity *=.+?\)/i,
                    A = /^(rgb|hsl)/,
                    B = /([A-Z])/g,
                    C = /-([a-z])/gi,
                    D = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,
                    E = function (a, b) {
                        return b.toUpperCase()
                    },
                    F = /(?:Left|Right|Width)/i,
                    G = /(M11|M12|M21|M22)=[\d\-\.e]+/gi,
                    H = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,
                    I = /,(?=[^\)]*(?:\(|$))/gi,
                    J = /[\s,\(]/i,
                    K = Math.PI / 180,
                    L = 180 / Math.PI,
                    M = {},
                    N = {
                        style: {}
                    },
                    O = _gsScope.document || {
                        createElement: function () {
                            return N
                        }
                    },
                    P = function (a, b) {
                        return O.createElementNS ? O.createElementNS(b || "http://www.w3.org/1999/xhtml", a) : O.createElement(a)
                    },
                    Q = P("div"),
                    R = P("img"),
                    S = g._internals = {
                        _specialProps: i
                    },
                    T = (_gsScope.navigator || {}).userAgent || "",
                    U = function () {
                        var a = T.indexOf("Android"),
                            b = P("a");
                        return m = -1 !== T.indexOf("Safari") && -1 === T.indexOf("Chrome") && (-1 === a || parseFloat(T.substr(a + 8, 2)) > 3), o = m && parseFloat(T.substr(T.indexOf("Version/") + 8, 2)) < 6, n = -1 !== T.indexOf("Firefox"), (/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(T) || /Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(T)) && (p = parseFloat(RegExp.$1)), b ? (b.style.cssText = "top:1px;opacity:.55;", /^0.55/.test(b.style.opacity)) : !1
                    }(),
                    V = function (a) {
                        return x.test("string" == typeof a ? a : (a.currentStyle ? a.currentStyle.filter : a.style.filter) || "") ? parseFloat(RegExp.$1) / 100 : 1
                    },
                    W = function (a) {
                        _gsScope.console && console.log(a)
                    },
                    X = "",
                    Y = "",
                    Z = function (a, b) {
                        b = b || Q;
                        var c, d, e = b.style;
                        if (void 0 !== e[a]) return a;
                        for (a = a.charAt(0).toUpperCase() + a.substr(1), c = ["O", "Moz", "ms", "Ms", "Webkit"], d = 5; --d > -1 && void 0 === e[c[d] + a];);
                        return d >= 0 ? (Y = 3 === d ? "ms" : c[d], X = "-" + Y.toLowerCase() + "-", Y + a) : null
                    },
                    $ = O.defaultView ? O.defaultView.getComputedStyle : function () {},
                    _ = g.getStyle = function (a, b, c, d, e) {
                        var f;
                        return U || "opacity" !== b ? (!d && a.style[b] ? f = a.style[b] : (c = c || $(a)) ? f = c[b] || c.getPropertyValue(b) || c.getPropertyValue(b.replace(B, "-$1").toLowerCase()) : a.currentStyle && (f = a.currentStyle[b]), null == e || f && "none" !== f && "auto" !== f && "auto auto" !== f ? f : e) : V(a)
                    },
                    aa = S.convertToPixels = function (a, c, d, e, f) {
                        if ("px" === e || !e && "lineHeight" !== c) return d;
                        if ("auto" === e || !d) return 0;
                        var h, i, j, k = F.test(c),
                            l = a,
                            m = Q.style,
                            n = 0 > d,
                            o = 1 === d;
                        if (n && (d = -d), o && (d *= 100), "lineHeight" !== c || e)
                            if ("%" === e && -1 !== c.indexOf("border")) h = d / 100 * (k ? a.clientWidth : a.clientHeight);
                            else {
                                if (m.cssText = "border:0 solid red;position:" + _(a, "position") + ";line-height:0;", "%" !== e && l.appendChild && "v" !== e.charAt(0) && "rem" !== e) m[k ? "borderLeftWidth" : "borderTopWidth"] = d + e;
                                else {
                                    if (l = a.parentNode || O.body, -1 !== _(l, "display").indexOf("flex") && (m.position = "absolute"), i = l._gsCache, j = b.ticker.frame, i && k && i.time === j) return i.width * d / 100;
                                    m[k ? "width" : "height"] = d + e
                                }
                                l.appendChild(Q), h = parseFloat(Q[k ? "offsetWidth" : "offsetHeight"]), l.removeChild(Q), k && "%" === e && g.cacheWidths !== !1 && (i = l._gsCache = l._gsCache || {}, i.time = j, i.width = h / d * 100), 0 !== h || f || (h = aa(a, c, d, e, !0))
                            }
                        else i = $(a).lineHeight, a.style.lineHeight = d, h = parseFloat($(a).lineHeight), a.style.lineHeight = i;
                        return o && (h /= 100), n ? -h : h
                    },
                    ba = S.calculateOffset = function (a, b, c) {
                        if ("absolute" !== _(a, "position", c)) return 0;
                        var d = "left" === b ? "Left" : "Top",
                            e = _(a, "margin" + d, c);
                        return a["offset" + d] - (aa(a, b, parseFloat(e), e.replace(w, "")) || 0)
                    },
                    ca = function (a, b) {
                        var c, d, e, f = {};
                        if (b = b || $(a, null))
                            if (c = b.length)
                                for (; --c > -1;) e = b[c], (-1 === e.indexOf("-transform") || Da === e) && (f[e.replace(C, E)] = b.getPropertyValue(e));
                            else
                                for (c in b)(-1 === c.indexOf("Transform") || Ca === c) && (f[c] = b[c]);
                        else if (b = a.currentStyle || a.style)
                            for (c in b) "string" == typeof c && void 0 === f[c] && (f[c.replace(C, E)] = b[c]);
                        return U || (f.opacity = V(a)), d = Ra(a, b, !1), f.rotation = d.rotation, f.skewX = d.skewX, f.scaleX = d.scaleX, f.scaleY = d.scaleY, f.x = d.x, f.y = d.y, Fa && (f.z = d.z, f.rotationX = d.rotationX, f.rotationY = d.rotationY, f.scaleZ = d.scaleZ), f.filters && delete f.filters, f
                    },
                    da = function (a, b, c, d, e) {
                        var f, g, h, i = {},
                            j = a.style;
                        for (g in c) "cssText" !== g && "length" !== g && isNaN(g) && (b[g] !== (f = c[g]) || e && e[g]) && -1 === g.indexOf("Origin") && ("number" == typeof f || "string" == typeof f) && (i[g] = "auto" !== f || "left" !== g && "top" !== g ? "" !== f && "auto" !== f && "none" !== f || "string" != typeof b[g] || "" === b[g].replace(v, "") ? f : 0 : ba(a, g), void 0 !== j[g] && (h = new sa(j, g, j[g], h)));
                        if (d)
                            for (g in d) "className" !== g && (i[g] = d[g]);
                        return {
                            difs: i,
                            firstMPT: h
                        }
                    },
                    ea = {
                        width: ["Left", "Right"],
                        height: ["Top", "Bottom"]
                    },
                    fa = ["marginLeft", "marginRight", "marginTop", "marginBottom"],
                    ga = function (a, b, c) {
                        if ("svg" === (a.nodeName + "").toLowerCase()) return (c || $(a))[b] || 0;
                        if (a.getCTM && Oa(a)) return a.getBBox()[b] || 0;
                        var d = parseFloat("width" === b ? a.offsetWidth : a.offsetHeight),
                            e = ea[b],
                            f = e.length;
                        for (c = c || $(a, null); --f > -1;) d -= parseFloat(_(a, "padding" + e[f], c, !0)) || 0, d -= parseFloat(_(a, "border" + e[f] + "Width", c, !0)) || 0;
                        return d
                    },
                    ha = function (a, b) {
                        if ("contain" === a || "auto" === a || "auto auto" === a) return a + " ";
                        (null == a || "" === a) && (a = "0 0");
                        var c, d = a.split(" "),
                            e = -1 !== a.indexOf("left") ? "0%" : -1 !== a.indexOf("right") ? "100%" : d[0],
                            f = -1 !== a.indexOf("top") ? "0%" : -1 !== a.indexOf("bottom") ? "100%" : d[1];
                        if (d.length > 3 && !b) {
                            for (d = a.split(", ").join(",").split(","), a = [], c = 0; c < d.length; c++) a.push(ha(d[c]));
                            return a.join(",")
                        }
                        return null == f ? f = "center" === e ? "50%" : "0" : "center" === f && (f = "50%"), ("center" === e || isNaN(parseFloat(e)) && -1 === (e + "").indexOf("=")) && (e = "50%"), a = e + " " + f + (d.length > 2 ? " " + d[2] : ""), b && (b.oxp = -1 !== e.indexOf("%"), b.oyp = -1 !== f.indexOf("%"), b.oxr = "=" === e.charAt(1), b.oyr = "=" === f.charAt(1), b.ox = parseFloat(e.replace(v, "")), b.oy = parseFloat(f.replace(v, "")), b.v = a), b || a
                    },
                    ia = function (a, b) {
                        return "function" == typeof a && (a = a(r, q)), "string" == typeof a && "=" === a.charAt(1) ? parseInt(a.charAt(0) + "1", 10) * parseFloat(a.substr(2)) : parseFloat(a) - parseFloat(b) || 0
                    },
                    ja = function (a, b) {
                        return "function" == typeof a && (a = a(r, q)), null == a ? b : "string" == typeof a && "=" === a.charAt(1) ? parseInt(a.charAt(0) + "1", 10) * parseFloat(a.substr(2)) + b : parseFloat(a) || 0
                    },
                    ka = function (a, b, c, d) {
                        var e, f, g, h, i, j = 1e-6;
                        return "function" == typeof a && (a = a(r, q)), null == a ? h = b : "number" == typeof a ? h = a : (e = 360, f = a.split("_"), i = "=" === a.charAt(1), g = (i ? parseInt(a.charAt(0) + "1", 10) * parseFloat(f[0].substr(2)) : parseFloat(f[0])) * (-1 === a.indexOf("rad") ? 1 : L) - (i ? 0 : b), f.length && (d && (d[c] = b + g), -1 !== a.indexOf("short") && (g %= e, g !== g % (e / 2) && (g = 0 > g ? g + e : g - e)), -1 !== a.indexOf("_cw") && 0 > g ? g = (g + 9999999999 * e) % e - (g / e | 0) * e : -1 !== a.indexOf("ccw") && g > 0 && (g = (g - 9999999999 * e) % e - (g / e | 0) * e)), h = b + g), j > h && h > -j && (h = 0), h
                    },
                    la = {
                        aqua: [0, 255, 255],
                        lime: [0, 255, 0],
                        silver: [192, 192, 192],
                        black: [0, 0, 0],
                        maroon: [128, 0, 0],
                        teal: [0, 128, 128],
                        blue: [0, 0, 255],
                        navy: [0, 0, 128],
                        white: [255, 255, 255],
                        fuchsia: [255, 0, 255],
                        olive: [128, 128, 0],
                        yellow: [255, 255, 0],
                        orange: [255, 165, 0],
                        gray: [128, 128, 128],
                        purple: [128, 0, 128],
                        green: [0, 128, 0],
                        red: [255, 0, 0],
                        pink: [255, 192, 203],
                        cyan: [0, 255, 255],
                        transparent: [255, 255, 255, 0]
                    },
                    ma = function (a, b, c) {
                        return a = 0 > a ? a + 1 : a > 1 ? a - 1 : a, 255 * (1 > 6 * a ? b + (c - b) * a * 6 : .5 > a ? c : 2 > 3 * a ? b + (c - b) * (2 / 3 - a) * 6 : b) + .5 | 0
                    },
                    na = g.parseColor = function (a, b) {
                        var c, d, e, f, g, h, i, j, k, l, m;
                        if (a)
                            if ("number" == typeof a) c = [a >> 16, a >> 8 & 255, 255 & a];
                            else {
                                if ("," === a.charAt(a.length - 1) && (a = a.substr(0, a.length - 1)), la[a]) c = la[a];
                                else if ("#" === a.charAt(0)) 4 === a.length && (d = a.charAt(1), e = a.charAt(2), f = a.charAt(3), a = "#" + d + d + e + e + f + f), a = parseInt(a.substr(1), 16), c = [a >> 16, a >> 8 & 255, 255 & a];
                                else if ("hsl" === a.substr(0, 3))
                                    if (c = m = a.match(s), b) {
                                        if (-1 !== a.indexOf("=")) return a.match(t)
                                    } else g = Number(c[0]) % 360 / 360, h = Number(c[1]) / 100, i = Number(c[2]) / 100, e = .5 >= i ? i * (h + 1) : i + h - i * h, d = 2 * i - e, c.length > 3 && (c[3] = Number(c[3])), c[0] = ma(g + 1 / 3, d, e), c[1] = ma(g, d, e), c[2] = ma(g - 1 / 3, d, e);
                                else c = a.match(s) || la.transparent;
                                c[0] = Number(c[0]), c[1] = Number(c[1]), c[2] = Number(c[2]), c.length > 3 && (c[3] = Number(c[3]))
                            }
                        else c = la.black;
                        return b && !m && (d = c[0] / 255, e = c[1] / 255, f = c[2] / 255, j = Math.max(d, e, f), k = Math.min(d, e, f), i = (j + k) / 2, j === k ? g = h = 0 : (l = j - k, h = i > .5 ? l / (2 - j - k) : l / (j + k), g = j === d ? (e - f) / l + (f > e ? 6 : 0) : j === e ? (f - d) / l + 2 : (d - e) / l + 4, g *= 60), c[0] = g + .5 | 0, c[1] = 100 * h + .5 | 0, c[2] = 100 * i + .5 | 0), c
                    },
                    oa = function (a, b) {
                        var c, d, e, f = a.match(pa) || [],
                            g = 0,
                            h = "";
                        if (!f.length) return a;
                        for (c = 0; c < f.length; c++) d = f[c], e = a.substr(g, a.indexOf(d, g) - g), g += e.length + d.length, d = na(d, b), 3 === d.length && d.push(1), h += e + (b ? "hsla(" + d[0] + "," + d[1] + "%," + d[2] + "%," + d[3] : "rgba(" + d.join(",")) + ")";
                        return h + a.substr(g)
                    },
                    pa = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";
                for (j in la) pa += "|" + j + "\\b";
                pa = new RegExp(pa + ")", "gi"), g.colorStringFilter = function (a) {
                    var b, c = a[0] + " " + a[1];
                    pa.test(c) && (b = -1 !== c.indexOf("hsl(") || -1 !== c.indexOf("hsla("), a[0] = oa(a[0], b), a[1] = oa(a[1], b)), pa.lastIndex = 0
                }, b.defaultStringFilter || (b.defaultStringFilter = g.colorStringFilter);
                var qa = function (a, b, c, d) {
                        if (null == a) return function (a) {
                            return a
                        };
                        var e, f = b ? (a.match(pa) || [""])[0] : "",
                            g = a.split(f).join("").match(u) || [],
                            h = a.substr(0, a.indexOf(g[0])),
                            i = ")" === a.charAt(a.length - 1) ? ")" : "",
                            j = -1 !== a.indexOf(" ") ? " " : ",",
                            k = g.length,
                            l = k > 0 ? g[0].replace(s, "") : "";
                        return k ? e = b ? function (a) {
                            var b, m, n, o;
                            if ("number" == typeof a) a += l;
                            else if (d && I.test(a)) {
                                for (o = a.replace(I, "|").split("|"), n = 0; n < o.length; n++) o[n] = e(o[n]);
                                return o.join(",")
                            }
                            if (b = (a.match(pa) || [f])[0], m = a.split(b).join("").match(u) || [], n = m.length, k > n--)
                                for (; ++n < k;) m[n] = c ? m[(n - 1) / 2 | 0] : g[n];
                            return h + m.join(j) + j + b + i + (-1 !== a.indexOf("inset") ? " inset" : "")
                        } : function (a) {
                            var b, f, m;
                            if ("number" == typeof a) a += l;
                            else if (d && I.test(a)) {
                                for (f = a.replace(I, "|").split("|"), m = 0; m < f.length; m++) f[m] = e(f[m]);
                                return f.join(",")
                            }
                            if (b = a.match(u) || [], m = b.length, k > m--)
                                for (; ++m < k;) b[m] = c ? b[(m - 1) / 2 | 0] : g[m];
                            return h + b.join(j) + i
                        } : function (a) {
                            return a
                        }
                    },
                    ra = function (a) {
                        return a = a.split(","),
                            function (b, c, d, e, f, g, h) {
                                var i, j = (c + "").split(" ");
                                for (h = {}, i = 0; 4 > i; i++) h[a[i]] = j[i] = j[i] || j[(i - 1) / 2 >> 0];
                                return e.parse(b, h, f, g)
                            }
                    },
                    sa = (S._setPluginRatio = function (a) {
                        this.plugin.setRatio(a);
                        for (var b, c, d, e, f, g = this.data, h = g.proxy, i = g.firstMPT, j = 1e-6; i;) b = h[i.v], i.r ? b = Math.round(b) : j > b && b > -j && (b = 0), i.t[i.p] = b, i = i._next;
                        if (g.autoRotate && (g.autoRotate.rotation = g.mod ? g.mod(h.rotation, this.t) : h.rotation), 1 === a || 0 === a)
                            for (i = g.firstMPT, f = 1 === a ? "e" : "b"; i;) {
                                if (c = i.t, c.type) {
                                    if (1 === c.type) {
                                        for (e = c.xs0 + c.s + c.xs1, d = 1; d < c.l; d++) e += c["xn" + d] + c["xs" + (d + 1)];
                                        c[f] = e
                                    }
                                } else c[f] = c.s + c.xs0;
                                i = i._next
                            }
                    }, function (a, b, c, d, e) {
                        this.t = a, this.p = b, this.v = c, this.r = e, d && (d._prev = this, this._next = d)
                    }),
                    ta = (S._parseToProxy = function (a, b, c, d, e, f) {
                        var g, h, i, j, k, l = d,
                            m = {},
                            n = {},
                            o = c._transform,
                            p = M;
                        for (c._transform = null, M = b, d = k = c.parse(a, b, d, e), M = p, f && (c._transform = o, l && (l._prev = null, l._prev && (l._prev._next = null))); d && d !== l;) {
                            if (d.type <= 1 && (h = d.p, n[h] = d.s + d.c, m[h] = d.s, f || (j = new sa(d, "s", h, j, d.r), d.c = 0), 1 === d.type))
                                for (g = d.l; --g > 0;) i = "xn" + g, h = d.p + "_" + i, n[h] = d.data[i], m[h] = d[i], f || (j = new sa(d, i, h, j, d.rxp[i]));
                            d = d._next
                        }
                        return {
                            proxy: m,
                            end: n,
                            firstMPT: j,
                            pt: k
                        }
                    }, S.CSSPropTween = function (a, b, d, e, g, h, i, j, k, l, m) {
                        this.t = a, this.p = b, this.s = d, this.c = e, this.n = i || b, a instanceof ta || f.push(this.n), this.r = j, this.type = h || 0, k && (this.pr = k, c = !0), this.b = void 0 === l ? d : l, this.e = void 0 === m ? d + e : m, g && (this._next = g, g._prev = this)
                    }),
                    ua = function (a, b, c, d, e, f) {
                        var g = new ta(a, b, c, d - c, e, -1, f);
                        return g.b = c, g.e = g.xs0 = d, g
                    },
                    va = g.parseComplex = function (a, b, c, d, e, f, h, i, j, l) {
                        c = c || f || "", "function" == typeof d && (d = d(r, q)), h = new ta(a, b, 0, 0, h, l ? 2 : 1, null, !1, i, c, d), d += "", e && pa.test(d + c) && (d = [c, d], g.colorStringFilter(d), c = d[0], d = d[1]);
                        var m, n, o, p, u, v, w, x, y, z, A, B, C, D = c.split(", ").join(",").split(" "),
                            E = d.split(", ").join(",").split(" "),
                            F = D.length,
                            G = k !== !1;
                        for ((-1 !== d.indexOf(",") || -1 !== c.indexOf(",")) && (-1 !== (d + c).indexOf("rgb") || -1 !== (d + c).indexOf("hsl") ? (D = D.join(" ").replace(I, ", ").split(" "), E = E.join(" ").replace(I, ", ").split(" ")) : (D = D.join(" ").split(",").join(", ").split(" "), E = E.join(" ").split(",").join(", ").split(" ")), F = D.length), F !== E.length && (D = (f || "").split(" "), F = D.length), h.plugin = j, h.setRatio = l, pa.lastIndex = 0, m = 0; F > m; m++)
                            if (p = D[m], u = E[m], x = parseFloat(p), x || 0 === x) h.appendXtra("", x, ia(u, x), u.replace(t, ""), G && -1 !== u.indexOf("px"), !0);
                            else if (e && pa.test(p)) B = u.indexOf(")") + 1, B = ")" + (B ? u.substr(B) : ""), C = -1 !== u.indexOf("hsl") && U, z = u, p = na(p, C), u = na(u, C), y = p.length + u.length > 6, y && !U && 0 === u[3] ? (h["xs" + h.l] += h.l ? " transparent" : "transparent", h.e = h.e.split(E[m]).join("transparent")) : (U || (y = !1), C ? h.appendXtra(z.substr(0, z.indexOf("hsl")) + (y ? "hsla(" : "hsl("), p[0], ia(u[0], p[0]), ",", !1, !0).appendXtra("", p[1], ia(u[1], p[1]), "%,", !1).appendXtra("", p[2], ia(u[2], p[2]), y ? "%," : "%" + B, !1) : h.appendXtra(z.substr(0, z.indexOf("rgb")) + (y ? "rgba(" : "rgb("), p[0], u[0] - p[0], ",", !0, !0).appendXtra("", p[1], u[1] - p[1], ",", !0).appendXtra("", p[2], u[2] - p[2], y ? "," : B, !0), y && (p = p.length < 4 ? 1 : p[3], h.appendXtra("", p, (u.length < 4 ? 1 : u[3]) - p, B, !1))), pa.lastIndex = 0;
                        else if (v = p.match(s)) {
                            if (w = u.match(t), !w || w.length !== v.length) return h;
                            for (o = 0, n = 0; n < v.length; n++) A = v[n], z = p.indexOf(A, o), h.appendXtra(p.substr(o, z - o), Number(A), ia(w[n], A), "", G && "px" === p.substr(z + A.length, 2), 0 === n), o = z + A.length;
                            h["xs" + h.l] += p.substr(o)
                        } else h["xs" + h.l] += h.l || h["xs" + h.l] ? " " + u : u;
                        if (-1 !== d.indexOf("=") && h.data) {
                            for (B = h.xs0 + h.data.s, m = 1; m < h.l; m++) B += h["xs" + m] + h.data["xn" + m];
                            h.e = B + h["xs" + m]
                        }
                        return h.l || (h.type = -1, h.xs0 = h.e), h.xfirst || h
                    },
                    wa = 9;
                for (j = ta.prototype, j.l = j.pr = 0; --wa > 0;) j["xn" + wa] = 0, j["xs" + wa] = "";
                j.xs0 = "", j._next = j._prev = j.xfirst = j.data = j.plugin = j.setRatio = j.rxp = null, j.appendXtra = function (a, b, c, d, e, f) {
                    var g = this,
                        h = g.l;
                    return g["xs" + h] += f && (h || g["xs" + h]) ? " " + a : a || "", c || 0 === h || g.plugin ? (g.l++, g.type = g.setRatio ? 2 : 1, g["xs" + g.l] = d || "", h > 0 ? (g.data["xn" + h] = b + c, g.rxp["xn" + h] = e, g["xn" + h] = b, g.plugin || (g.xfirst = new ta(g, "xn" + h, b, c, g.xfirst || g, 0, g.n, e, g.pr), g.xfirst.xs0 = 0), g) : (g.data = {
                        s: b + c
                    }, g.rxp = {}, g.s = b, g.c = c, g.r = e, g)) : (g["xs" + h] += b + (d || ""), g)
                };
                var xa = function (a, b) {
                        b = b || {}, this.p = b.prefix ? Z(a) || a : a, i[a] = i[this.p] = this, this.format = b.formatter || qa(b.defaultValue, b.color, b.collapsible, b.multi), b.parser && (this.parse = b.parser), this.clrs = b.color, this.multi = b.multi, this.keyword = b.keyword, this.dflt = b.defaultValue, this.pr = b.priority || 0
                    },
                    ya = S._registerComplexSpecialProp = function (a, b, c) {
                        "object" != typeof b && (b = {
                            parser: c
                        });
                        var d, e, f = a.split(","),
                            g = b.defaultValue;
                        for (c = c || [g], d = 0; d < f.length; d++) b.prefix = 0 === d && b.prefix, b.defaultValue = c[d] || g, e = new xa(f[d], b)
                    },
                    za = S._registerPluginProp = function (a) {
                        if (!i[a]) {
                            var b = a.charAt(0).toUpperCase() + a.substr(1) + "Plugin";
                            ya(a, {
                                parser: function (a, c, d, e, f, g, j) {
                                    var k = h.com.greensock.plugins[b];
                                    return k ? (k._cssRegister(), i[d].parse(a, c, d, e, f, g, j)) : (W("Error: " + b + " js file not loaded."), f)
                                }
                            })
                        }
                    };
                j = xa.prototype, j.parseComplex = function (a, b, c, d, e, f) {
                    var g, h, i, j, k, l, m = this.keyword;
                    if (this.multi && (I.test(c) || I.test(b) ? (h = b.replace(I, "|").split("|"), i = c.replace(I, "|").split("|")) : m && (h = [b], i = [c])), i) {
                        for (j = i.length > h.length ? i.length : h.length, g = 0; j > g; g++) b = h[g] = h[g] || this.dflt, c = i[g] = i[g] || this.dflt, m && (k = b.indexOf(m), l = c.indexOf(m), k !== l && (-1 === l ? h[g] = h[g].split(m).join("") : -1 === k && (h[g] += " " + m)));
                        b = h.join(", "), c = i.join(", ")
                    }
                    return va(a, this.p, b, c, this.clrs, this.dflt, d, this.pr, e, f)
                }, j.parse = function (a, b, c, d, f, g, h) {
                    return this.parseComplex(a.style, this.format(_(a, this.p, e, !1, this.dflt)), this.format(b), f, g)
                }, g.registerSpecialProp = function (a, b, c) {
                    ya(a, {
                        parser: function (a, d, e, f, g, h, i) {
                            var j = new ta(a, e, 0, 0, g, 2, e, !1, c);
                            return j.plugin = h, j.setRatio = b(a, d, f._tween, e), j
                        },
                        priority: c
                    })
                }, g.useSVGTransformAttr = !0;
                var Aa, Ba = "scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),
                    Ca = Z("transform"),
                    Da = X + "transform",
                    Ea = Z("transformOrigin"),
                    Fa = null !== Z("perspective"),
                    Ga = S.Transform = function () {
                        this.perspective = parseFloat(g.defaultTransformPerspective) || 0, this.force3D = g.defaultForce3D !== !1 && Fa ? g.defaultForce3D || "auto" : !1
                    },
                    Ha = _gsScope.SVGElement,
                    Ia = function (a, b, c) {
                        var d, e = O.createElementNS("http://www.w3.org/2000/svg", a),
                            f = /([a-z])([A-Z])/g;
                        for (d in c) e.setAttributeNS(null, d.replace(f, "$1-$2").toLowerCase(), c[d]);
                        return b.appendChild(e), e
                    },
                    Ja = O.documentElement || {},
                    Ka = function () {
                        var a, b, c, d = p || /Android/i.test(T) && !_gsScope.chrome;
                        return O.createElementNS && !d && (a = Ia("svg", Ja), b = Ia("rect", a, {
                            width: 100,
                            height: 50,
                            x: 100
                        }), c = b.getBoundingClientRect().width, b.style[Ea] = "50% 50%", b.style[Ca] = "scaleX(0.5)", d = c === b.getBoundingClientRect().width && !(n && Fa), Ja.removeChild(a)), d
                    }(),
                    La = function (a, b, c, d, e, f) {
                        var h, i, j, k, l, m, n, o, p, q, r, s, t, u, v = a._gsTransform,
                            w = Qa(a, !0);
                        v && (t = v.xOrigin, u = v.yOrigin), (!d || (h = d.split(" ")).length < 2) && (n = a.getBBox(), 0 === n.x && 0 === n.y && n.width + n.height === 0 && (n = {
                            x: parseFloat(a.hasAttribute("x") ? a.getAttribute("x") : a.hasAttribute("cx") ? a.getAttribute("cx") : 0) || 0,
                            y: parseFloat(a.hasAttribute("y") ? a.getAttribute("y") : a.hasAttribute("cy") ? a.getAttribute("cy") : 0) || 0,
                            width: 0,
                            height: 0
                        }), b = ha(b).split(" "), h = [(-1 !== b[0].indexOf("%") ? parseFloat(b[0]) / 100 * n.width : parseFloat(b[0])) + n.x, (-1 !== b[1].indexOf("%") ? parseFloat(b[1]) / 100 * n.height : parseFloat(b[1])) + n.y]), c.xOrigin = k = parseFloat(h[0]), c.yOrigin = l = parseFloat(h[1]), d && w !== Pa && (m = w[0], n = w[1], o = w[2], p = w[3], q = w[4], r = w[5], s = m * p - n * o, s && (i = k * (p / s) + l * (-o / s) + (o * r - p * q) / s, j = k * (-n / s) + l * (m / s) - (m * r - n * q) / s, k = c.xOrigin = h[0] = i, l = c.yOrigin = h[1] = j)), v && (f && (c.xOffset = v.xOffset, c.yOffset = v.yOffset, v = c), e || e !== !1 && g.defaultSmoothOrigin !== !1 ? (i = k - t, j = l - u, v.xOffset += i * w[0] + j * w[2] - i, v.yOffset += i * w[1] + j * w[3] - j) : v.xOffset = v.yOffset = 0), f || a.setAttribute("data-svg-origin", h.join(" "))
                    },
                    Ma = function (a) {
                        var b, c = P("svg", this.ownerSVGElement && this.ownerSVGElement.getAttribute("xmlns") || "http://www.w3.org/2000/svg"),
                            d = this.parentNode,
                            e = this.nextSibling,
                            f = this.style.cssText;
                        if (Ja.appendChild(c), c.appendChild(this), this.style.display = "block", a) try {
                            b = this.getBBox(), this._originalGetBBox = this.getBBox, this.getBBox = Ma
                        } catch (g) {} else this._originalGetBBox && (b = this._originalGetBBox());
                        return e ? d.insertBefore(this, e) : d.appendChild(this), Ja.removeChild(c), this.style.cssText = f, b
                    },
                    Na = function (a) {
                        try {
                            return a.getBBox()
                        } catch (b) {
                            return Ma.call(a, !0)
                        }
                    },
                    Oa = function (a) {
                        return !(!Ha || !a.getCTM || a.parentNode && !a.ownerSVGElement || !Na(a))
                    },
                    Pa = [1, 0, 0, 1, 0, 0],
                    Qa = function (a, b) {
                        var c, d, e, f, g, h, i = a._gsTransform || new Ga,
                            j = 1e5,
                            k = a.style;
                        if (Ca ? d = _(a, Da, null, !0) : a.currentStyle && (d = a.currentStyle.filter.match(G), d = d && 4 === d.length ? [d[0].substr(4), Number(d[2].substr(4)), Number(d[1].substr(4)), d[3].substr(4), i.x || 0, i.y || 0].join(",") : ""), c = !d || "none" === d || "matrix(1, 0, 0, 1, 0, 0)" === d, !Ca || !(h = !$(a) || "none" === $(a).display) && a.parentNode || (h && (f = k.display, k.display = "block"), a.parentNode || (g = 1, Ja.appendChild(a)), d = _(a, Da, null, !0), c = !d || "none" === d || "matrix(1, 0, 0, 1, 0, 0)" === d, f ? k.display = f : h && Va(k, "display"), g && Ja.removeChild(a)), (i.svg || a.getCTM && Oa(a)) && (c && -1 !== (k[Ca] + "").indexOf("matrix") && (d = k[Ca], c = 0), e = a.getAttribute("transform"), c && e && (-1 !== e.indexOf("matrix") ? (d = e, c = 0) : -1 !== e.indexOf("translate") && (d = "matrix(1,0,0,1," + e.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",") + ")", c = 0))), c) return Pa;
                        for (e = (d || "").match(s) || [], wa = e.length; --wa > -1;) f = Number(e[wa]), e[wa] = (g = f - (f |= 0)) ? (g * j + (0 > g ? -.5 : .5) | 0) / j + f : f;
                        return b && e.length > 6 ? [e[0], e[1], e[4], e[5], e[12], e[13]] : e
                    },
                    Ra = S.getTransform = function (a, c, d, e) {
                        if (a._gsTransform && d && !e) return a._gsTransform;
                        var f, h, i, j, k, l, m = d ? a._gsTransform || new Ga : new Ga,
                            n = m.scaleX < 0,
                            o = 2e-5,
                            p = 1e5,
                            q = Fa ? parseFloat(_(a, Ea, c, !1, "0 0 0").split(" ")[2]) || m.zOrigin || 0 : 0,
                            r = parseFloat(g.defaultTransformPerspective) || 0;
                        if (m.svg = !(!a.getCTM || !Oa(a)), m.svg && (La(a, _(a, Ea, c, !1, "50% 50%") + "", m, a.getAttribute("data-svg-origin")), Aa = g.useSVGTransformAttr || Ka), f = Qa(a), f !== Pa) {
                            if (16 === f.length) {
                                var s, t, u, v, w, x = f[0],
                                    y = f[1],
                                    z = f[2],
                                    A = f[3],
                                    B = f[4],
                                    C = f[5],
                                    D = f[6],
                                    E = f[7],
                                    F = f[8],
                                    G = f[9],
                                    H = f[10],
                                    I = f[12],
                                    J = f[13],
                                    K = f[14],
                                    M = f[11],
                                    N = Math.atan2(D, H);
                                m.zOrigin && (K = -m.zOrigin, I = F * K - f[12], J = G * K - f[13], K = H * K + m.zOrigin - f[14]), m.rotationX = N * L, N && (v = Math.cos(-N), w = Math.sin(-N), s = B * v + F * w, t = C * v + G * w, u = D * v + H * w, F = B * -w + F * v, G = C * -w + G * v, H = D * -w + H * v, M = E * -w + M * v, B = s, C = t, D = u), N = Math.atan2(-z, H), m.rotationY = N * L, N && (v = Math.cos(-N), w = Math.sin(-N), s = x * v - F * w, t = y * v - G * w, u = z * v - H * w, G = y * w + G * v, H = z * w + H * v, M = A * w + M * v, x = s, y = t, z = u), N = Math.atan2(y, x), m.rotation = N * L, N && (v = Math.cos(N), w = Math.sin(N), s = x * v + y * w, t = B * v + C * w, u = F * v + G * w, y = y * v - x * w, C = C * v - B * w, G = G * v - F * w, x = s, B = t, F = u), m.rotationX && Math.abs(m.rotationX) + Math.abs(m.rotation) > 359.9 && (m.rotationX = m.rotation = 0, m.rotationY = 180 - m.rotationY), N = Math.atan2(B, C), m.scaleX = (Math.sqrt(x * x + y * y + z * z) * p + .5 | 0) / p, m.scaleY = (Math.sqrt(C * C + D * D) * p + .5 | 0) / p, m.scaleZ = (Math.sqrt(F * F + G * G + H * H) * p + .5 | 0) / p, x /= m.scaleX, B /= m.scaleY, y /= m.scaleX, C /= m.scaleY, Math.abs(N) > o ? (m.skewX = N * L, B = 0, "simple" !== m.skewType && (m.scaleY *= 1 / Math.cos(N))) : m.skewX = 0, m.perspective = M ? 1 / (0 > M ? -M : M) : 0, m.x = I, m.y = J, m.z = K, m.svg && (m.x -= m.xOrigin - (m.xOrigin * x - m.yOrigin * B), m.y -= m.yOrigin - (m.yOrigin * y - m.xOrigin * C))
                            } else if (!Fa || e || !f.length || m.x !== f[4] || m.y !== f[5] || !m.rotationX && !m.rotationY) {
                                var O = f.length >= 6,
                                    P = O ? f[0] : 1,
                                    Q = f[1] || 0,
                                    R = f[2] || 0,
                                    S = O ? f[3] : 1;
                                m.x = f[4] || 0, m.y = f[5] || 0, i = Math.sqrt(P * P + Q * Q), j = Math.sqrt(S * S + R * R), k = P || Q ? Math.atan2(Q, P) * L : m.rotation || 0, l = R || S ? Math.atan2(R, S) * L + k : m.skewX || 0, m.scaleX = i, m.scaleY = j, m.rotation = k, m.skewX = l, Fa && (m.rotationX = m.rotationY = m.z = 0, m.perspective = r, m.scaleZ = 1), m.svg && (m.x -= m.xOrigin - (m.xOrigin * P + m.yOrigin * R), m.y -= m.yOrigin - (m.xOrigin * Q + m.yOrigin * S))
                            }
                            Math.abs(m.skewX) > 90 && Math.abs(m.skewX) < 270 && (n ? (m.scaleX *= -1, m.skewX += m.rotation <= 0 ? 180 : -180, m.rotation += m.rotation <= 0 ? 180 : -180) : (m.scaleY *= -1, m.skewX += m.skewX <= 0 ? 180 : -180)), m.zOrigin = q;
                            for (h in m) m[h] < o && m[h] > -o && (m[h] = 0)
                        }
                        return d && (a._gsTransform = m, m.svg && (Aa && a.style[Ca] ? b.delayedCall(.001, function () {
                            Va(a.style, Ca)
                        }) : !Aa && a.getAttribute("transform") && b.delayedCall(.001, function () {
                            a.removeAttribute("transform")
                        }))), m
                    },
                    Sa = function (a) {
                        var b, c, d = this.data,
                            e = -d.rotation * K,
                            f = e + d.skewX * K,
                            g = 1e5,
                            h = (Math.cos(e) * d.scaleX * g | 0) / g,
                            i = (Math.sin(e) * d.scaleX * g | 0) / g,
                            j = (Math.sin(f) * -d.scaleY * g | 0) / g,
                            k = (Math.cos(f) * d.scaleY * g | 0) / g,
                            l = this.t.style,
                            m = this.t.currentStyle;
                        if (m) {
                            c = i, i = -j, j = -c, b = m.filter, l.filter = "";
                            var n, o, q = this.t.offsetWidth,
                                r = this.t.offsetHeight,
                                s = "absolute" !== m.position,
                                t = "progid:DXImageTransform.Microsoft.Matrix(M11=" + h + ", M12=" + i + ", M21=" + j + ", M22=" + k,
                                u = d.x + q * d.xPercent / 100,
                                v = d.y + r * d.yPercent / 100;
                            if (null != d.ox && (n = (d.oxp ? q * d.ox * .01 : d.ox) - q / 2, o = (d.oyp ? r * d.oy * .01 : d.oy) - r / 2, u += n - (n * h + o * i), v += o - (n * j + o * k)), s ? (n = q / 2, o = r / 2, t += ", Dx=" + (n - (n * h + o * i) + u) + ", Dy=" + (o - (n * j + o * k) + v) + ")") : t += ", sizingMethod='auto expand')", -1 !== b.indexOf("DXImageTransform.Microsoft.Matrix(") ? l.filter = b.replace(H, t) : l.filter = t + " " + b, (0 === a || 1 === a) && 1 === h && 0 === i && 0 === j && 1 === k && (s && -1 === t.indexOf("Dx=0, Dy=0") || x.test(b) && 100 !== parseFloat(RegExp.$1) || -1 === b.indexOf(b.indexOf("Alpha")) && l.removeAttribute("filter")), !s) {
                                var y, z, A, B = 8 > p ? 1 : -1;
                                for (n = d.ieOffsetX || 0, o = d.ieOffsetY || 0, d.ieOffsetX = Math.round((q - ((0 > h ? -h : h) * q + (0 > i ? -i : i) * r)) / 2 + u), d.ieOffsetY = Math.round((r - ((0 > k ? -k : k) * r + (0 > j ? -j : j) * q)) / 2 + v), wa = 0; 4 > wa; wa++) z = fa[wa], y = m[z], c = -1 !== y.indexOf("px") ? parseFloat(y) : aa(this.t, z, parseFloat(y), y.replace(w, "")) || 0, A = c !== d[z] ? 2 > wa ? -d.ieOffsetX : -d.ieOffsetY : 2 > wa ? n - d.ieOffsetX : o - d.ieOffsetY, l[z] = (d[z] = Math.round(c - A * (0 === wa || 2 === wa ? 1 : B))) + "px"
                            }
                        }
                    },
                    Ta = S.set3DTransformRatio = S.setTransformRatio = function (a) {
                        var b, c, d, e, f, g, h, i, j, k, l, m, o, p, q, r, s, t, u, v, w, x, y, z = this.data,
                            A = this.t.style,
                            B = z.rotation,
                            C = z.rotationX,
                            D = z.rotationY,
                            E = z.scaleX,
                            F = z.scaleY,
                            G = z.scaleZ,
                            H = z.x,
                            I = z.y,
                            J = z.z,
                            L = z.svg,
                            M = z.perspective,
                            N = z.force3D,
                            O = z.skewY,
                            P = z.skewX;
                        if (O && (P += O, B += O), ((1 === a || 0 === a) && "auto" === N && (this.tween._totalTime === this.tween._totalDuration || !this.tween._totalTime) || !N) && !J && !M && !D && !C && 1 === G || Aa && L || !Fa) return void(B || P || L ? (B *= K, x = P * K, y = 1e5, c = Math.cos(B) * E, f = Math.sin(B) * E, d = Math.sin(B - x) * -F, g = Math.cos(B - x) * F, x && "simple" === z.skewType && (b = Math.tan(x - O * K), b = Math.sqrt(1 + b * b), d *= b, g *= b, O && (b = Math.tan(O * K), b = Math.sqrt(1 + b * b), c *= b, f *= b)), L && (H += z.xOrigin - (z.xOrigin * c + z.yOrigin * d) + z.xOffset, I += z.yOrigin - (z.xOrigin * f + z.yOrigin * g) + z.yOffset, Aa && (z.xPercent || z.yPercent) && (q = this.t.getBBox(), H += .01 * z.xPercent * q.width, I += .01 * z.yPercent * q.height), q = 1e-6, q > H && H > -q && (H = 0), q > I && I > -q && (I = 0)), u = (c * y | 0) / y + "," + (f * y | 0) / y + "," + (d * y | 0) / y + "," + (g * y | 0) / y + "," + H + "," + I + ")", L && Aa ? this.t.setAttribute("transform", "matrix(" + u) : A[Ca] = (z.xPercent || z.yPercent ? "translate(" + z.xPercent + "%," + z.yPercent + "%) matrix(" : "matrix(") + u) : A[Ca] = (z.xPercent || z.yPercent ? "translate(" + z.xPercent + "%," + z.yPercent + "%) matrix(" : "matrix(") + E + ",0,0," + F + "," + H + "," + I + ")");
                        if (n && (q = 1e-4, q > E && E > -q && (E = G = 2e-5), q > F && F > -q && (F = G = 2e-5), !M || z.z || z.rotationX || z.rotationY || (M = 0)), B || P) B *= K, r = c = Math.cos(B), s = f = Math.sin(B), P && (B -= P * K, r = Math.cos(B), s = Math.sin(B), "simple" === z.skewType && (b = Math.tan((P - O) * K), b = Math.sqrt(1 + b * b), r *= b, s *= b, z.skewY && (b = Math.tan(O * K), b = Math.sqrt(1 + b * b), c *= b, f *= b))), d = -s, g = r;
                        else {
                            if (!(D || C || 1 !== G || M || L)) return void(A[Ca] = (z.xPercent || z.yPercent ? "translate(" + z.xPercent + "%," + z.yPercent + "%) translate3d(" : "translate3d(") + H + "px," + I + "px," + J + "px)" + (1 !== E || 1 !== F ? " scale(" + E + "," + F + ")" : ""));
                            c = g = 1, d = f = 0
                        }
                        k = 1, e = h = i = j = l = m = 0, o = M ? -1 / M : 0, p = z.zOrigin, q = 1e-6, v = ",", w = "0", B = D * K, B && (r = Math.cos(B), s = Math.sin(B), i = -s, l = o * -s, e = c * s, h = f * s, k = r, o *= r, c *= r, f *= r), B = C * K, B && (r = Math.cos(B), s = Math.sin(B), b = d * r + e * s, t = g * r + h * s, j = k * s, m = o * s, e = d * -s + e * r, h = g * -s + h * r, k *= r, o *= r, d = b, g = t), 1 !== G && (e *= G, h *= G, k *= G, o *= G), 1 !== F && (d *= F, g *= F, j *= F, m *= F), 1 !== E && (c *= E, f *= E, i *= E, l *= E), (p || L) && (p && (H += e * -p, I += h * -p, J += k * -p + p), L && (H += z.xOrigin - (z.xOrigin * c + z.yOrigin * d) + z.xOffset, I += z.yOrigin - (z.xOrigin * f + z.yOrigin * g) + z.yOffset), q > H && H > -q && (H = w), q > I && I > -q && (I = w), q > J && J > -q && (J = 0)), u = z.xPercent || z.yPercent ? "translate(" + z.xPercent + "%," + z.yPercent + "%) matrix3d(" : "matrix3d(", u += (q > c && c > -q ? w : c) + v + (q > f && f > -q ? w : f) + v + (q > i && i > -q ? w : i), u += v + (q > l && l > -q ? w : l) + v + (q > d && d > -q ? w : d) + v + (q > g && g > -q ? w : g), C || D || 1 !== G ? (u += v + (q > j && j > -q ? w : j) + v + (q > m && m > -q ? w : m) + v + (q > e && e > -q ? w : e), u += v + (q > h && h > -q ? w : h) + v + (q > k && k > -q ? w : k) + v + (q > o && o > -q ? w : o) + v) : u += ",0,0,0,0,1,0,", u += H + v + I + v + J + v + (M ? 1 + -J / M : 1) + ")", A[Ca] = u
                    };
                j = Ga.prototype, j.x = j.y = j.z = j.skewX = j.skewY = j.rotation = j.rotationX = j.rotationY = j.zOrigin = j.xPercent = j.yPercent = j.xOffset = j.yOffset = 0, j.scaleX = j.scaleY = j.scaleZ = 1, ya("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin", {
                    parser: function (a, b, c, d, f, h, i) {
                        if (d._lastParsedTransform === i) return f;
                        d._lastParsedTransform = i;
                        var j, k = i.scale && "function" == typeof i.scale ? i.scale : 0;
                        "function" == typeof i[c] && (j = i[c], i[c] = b), k && (i.scale = k(r, a));
                        var l, m, n, o, p, s, t, u, v, w = a._gsTransform,
                            x = a.style,
                            y = 1e-6,
                            z = Ba.length,
                            A = i,
                            B = {},
                            C = "transformOrigin",
                            D = Ra(a, e, !0, A.parseTransform),
                            E = A.transform && ("function" == typeof A.transform ? A.transform(r, q) : A.transform);
                        if (D.skewType = A.skewType || D.skewType || g.defaultSkewType, d._transform = D, E && "string" == typeof E && Ca) m = Q.style, m[Ca] = E, m.display = "block", m.position = "absolute", O.body.appendChild(Q), l = Ra(Q, null, !1), "simple" === D.skewType && (l.scaleY *= Math.cos(l.skewX * K)), D.svg && (s = D.xOrigin, t = D.yOrigin, l.x -= D.xOffset, l.y -= D.yOffset, (A.transformOrigin || A.svgOrigin) && (E = {}, La(a, ha(A.transformOrigin), E, A.svgOrigin, A.smoothOrigin, !0), s = E.xOrigin, t = E.yOrigin, l.x -= E.xOffset - D.xOffset, l.y -= E.yOffset - D.yOffset), (s || t) && (u = Qa(Q, !0), l.x -= s - (s * u[0] + t * u[2]), l.y -= t - (s * u[1] + t * u[3]))), O.body.removeChild(Q), l.perspective || (l.perspective = D.perspective), null != A.xPercent && (l.xPercent = ja(A.xPercent, D.xPercent)), null != A.yPercent && (l.yPercent = ja(A.yPercent, D.yPercent));
                        else if ("object" == typeof A) {
                            if (l = {
                                    scaleX: ja(null != A.scaleX ? A.scaleX : A.scale, D.scaleX),
                                    scaleY: ja(null != A.scaleY ? A.scaleY : A.scale, D.scaleY),
                                    scaleZ: ja(A.scaleZ, D.scaleZ),
                                    x: ja(A.x, D.x),
                                    y: ja(A.y, D.y),
                                    z: ja(A.z, D.z),
                                    xPercent: ja(A.xPercent, D.xPercent),
                                    yPercent: ja(A.yPercent, D.yPercent),
                                    perspective: ja(A.transformPerspective, D.perspective)
                                }, p = A.directionalRotation, null != p)
                                if ("object" == typeof p)
                                    for (m in p) A[m] = p[m];
                                else A.rotation = p;
                            "string" == typeof A.x && -1 !== A.x.indexOf("%") && (l.x = 0, l.xPercent = ja(A.x, D.xPercent)), "string" == typeof A.y && -1 !== A.y.indexOf("%") && (l.y = 0, l.yPercent = ja(A.y, D.yPercent)), l.rotation = ka("rotation" in A ? A.rotation : "shortRotation" in A ? A.shortRotation + "_short" : "rotationZ" in A ? A.rotationZ : D.rotation, D.rotation, "rotation", B), Fa && (l.rotationX = ka("rotationX" in A ? A.rotationX : "shortRotationX" in A ? A.shortRotationX + "_short" : D.rotationX || 0, D.rotationX, "rotationX", B), l.rotationY = ka("rotationY" in A ? A.rotationY : "shortRotationY" in A ? A.shortRotationY + "_short" : D.rotationY || 0, D.rotationY, "rotationY", B)), l.skewX = ka(A.skewX, D.skewX), l.skewY = ka(A.skewY, D.skewY)
                        }
                        for (Fa && null != A.force3D && (D.force3D = A.force3D, o = !0), n = D.force3D || D.z || D.rotationX || D.rotationY || l.z || l.rotationX || l.rotationY || l.perspective, n || null == A.scale || (l.scaleZ = 1); --z > -1;) v = Ba[z], E = l[v] - D[v], (E > y || -y > E || null != A[v] || null != M[v]) && (o = !0, f = new ta(D, v, D[v], E, f), v in B && (f.e = B[v]), f.xs0 = 0, f.plugin = h, d._overwriteProps.push(f.n));
                        return E = A.transformOrigin, D.svg && (E || A.svgOrigin) && (s = D.xOffset, t = D.yOffset, La(a, ha(E), l, A.svgOrigin, A.smoothOrigin), f = ua(D, "xOrigin", (w ? D : l).xOrigin, l.xOrigin, f, C), f = ua(D, "yOrigin", (w ? D : l).yOrigin, l.yOrigin, f, C), (s !== D.xOffset || t !== D.yOffset) && (f = ua(D, "xOffset", w ? s : D.xOffset, D.xOffset, f, C), f = ua(D, "yOffset", w ? t : D.yOffset, D.yOffset, f, C)), E = "0px 0px"), (E || Fa && n && D.zOrigin) && (Ca ? (o = !0, v = Ea, E = (E || _(a, v, e, !1, "50% 50%")) + "", f = new ta(x, v, 0, 0, f, -1, C), f.b = x[v], f.plugin = h, Fa ? (m = D.zOrigin, E = E.split(" "), D.zOrigin = (E.length > 2 && (0 === m || "0px" !== E[2]) ? parseFloat(E[2]) : m) || 0, f.xs0 = f.e = E[0] + " " + (E[1] || "50%") + " 0px", f = new ta(D, "zOrigin", 0, 0, f, -1, f.n), f.b = m, f.xs0 = f.e = D.zOrigin) : f.xs0 = f.e = E) : ha(E + "", D)), o && (d._transformType = D.svg && Aa || !n && 3 !== this._transformType ? 2 : 3), j && (i[c] = j), k && (i.scale = k), f
                    },
                    prefix: !0
                }), ya("boxShadow", {
                    defaultValue: "0px 0px 0px 0px #999",
                    prefix: !0,
                    color: !0,
                    multi: !0,
                    keyword: "inset"
                }), ya("borderRadius", {
                    defaultValue: "0px",
                    parser: function (a, b, c, f, g, h) {
                        b = this.format(b);
                        var i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y = ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"],
                            z = a.style;
                        for (q = parseFloat(a.offsetWidth), r = parseFloat(a.offsetHeight), i = b.split(" "), j = 0; j < y.length; j++) this.p.indexOf("border") && (y[j] = Z(y[j])), m = l = _(a, y[j], e, !1, "0px"), -1 !== m.indexOf(" ") && (l = m.split(" "), m = l[0], l = l[1]), n = k = i[j], o = parseFloat(m), t = m.substr((o + "").length), u = "=" === n.charAt(1), u ? (p = parseInt(n.charAt(0) + "1", 10), n = n.substr(2), p *= parseFloat(n), s = n.substr((p + "").length - (0 > p ? 1 : 0)) || "") : (p = parseFloat(n), s = n.substr((p + "").length)), "" === s && (s = d[c] || t), s !== t && (v = aa(a, "borderLeft", o, t), w = aa(a, "borderTop", o, t), "%" === s ? (m = v / q * 100 + "%", l = w / r * 100 + "%") : "em" === s ? (x = aa(a, "borderLeft", 1, "em"), m = v / x + "em", l = w / x + "em") : (m = v + "px", l = w + "px"), u && (n = parseFloat(m) + p + s, k = parseFloat(l) + p + s)), g = va(z, y[j], m + " " + l, n + " " + k, !1, "0px", g);
                        return g
                    },
                    prefix: !0,
                    formatter: qa("0px 0px 0px 0px", !1, !0)
                }), ya("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius", {
                    defaultValue: "0px",
                    parser: function (a, b, c, d, f, g) {
                        return va(a.style, c, this.format(_(a, c, e, !1, "0px 0px")), this.format(b), !1, "0px", f)
                    },
                    prefix: !0,
                    formatter: qa("0px 0px", !1, !0)
                }), ya("backgroundPosition", {
                    defaultValue: "0 0",
                    parser: function (a, b, c, d, f, g) {
                        var h, i, j, k, l, m, n = "background-position",
                            o = e || $(a, null),
                            q = this.format((o ? p ? o.getPropertyValue(n + "-x") + " " + o.getPropertyValue(n + "-y") : o.getPropertyValue(n) : a.currentStyle.backgroundPositionX + " " + a.currentStyle.backgroundPositionY) || "0 0"),
                            r = this.format(b);
                        if (-1 !== q.indexOf("%") != (-1 !== r.indexOf("%")) && r.split(",").length < 2 && (m = _(a, "backgroundImage").replace(D, ""), m && "none" !== m)) {
                            for (h = q.split(" "), i = r.split(" "), R.setAttribute("src", m), j = 2; --j > -1;) q = h[j], k = -1 !== q.indexOf("%"), k !== (-1 !== i[j].indexOf("%")) && (l = 0 === j ? a.offsetWidth - R.width : a.offsetHeight - R.height, h[j] = k ? parseFloat(q) / 100 * l + "px" : parseFloat(q) / l * 100 + "%");
                            q = h.join(" ")
                        }
                        return this.parseComplex(a.style, q, r, f, g)
                    },
                    formatter: ha
                }), ya("backgroundSize", {
                    defaultValue: "0 0",
                    formatter: function (a) {
                        return a += "", ha(-1 === a.indexOf(" ") ? a + " " + a : a)
                    }
                }), ya("perspective", {
                    defaultValue: "0px",
                    prefix: !0
                }), ya("perspectiveOrigin", {
                    defaultValue: "50% 50%",
                    prefix: !0
                }), ya("transformStyle", {
                    prefix: !0
                }), ya("backfaceVisibility", {
                    prefix: !0
                }), ya("userSelect", {
                    prefix: !0
                }), ya("margin", {
                    parser: ra("marginTop,marginRight,marginBottom,marginLeft")
                }), ya("padding", {
                    parser: ra("paddingTop,paddingRight,paddingBottom,paddingLeft")
                }), ya("clip", {
                    defaultValue: "rect(0px,0px,0px,0px)",
                    parser: function (a, b, c, d, f, g) {
                        var h, i, j;
                        return 9 > p ? (i = a.currentStyle, j = 8 > p ? " " : ",", h = "rect(" + i.clipTop + j + i.clipRight + j + i.clipBottom + j + i.clipLeft + ")", b = this.format(b).split(",").join(j)) : (h = this.format(_(a, this.p, e, !1, this.dflt)), b = this.format(b)), this.parseComplex(a.style, h, b, f, g)
                    }
                }), ya("textShadow", {
                    defaultValue: "0px 0px 0px #999",
                    color: !0,
                    multi: !0
                }), ya("autoRound,strictUnits", {
                    parser: function (a, b, c, d, e) {
                        return e
                    }
                }), ya("border", {
                    defaultValue: "0px solid #000",
                    parser: function (a, b, c, d, f, g) {
                        var h = _(a, "borderTopWidth", e, !1, "0px"),
                            i = this.format(b).split(" "),
                            j = i[0].replace(w, "");
                        return "px" !== j && (h = parseFloat(h) / aa(a, "borderTopWidth", 1, j) + j), this.parseComplex(a.style, this.format(h + " " + _(a, "borderTopStyle", e, !1, "solid") + " " + _(a, "borderTopColor", e, !1, "#000")), i.join(" "), f, g)
                    },
                    color: !0,
                    formatter: function (a) {
                        var b = a.split(" ");
                        return b[0] + " " + (b[1] || "solid") + " " + (a.match(pa) || ["#000"])[0]
                    }
                }), ya("borderWidth", {
                    parser: ra("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")
                }), ya("float,cssFloat,styleFloat", {
                    parser: function (a, b, c, d, e, f) {
                        var g = a.style,
                            h = "cssFloat" in g ? "cssFloat" : "styleFloat";
                        return new ta(g, h, 0, 0, e, -1, c, !1, 0, g[h], b)
                    }
                });
                var Ua = function (a) {
                    var b, c = this.t,
                        d = c.filter || _(this.data, "filter") || "",
                        e = this.s + this.c * a | 0;
                    100 === e && (-1 === d.indexOf("atrix(") && -1 === d.indexOf("radient(") && -1 === d.indexOf("oader(") ? (c.removeAttribute("filter"), b = !_(this.data, "filter")) : (c.filter = d.replace(z, ""), b = !0)), b || (this.xn1 && (c.filter = d = d || "alpha(opacity=" + e + ")"), -1 === d.indexOf("pacity") ? 0 === e && this.xn1 || (c.filter = d + " alpha(opacity=" + e + ")") : c.filter = d.replace(x, "opacity=" + e))
                };
                ya("opacity,alpha,autoAlpha", {
                    defaultValue: "1",
                    parser: function (a, b, c, d, f, g) {
                        var h = parseFloat(_(a, "opacity", e, !1, "1")),
                            i = a.style,
                            j = "autoAlpha" === c;
                        return "string" == typeof b && "=" === b.charAt(1) && (b = ("-" === b.charAt(0) ? -1 : 1) * parseFloat(b.substr(2)) + h), j && 1 === h && "hidden" === _(a, "visibility", e) && 0 !== b && (h = 0), U ? f = new ta(i, "opacity", h, b - h, f) : (f = new ta(i, "opacity", 100 * h, 100 * (b - h), f), f.xn1 = j ? 1 : 0, i.zoom = 1, f.type = 2, f.b = "alpha(opacity=" + f.s + ")", f.e = "alpha(opacity=" + (f.s + f.c) + ")", f.data = a, f.plugin = g, f.setRatio = Ua), j && (f = new ta(i, "visibility", 0, 0, f, -1, null, !1, 0, 0 !== h ? "inherit" : "hidden", 0 === b ? "hidden" : "inherit"), f.xs0 = "inherit", d._overwriteProps.push(f.n), d._overwriteProps.push(c)), f
                    }
                });
                var Va = function (a, b) {
                        b && (a.removeProperty ? (("ms" === b.substr(0, 2) || "webkit" === b.substr(0, 6)) && (b = "-" + b), a.removeProperty(b.replace(B, "-$1").toLowerCase())) : a.removeAttribute(b))
                    },
                    Wa = function (a) {
                        if (this.t._gsClassPT = this, 1 === a || 0 === a) {
                            this.t.setAttribute("class", 0 === a ? this.b : this.e);
                            for (var b = this.data, c = this.t.style; b;) b.v ? c[b.p] = b.v : Va(c, b.p), b = b._next;
                            1 === a && this.t._gsClassPT === this && (this.t._gsClassPT = null)
                        } else this.t.getAttribute("class") !== this.e && this.t.setAttribute("class", this.e)
                    };
                ya("className", {
                    parser: function (a, b, d, f, g, h, i) {
                        var j, k, l, m, n, o = a.getAttribute("class") || "",
                            p = a.style.cssText;
                        if (g = f._classNamePT = new ta(a, d, 0, 0, g, 2), g.setRatio = Wa, g.pr = -11, c = !0, g.b = o, k = ca(a, e), l = a._gsClassPT) {
                            for (m = {}, n = l.data; n;) m[n.p] = 1, n = n._next;
                            l.setRatio(1)
                        }
                        return a._gsClassPT = g, g.e = "=" !== b.charAt(1) ? b : o.replace(new RegExp("(?:\\s|^)" + b.substr(2) + "(?![\\w-])"), "") + ("+" === b.charAt(0) ? " " + b.substr(2) : ""), a.setAttribute("class", g.e), j = da(a, k, ca(a), i, m), a.setAttribute("class", o), g.data = j.firstMPT, a.style.cssText = p, g = g.xfirst = f.parse(a, j.difs, g, h)
                    }
                });
                var Xa = function (a) {
                    if ((1 === a || 0 === a) && this.data._totalTime === this.data._totalDuration && "isFromStart" !== this.data.data) {
                        var b, c, d, e, f, g = this.t.style,
                            h = i.transform.parse;
                        if ("all" === this.e) g.cssText = "", e = !0;
                        else
                            for (b = this.e.split(" ").join("").split(","), d = b.length; --d > -1;) c = b[d], i[c] && (i[c].parse === h ? e = !0 : c = "transformOrigin" === c ? Ea : i[c].p), Va(g, c);
                        e && (Va(g, Ca), f = this.t._gsTransform, f && (f.svg && (this.t.removeAttribute("data-svg-origin"), this.t.removeAttribute("transform")), delete this.t._gsTransform))
                    }
                };
                for (ya("clearProps", {
                        parser: function (a, b, d, e, f) {
                            return f = new ta(a, d, 0, 0, f, 2), f.setRatio = Xa, f.e = b, f.pr = -10, f.data = e._tween, c = !0, f
                        }
                    }), j = "bezier,throwProps,physicsProps,physics2D".split(","), wa = j.length; wa--;) za(j[wa]);
                j = g.prototype, j._firstPT = j._lastParsedTransform = j._transform = null, j._onInitTween = function (a, b, h, j) {
                    if (!a.nodeType) return !1;
                    this._target = q = a, this._tween = h, this._vars = b, r = j, k = b.autoRound, c = !1, d = b.suffixMap || g.suffixMap, e = $(a, ""), f = this._overwriteProps;
                    var n, p, s, t, u, v, w, x, z, A = a.style;
                    if (l && "" === A.zIndex && (n = _(a, "zIndex", e), ("auto" === n || "" === n) && this._addLazySet(A, "zIndex", 0)), "string" == typeof b && (t = A.cssText, n = ca(a, e), A.cssText = t + ";" + b, n = da(a, n, ca(a)).difs, !U && y.test(b) && (n.opacity = parseFloat(RegExp.$1)), b = n, A.cssText = t), b.className ? this._firstPT = p = i.className.parse(a, b.className, "className", this, null, null, b) : this._firstPT = p = this.parse(a, b, null), this._transformType) {
                        for (z = 3 === this._transformType, Ca ? m && (l = !0, "" === A.zIndex && (w = _(a, "zIndex", e), ("auto" === w || "" === w) && this._addLazySet(A, "zIndex", 0)), o && this._addLazySet(A, "WebkitBackfaceVisibility", this._vars.WebkitBackfaceVisibility || (z ? "visible" : "hidden"))) : A.zoom = 1, s = p; s && s._next;) s = s._next;
                        x = new ta(a, "transform", 0, 0, null, 2), this._linkCSSP(x, null, s), x.setRatio = Ca ? Ta : Sa, x.data = this._transform || Ra(a, e, !0), x.tween = h, x.pr = -1, f.pop()
                    }
                    if (c) {
                        for (; p;) {
                            for (v = p._next, s = t; s && s.pr > p.pr;) s = s._next;
                            (p._prev = s ? s._prev : u) ? p._prev._next = p: t = p, (p._next = s) ? s._prev = p : u = p, p = v
                        }
                        this._firstPT = t
                    }
                    return !0
                }, j.parse = function (a, b, c, f) {
                    var g, h, j, l, m, n, o, p, s, t, u = a.style;
                    for (g in b) {
                        if (n = b[g], "function" == typeof n && (n = n(r, q)), h = i[g]) c = h.parse(a, n, g, this, c, f, b);
                        else {
                            if ("--" === g.substr(0, 2)) {
                                this._tween._propLookup[g] = this._addTween.call(this._tween, a.style, "setProperty", $(a).getPropertyValue(g) + "", n + "", g, !1, g);
                                continue
                            }
                            m = _(a, g, e) + "", s = "string" == typeof n, "color" === g || "fill" === g || "stroke" === g || -1 !== g.indexOf("Color") || s && A.test(n) ? (s || (n = na(n), n = (n.length > 3 ? "rgba(" : "rgb(") + n.join(",") + ")"), c = va(u, g, m, n, !0, "transparent", c, 0, f)) : s && J.test(n) ? c = va(u, g, m, n, !0, null, c, 0, f) : (j = parseFloat(m), o = j || 0 === j ? m.substr((j + "").length) : "", ("" === m || "auto" === m) && ("width" === g || "height" === g ? (j = ga(a, g, e), o = "px") : "left" === g || "top" === g ? (j = ba(a, g, e), o = "px") : (j = "opacity" !== g ? 0 : 1, o = "")), t = s && "=" === n.charAt(1), t ? (l = parseInt(n.charAt(0) + "1", 10), n = n.substr(2), l *= parseFloat(n), p = n.replace(w, "")) : (l = parseFloat(n), p = s ? n.replace(w, "") : ""), "" === p && (p = g in d ? d[g] : o), n = l || 0 === l ? (t ? l + j : l) + p : b[g], o !== p && ("" !== p || "lineHeight" === g) && (l || 0 === l) && j && (j = aa(a, g, j, o), "%" === p ? (j /= aa(a, g, 100, "%") / 100, b.strictUnits !== !0 && (m = j + "%")) : "em" === p || "rem" === p || "vw" === p || "vh" === p ? j /= aa(a, g, 1, p) : "px" !== p && (l = aa(a, g, l, p), p = "px"), t && (l || 0 === l) && (n = l + j + p)), t && (l += j), !j && 0 !== j || !l && 0 !== l ? void 0 !== u[g] && (n || n + "" != "NaN" && null != n) ? (c = new ta(u, g, l || j || 0, 0, c, -1, g, !1, 0, m, n), c.xs0 = "none" !== n || "display" !== g && -1 === g.indexOf("Style") ? n : m) : W("invalid " + g + " tween value: " + b[g]) : (c = new ta(u, g, j, l - j, c, 0, g, k !== !1 && ("px" === p || "zIndex" === g), 0, m, n), c.xs0 = p))
                        }
                        f && c && !c.plugin && (c.plugin = f)
                    }
                    return c
                }, j.setRatio = function (a) {
                    var b, c, d, e = this._firstPT,
                        f = 1e-6;
                    if (1 !== a || this._tween._time !== this._tween._duration && 0 !== this._tween._time)
                        if (a || this._tween._time !== this._tween._duration && 0 !== this._tween._time || this._tween._rawPrevTime === -1e-6)
                            for (; e;) {
                                if (b = e.c * a + e.s, e.r ? b = Math.round(b) : f > b && b > -f && (b = 0), e.type)
                                    if (1 === e.type)
                                        if (d = e.l, 2 === d) e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2;
                                        else if (3 === d) e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3;
                                else if (4 === d) e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3 + e.xn3 + e.xs4;
                                else if (5 === d) e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3 + e.xn3 + e.xs4 + e.xn4 + e.xs5;
                                else {
                                    for (c = e.xs0 + b + e.xs1, d = 1; d < e.l; d++) c += e["xn" + d] + e["xs" + (d + 1)];
                                    e.t[e.p] = c
                                } else -1 === e.type ? e.t[e.p] = e.xs0 : e.setRatio && e.setRatio(a);
                                else e.t[e.p] = b + e.xs0;
                                e = e._next
                            } else
                                for (; e;) 2 !== e.type ? e.t[e.p] = e.b : e.setRatio(a), e = e._next;
                        else
                            for (; e;) {
                                if (2 !== e.type)
                                    if (e.r && -1 !== e.type)
                                        if (b = Math.round(e.s + e.c), e.type) {
                                            if (1 === e.type) {
                                                for (d = e.l, c = e.xs0 + b + e.xs1, d = 1; d < e.l; d++) c += e["xn" + d] + e["xs" + (d + 1)];
                                                e.t[e.p] = c
                                            }
                                        } else e.t[e.p] = b + e.xs0;
                                else e.t[e.p] = e.e;
                                else e.setRatio(a);
                                e = e._next
                            }
                }, j._enableTransforms = function (a) {
                    this._transform = this._transform || Ra(this._target, e, !0), this._transformType = this._transform.svg && Aa || !a && 3 !== this._transformType ? 2 : 3
                };
                var Ya = function (a) {
                    this.t[this.p] = this.e, this.data._linkCSSP(this, this._next, null, !0)
                };
                j._addLazySet = function (a, b, c) {
                    var d = this._firstPT = new ta(a, b, 0, 0, this._firstPT, 2);
                    d.e = c, d.setRatio = Ya, d.data = this
                }, j._linkCSSP = function (a, b, c, d) {
                    return a && (b && (b._prev = a), a._next && (a._next._prev = a._prev), a._prev ? a._prev._next = a._next : this._firstPT === a && (this._firstPT = a._next, d = !0), c ? c._next = a : d || null !== this._firstPT || (this._firstPT = a), a._next = b, a._prev = c), a
                }, j._mod = function (a) {
                    for (var b = this._firstPT; b;) "function" == typeof a[b.p] && a[b.p] === Math.round && (b.r = 1), b = b._next
                }, j._kill = function (b) {
                    var c, d, e, f = b;
                    if (b.autoAlpha || b.alpha) {
                        f = {};
                        for (d in b) f[d] = b[d];
                        f.opacity = 1, f.autoAlpha && (f.visibility = 1)
                    }
                    for (b.className && (c = this._classNamePT) && (e = c.xfirst, e && e._prev ? this._linkCSSP(e._prev, c._next, e._prev._prev) : e === this._firstPT && (this._firstPT = c._next), c._next && this._linkCSSP(c._next, c._next._next, e._prev), this._classNamePT = null), c = this._firstPT; c;) c.plugin && c.plugin !== d && c.plugin._kill && (c.plugin._kill(b), d = c.plugin), c = c._next;
                    return a.prototype._kill.call(this, f)
                };
                var Za = function (a, b, c) {
                    var d, e, f, g;
                    if (a.slice)
                        for (e = a.length; --e > -1;) Za(a[e], b, c);
                    else
                        for (d = a.childNodes, e = d.length; --e > -1;) f = d[e], g = f.type, f.style && (b.push(ca(f)), c && c.push(f)), 1 !== g && 9 !== g && 11 !== g || !f.childNodes.length || Za(f, b, c)
                };
                return g.cascadeTo = function (a, c, d) {
                    var e, f, g, h, i = b.to(a, c, d),
                        j = [i],
                        k = [],
                        l = [],
                        m = [],
                        n = b._internals.reservedProps;
                    for (a = i._targets || i.target, Za(a, k, m), i.render(c, !0, !0), Za(a, l), i.render(0, !0, !0), i._enabled(!0), e = m.length; --e > -1;)
                        if (f = da(m[e], k[e], l[e]), f.firstMPT) {
                            f = f.difs;
                            for (g in d) n[g] && (f[g] = d[g]);
                            h = {};
                            for (g in f) h[g] = k[e][g];
                            j.push(b.fromTo(m[e], c, h, f))
                        } return j
                }, a.activate([g]), g
            }, !0),
            function () {
                var a = _gsScope._gsDefine.plugin({
                        propName: "roundProps",
                        version: "1.6.0",
                        priority: -1,
                        API: 2,
                        init: function (a, b, c) {
                            return this._tween = c, !0
                        }
                    }),
                    b = function (a) {
                        for (; a;) a.f || a.blob || (a.m = Math.round), a = a._next
                    },
                    c = a.prototype;
                c._onInitAllProps = function () {
                    for (var a, c, d, e = this._tween, f = e.vars.roundProps.join ? e.vars.roundProps : e.vars.roundProps.split(","), g = f.length, h = {}, i = e._propLookup.roundProps; --g > -1;) h[f[g]] = Math.round;
                    for (g = f.length; --g > -1;)
                        for (a = f[g], c = e._firstPT; c;) d = c._next, c.pg ? c.t._mod(h) : c.n === a && (2 === c.f && c.t ? b(c.t._firstPT) : (this._add(c.t, a, c.s, c.c), d && (d._prev = c._prev), c._prev ? c._prev._next = d : e._firstPT === c && (e._firstPT = d), c._next = c._prev = null, e._propLookup[a] = i)), c = d;
                    return !1
                }, c._add = function (a, b, c, d) {
                    this._addTween(a, b, c, c + d, b, Math.round), this._overwriteProps.push(b)
                }
            }(),
            function () {
                _gsScope._gsDefine.plugin({
                    propName: "attr",
                    API: 2,
                    version: "0.6.1",
                    init: function (a, b, c, d) {
                        var e, f;
                        if ("function" != typeof a.setAttribute) return !1;
                        for (e in b) f = b[e], "function" == typeof f && (f = f(d, a)), this._addTween(a, "setAttribute", a.getAttribute(e) + "", f + "", e, !1, e), this._overwriteProps.push(e);
                        return !0
                    }
                })
            }(), _gsScope._gsDefine.plugin({
                propName: "directionalRotation",
                version: "0.3.1",
                API: 2,
                init: function (a, b, c, d) {
                    "object" != typeof b && (b = {
                        rotation: b
                    }), this.finals = {};
                    var e, f, g, h, i, j, k = b.useRadians === !0 ? 2 * Math.PI : 360,
                        l = 1e-6;
                    for (e in b) "useRadians" !== e && (h = b[e], "function" == typeof h && (h = h(d, a)), j = (h + "").split("_"), f = j[0], g = parseFloat("function" != typeof a[e] ? a[e] : a[e.indexOf("set") || "function" != typeof a["get" + e.substr(3)] ? e : "get" + e.substr(3)]()), h = this.finals[e] = "string" == typeof f && "=" === f.charAt(1) ? g + parseInt(f.charAt(0) + "1", 10) * Number(f.substr(2)) : Number(f) || 0, i = h - g, j.length && (f = j.join("_"), -1 !== f.indexOf("short") && (i %= k, i !== i % (k / 2) && (i = 0 > i ? i + k : i - k)), -1 !== f.indexOf("_cw") && 0 > i ? i = (i + 9999999999 * k) % k - (i / k | 0) * k : -1 !== f.indexOf("ccw") && i > 0 && (i = (i - 9999999999 * k) % k - (i / k | 0) * k)), (i > l || -l > i) && (this._addTween(a, e, g, g + i, e), this._overwriteProps.push(e)));
                    return !0
                },
                set: function (a) {
                    var b;
                    if (1 !== a) this._super.setRatio.call(this, a);
                    else
                        for (b = this._firstPT; b;) b.f ? b.t[b.p](this.finals[b.p]) : b.t[b.p] = this.finals[b.p], b = b._next
                }
            })._autoCSS = !0, _gsScope._gsDefine("easing.Back", ["easing.Ease"], function (a) {
                var b, c, d, e = _gsScope.GreenSockGlobals || _gsScope,
                    f = e.com.greensock,
                    g = 2 * Math.PI,
                    h = Math.PI / 2,
                    i = f._class,
                    j = function (b, c) {
                        var d = i("easing." + b, function () {}, !0),
                            e = d.prototype = new a;
                        return e.constructor = d, e.getRatio = c, d
                    },
                    k = a.register || function () {},
                    l = function (a, b, c, d, e) {
                        var f = i("easing." + a, {
                            easeOut: new b,
                            easeIn: new c,
                            easeInOut: new d
                        }, !0);
                        return k(f, a), f
                    },
                    m = function (a, b, c) {
                        this.t = a, this.v = b, c && (this.next = c, c.prev = this, this.c = c.v - b, this.gap = c.t - a)
                    },
                    n = function (b, c) {
                        var d = i("easing." + b, function (a) {
                                this._p1 = a || 0 === a ? a : 1.70158, this._p2 = 1.525 * this._p1
                            }, !0),
                            e = d.prototype = new a;
                        return e.constructor = d, e.getRatio = c, e.config = function (a) {
                            return new d(a)
                        }, d
                    },
                    o = l("Back", n("BackOut", function (a) {
                        return (a -= 1) * a * ((this._p1 + 1) * a + this._p1) + 1
                    }), n("BackIn", function (a) {
                        return a * a * ((this._p1 + 1) * a - this._p1)
                    }), n("BackInOut", function (a) {
                        return (a *= 2) < 1 ? .5 * a * a * ((this._p2 + 1) * a - this._p2) : .5 * ((a -= 2) * a * ((this._p2 + 1) * a + this._p2) + 2)
                    })),
                    p = i("easing.SlowMo", function (a, b, c) {
                        b = b || 0 === b ? b : .7, null == a ? a = .7 : a > 1 && (a = 1), this._p = 1 !== a ? b : 0, this._p1 = (1 - a) / 2, this._p2 = a, this._p3 = this._p1 + this._p2, this._calcEnd = c === !0
                    }, !0),
                    q = p.prototype = new a;
                return q.constructor = p, q.getRatio = function (a) {
                    var b = a + (.5 - a) * this._p;
                    return a < this._p1 ? this._calcEnd ? 1 - (a = 1 - a / this._p1) * a : b - (a = 1 - a / this._p1) * a * a * a * b : a > this._p3 ? this._calcEnd ? 1 === a ? 0 : 1 - (a = (a - this._p3) / this._p1) * a : b + (a - b) * (a = (a - this._p3) / this._p1) * a * a * a : this._calcEnd ? 1 : b
                }, p.ease = new p(.7, .7), q.config = p.config = function (a, b, c) {
                    return new p(a, b, c)
                }, b = i("easing.SteppedEase", function (a, b) {
                    a = a || 1, this._p1 = 1 / a, this._p2 = a + (b ? 0 : 1), this._p3 = b ? 1 : 0
                }, !0), q = b.prototype = new a, q.constructor = b, q.getRatio = function (a) {
                    return 0 > a ? a = 0 : a >= 1 && (a = .999999999), ((this._p2 * a | 0) + this._p3) * this._p1
                }, q.config = b.config = function (a, c) {
                    return new b(a, c)
                }, c = i("easing.RoughEase", function (b) {
                    b = b || {};
                    for (var c, d, e, f, g, h, i = b.taper || "none", j = [], k = 0, l = 0 | (b.points || 20), n = l, o = b.randomize !== !1, p = b.clamp === !0, q = b.template instanceof a ? b.template : null, r = "number" == typeof b.strength ? .4 * b.strength : .4; --n > -1;) c = o ? Math.random() : 1 / l * n, d = q ? q.getRatio(c) : c, "none" === i ? e = r : "out" === i ? (f = 1 - c, e = f * f * r) : "in" === i ? e = c * c * r : .5 > c ? (f = 2 * c, e = f * f * .5 * r) : (f = 2 * (1 - c), e = f * f * .5 * r), o ? d += Math.random() * e - .5 * e : n % 2 ? d += .5 * e : d -= .5 * e, p && (d > 1 ? d = 1 : 0 > d && (d = 0)), j[k++] = {
                        x: c,
                        y: d
                    };
                    for (j.sort(function (a, b) {
                            return a.x - b.x
                        }), h = new m(1, 1, null), n = l; --n > -1;) g = j[n], h = new m(g.x, g.y, h);
                    this._prev = new m(0, 0, 0 !== h.t ? h : h.next)
                }, !0), q = c.prototype = new a, q.constructor = c, q.getRatio = function (a) {
                    var b = this._prev;
                    if (a > b.t) {
                        for (; b.next && a >= b.t;) b = b.next;
                        b = b.prev
                    } else
                        for (; b.prev && a <= b.t;) b = b.prev;
                    return this._prev = b, b.v + (a - b.t) / b.gap * b.c
                }, q.config = function (a) {
                    return new c(a)
                }, c.ease = new c, l("Bounce", j("BounceOut", function (a) {
                    return 1 / 2.75 > a ? 7.5625 * a * a : 2 / 2.75 > a ? 7.5625 * (a -= 1.5 / 2.75) * a + .75 : 2.5 / 2.75 > a ? 7.5625 * (a -= 2.25 / 2.75) * a + .9375 : 7.5625 * (a -= 2.625 / 2.75) * a + .984375
                }), j("BounceIn", function (a) {
                    return (a = 1 - a) < 1 / 2.75 ? 1 - 7.5625 * a * a : 2 / 2.75 > a ? 1 - (7.5625 * (a -= 1.5 / 2.75) * a + .75) : 2.5 / 2.75 > a ? 1 - (7.5625 * (a -= 2.25 / 2.75) * a + .9375) : 1 - (7.5625 * (a -= 2.625 / 2.75) * a + .984375)
                }), j("BounceInOut", function (a) {
                    var b = .5 > a;
                    return a = b ? 1 - 2 * a : 2 * a - 1, a = 1 / 2.75 > a ? 7.5625 * a * a : 2 / 2.75 > a ? 7.5625 * (a -= 1.5 / 2.75) * a + .75 : 2.5 / 2.75 > a ? 7.5625 * (a -= 2.25 / 2.75) * a + .9375 : 7.5625 * (a -= 2.625 / 2.75) * a + .984375, b ? .5 * (1 - a) : .5 * a + .5
                })), l("Circ", j("CircOut", function (a) {
                    return Math.sqrt(1 - (a -= 1) * a)
                }), j("CircIn", function (a) {
                    return -(Math.sqrt(1 - a * a) - 1)
                }), j("CircInOut", function (a) {
                    return (a *= 2) < 1 ? -.5 * (Math.sqrt(1 - a * a) - 1) : .5 * (Math.sqrt(1 - (a -= 2) * a) + 1)
                })), d = function (b, c, d) {
                    var e = i("easing." + b, function (a, b) {
                            this._p1 = a >= 1 ? a : 1, this._p2 = (b || d) / (1 > a ? a : 1), this._p3 = this._p2 / g * (Math.asin(1 / this._p1) || 0), this._p2 = g / this._p2
                        }, !0),
                        f = e.prototype = new a;
                    return f.constructor = e, f.getRatio = c, f.config = function (a, b) {
                        return new e(a, b)
                    }, e
                }, l("Elastic", d("ElasticOut", function (a) {
                    return this._p1 * Math.pow(2, -10 * a) * Math.sin((a - this._p3) * this._p2) + 1
                }, .3), d("ElasticIn", function (a) {
                    return -(this._p1 * Math.pow(2, 10 * (a -= 1)) * Math.sin((a - this._p3) * this._p2))
                }, .3), d("ElasticInOut", function (a) {
                    return (a *= 2) < 1 ? -.5 * (this._p1 * Math.pow(2, 10 * (a -= 1)) * Math.sin((a - this._p3) * this._p2)) : this._p1 * Math.pow(2, -10 * (a -= 1)) * Math.sin((a - this._p3) * this._p2) * .5 + 1
                }, .45)), l("Expo", j("ExpoOut", function (a) {
                    return 1 - Math.pow(2, -10 * a)
                }), j("ExpoIn", function (a) {
                    return Math.pow(2, 10 * (a - 1)) - .001
                }), j("ExpoInOut", function (a) {
                    return (a *= 2) < 1 ? .5 * Math.pow(2, 10 * (a - 1)) : .5 * (2 - Math.pow(2, -10 * (a - 1)))
                })), l("Sine", j("SineOut", function (a) {
                    return Math.sin(a * h)
                }), j("SineIn", function (a) {
                    return -Math.cos(a * h) + 1
                }), j("SineInOut", function (a) {
                    return -.5 * (Math.cos(Math.PI * a) - 1)
                })), i("easing.EaseLookup", {
                    find: function (b) {
                        return a.map[b]
                    }
                }, !0), k(e.SlowMo, "SlowMo", "ease,"), k(c, "RoughEase", "ease,"), k(b, "SteppedEase", "ease,"), o
            }, !0)
    }), _gsScope._gsDefine && _gsScope._gsQueue.pop()(),
    function (a, b) {
        "use strict";
        var c = {},
            d = a.document,
            e = a.GreenSockGlobals = a.GreenSockGlobals || a;
        if (!e.TweenLite) {
            var f, g, h, i, j, k = function (a) {
                    var b, c = a.split("."),
                        d = e;
                    for (b = 0; b < c.length; b++) d[c[b]] = d = d[c[b]] || {};
                    return d
                },
                l = k("com.greensock"),
                m = 1e-10,
                n = function (a) {
                    var b, c = [],
                        d = a.length;
                    for (b = 0; b !== d; c.push(a[b++]));
                    return c
                },
                o = function () {},
                p = function () {
                    var a = Object.prototype.toString,
                        b = a.call([]);
                    return function (c) {
                        return null != c && (c instanceof Array || "object" == typeof c && !!c.push && a.call(c) === b)
                    }
                }(),
                q = {},
                r = function (d, f, g, h) {
                    this.sc = q[d] ? q[d].sc : [], q[d] = this, this.gsClass = null, this.func = g;
                    var i = [];
                    this.check = function (j) {
                        for (var l, m, n, o, p = f.length, s = p; --p > -1;)(l = q[f[p]] || new r(f[p], [])).gsClass ? (i[p] = l.gsClass, s--) : j && l.sc.push(this);
                        if (0 === s && g) {
                            if (m = ("com.greensock." + d).split("."), n = m.pop(), o = k(m.join("."))[n] = this.gsClass = g.apply(g, i), h)
                                if (e[n] = c[n] = o, "undefined" != typeof module && module.exports)
                                    if (d === b) {
                                        module.exports = c[b] = o;
                                        for (p in c) o[p] = c[p]
                                    } else c[b] && (c[b][n] = o);
                            else "function" == typeof define && define.amd && define((a.GreenSockAMDPath ? a.GreenSockAMDPath + "/" : "") + d.split(".").pop(), [], function () {
                                return o
                            });
                            for (p = 0; p < this.sc.length; p++) this.sc[p].check()
                        }
                    }, this.check(!0)
                },
                s = a._gsDefine = function (a, b, c, d) {
                    return new r(a, b, c, d)
                },
                t = l._class = function (a, b, c) {
                    return b = b || function () {}, s(a, [], function () {
                        return b
                    }, c), b
                };
            s.globals = e;
            var u = [0, 0, 1, 1],
                v = t("easing.Ease", function (a, b, c, d) {
                    this._func = a, this._type = c || 0, this._power = d || 0, this._params = b ? u.concat(b) : u
                }, !0),
                w = v.map = {},
                x = v.register = function (a, b, c, d) {
                    for (var e, f, g, h, i = b.split(","), j = i.length, k = (c || "easeIn,easeOut,easeInOut").split(","); --j > -1;)
                        for (f = i[j], e = d ? t("easing." + f, null, !0) : l.easing[f] || {}, g = k.length; --g > -1;) h = k[g], w[f + "." + h] = w[h + f] = e[h] = a.getRatio ? a : a[h] || new a
                };
            for (h = v.prototype, h._calcEnd = !1, h.getRatio = function (a) {
                    if (this._func) return this._params[0] = a, this._func.apply(null, this._params);
                    var b = this._type,
                        c = this._power,
                        d = 1 === b ? 1 - a : 2 === b ? a : .5 > a ? 2 * a : 2 * (1 - a);
                    return 1 === c ? d *= d : 2 === c ? d *= d * d : 3 === c ? d *= d * d * d : 4 === c && (d *= d * d * d * d), 1 === b ? 1 - d : 2 === b ? d : .5 > a ? d / 2 : 1 - d / 2
                }, f = ["Linear", "Quad", "Cubic", "Quart", "Quint,Strong"], g = f.length; --g > -1;) h = f[g] + ",Power" + g, x(new v(null, null, 1, g), h, "easeOut", !0), x(new v(null, null, 2, g), h, "easeIn" + (0 === g ? ",easeNone" : "")), x(new v(null, null, 3, g), h, "easeInOut");
            w.linear = l.easing.Linear.easeIn, w.swing = l.easing.Quad.easeInOut;
            var y = t("events.EventDispatcher", function (a) {
                this._listeners = {}, this._eventTarget = a || this
            });
            h = y.prototype, h.addEventListener = function (a, b, c, d, e) {
                e = e || 0;
                var f, g, h = this._listeners[a],
                    k = 0;
                for (this !== i || j || i.wake(), null == h && (this._listeners[a] = h = []), g = h.length; --g > -1;) f = h[g], f.c === b && f.s === c ? h.splice(g, 1) : 0 === k && f.pr < e && (k = g + 1);
                h.splice(k, 0, {
                    c: b,
                    s: c,
                    up: d,
                    pr: e
                })
            }, h.removeEventListener = function (a, b) {
                var c, d = this._listeners[a];
                if (d)
                    for (c = d.length; --c > -1;)
                        if (d[c].c === b) return void d.splice(c, 1)
            }, h.dispatchEvent = function (a) {
                var b, c, d, e = this._listeners[a];
                if (e)
                    for (b = e.length, b > 1 && (e = e.slice(0)), c = this._eventTarget; --b > -1;) d = e[b], d && (d.up ? d.c.call(d.s || c, {
                        type: a,
                        target: c
                    }) : d.c.call(d.s || c))
            };
            var z = a.requestAnimationFrame,
                A = a.cancelAnimationFrame,
                B = Date.now || function () {
                    return (new Date).getTime()
                },
                C = B();
            for (f = ["ms", "moz", "webkit", "o"], g = f.length; --g > -1 && !z;) z = a[f[g] + "RequestAnimationFrame"], A = a[f[g] + "CancelAnimationFrame"] || a[f[g] + "CancelRequestAnimationFrame"];
            t("Ticker", function (a, b) {
                var c, e, f, g, h, k = this,
                    l = B(),
                    n = b !== !1 && z ? "auto" : !1,
                    p = 500,
                    q = 33,
                    r = "tick",
                    s = function (a) {
                        var b, d, i = B() - C;
                        i > p && (l += i - q), C += i, k.time = (C - l) / 1e3, b = k.time - h, (!c || b > 0 || a === !0) && (k.frame++, h += b + (b >= g ? .004 : g - b), d = !0), a !== !0 && (f = e(s)), d && k.dispatchEvent(r)
                    };
                y.call(k), k.time = k.frame = 0, k.tick = function () {
                    s(!0)
                }, k.lagSmoothing = function (a, b) {
                    return arguments.length ? (p = a || 1 / m, void(q = Math.min(b, p, 0))) : 1 / m > p
                }, k.sleep = function () {
                    null != f && (n && A ? A(f) : clearTimeout(f), e = o, f = null, k === i && (j = !1))
                }, k.wake = function (a) {
                    null !== f ? k.sleep() : a ? l += -C + (C = B()) : k.frame > 10 && (C = B() - p + 5), e = 0 === c ? o : n && z ? z : function (a) {
                        return setTimeout(a, 1e3 * (h - k.time) + 1 | 0)
                    }, k === i && (j = !0), s(2)
                }, k.fps = function (a) {
                    return arguments.length ? (c = a, g = 1 / (c || 60), h = this.time + g, void k.wake()) : c
                }, k.useRAF = function (a) {
                    return arguments.length ? (k.sleep(), n = a, void k.fps(c)) : n
                }, k.fps(a), setTimeout(function () {
                    "auto" === n && k.frame < 5 && "hidden" !== d.visibilityState && k.useRAF(!1)
                }, 1500)
            }), h = l.Ticker.prototype = new l.events.EventDispatcher, h.constructor = l.Ticker;
            var D = t("core.Animation", function (a, b) {
                if (this.vars = b = b || {}, this._duration = this._totalDuration = a || 0, this._delay = Number(b.delay) || 0, this._timeScale = 1, this._active = b.immediateRender === !0, this.data = b.data, this._reversed = b.reversed === !0, X) {
                    j || i.wake();
                    var c = this.vars.useFrames ? W : X;
                    c.add(this, c._time), this.vars.paused && this.paused(!0)
                }
            });
            i = D.ticker = new l.Ticker, h = D.prototype, h._dirty = h._gc = h._initted = h._paused = !1, h._totalTime = h._time = 0, h._rawPrevTime = -1, h._next = h._last = h._onUpdate = h._timeline = h.timeline = null, h._paused = !1;
            var E = function () {
                j && B() - C > 2e3 && ("hidden" !== d.visibilityState || !i.lagSmoothing()) && i.wake();
                var a = setTimeout(E, 2e3);
                a.unref && a.unref()
            };
            E(), h.play = function (a, b) {
                return null != a && this.seek(a, b), this.reversed(!1).paused(!1)
            }, h.pause = function (a, b) {
                return null != a && this.seek(a, b), this.paused(!0)
            }, h.resume = function (a, b) {
                return null != a && this.seek(a, b), this.paused(!1)
            }, h.seek = function (a, b) {
                return this.totalTime(Number(a), b !== !1)
            }, h.restart = function (a, b) {
                return this.reversed(!1).paused(!1).totalTime(a ? -this._delay : 0, b !== !1, !0)
            }, h.reverse = function (a, b) {
                return null != a && this.seek(a || this.totalDuration(), b), this.reversed(!0).paused(!1)
            }, h.render = function (a, b, c) {}, h.invalidate = function () {
                return this._time = this._totalTime = 0, this._initted = this._gc = !1, this._rawPrevTime = -1, (this._gc || !this.timeline) && this._enabled(!0), this
            }, h.isActive = function () {
                var a, b = this._timeline,
                    c = this._startTime;
                return !b || !this._gc && !this._paused && b.isActive() && (a = b.rawTime(!0)) >= c && a < c + this.totalDuration() / this._timeScale - 1e-7
            }, h._enabled = function (a, b) {
                return j || i.wake(), this._gc = !a, this._active = this.isActive(), b !== !0 && (a && !this.timeline ? this._timeline.add(this, this._startTime - this._delay) : !a && this.timeline && this._timeline._remove(this, !0)), !1
            }, h._kill = function (a, b) {
                return this._enabled(!1, !1)
            }, h.kill = function (a, b) {
                return this._kill(a, b), this
            }, h._uncache = function (a) {
                for (var b = a ? this : this.timeline; b;) b._dirty = !0, b = b.timeline;
                return this
            }, h._swapSelfInParams = function (a) {
                for (var b = a.length, c = a.concat(); --b > -1;) "{self}" === a[b] && (c[b] = this);
                return c
            }, h._callback = function (a) {
                var b = this.vars,
                    c = b[a],
                    d = b[a + "Params"],
                    e = b[a + "Scope"] || b.callbackScope || this,
                    f = d ? d.length : 0;
                switch (f) {
                    case 0:
                        c.call(e);
                        break;
                    case 1:
                        c.call(e, d[0]);
                        break;
                    case 2:
                        c.call(e, d[0], d[1]);
                        break;
                    default:
                        c.apply(e, d)
                }
            }, h.eventCallback = function (a, b, c, d) {
                if ("on" === (a || "").substr(0, 2)) {
                    var e = this.vars;
                    if (1 === arguments.length) return e[a];
                    null == b ? delete e[a] : (e[a] = b, e[a + "Params"] = p(c) && -1 !== c.join("").indexOf("{self}") ? this._swapSelfInParams(c) : c, e[a + "Scope"] = d), "onUpdate" === a && (this._onUpdate = b)
                }
                return this
            }, h.delay = function (a) {
                return arguments.length ? (this._timeline.smoothChildTiming && this.startTime(this._startTime + a - this._delay), this._delay = a, this) : this._delay
            }, h.duration = function (a) {
                return arguments.length ? (this._duration = this._totalDuration = a, this._uncache(!0), this._timeline.smoothChildTiming && this._time > 0 && this._time < this._duration && 0 !== a && this.totalTime(this._totalTime * (a / this._duration), !0), this) : (this._dirty = !1, this._duration)
            }, h.totalDuration = function (a) {
                return this._dirty = !1, arguments.length ? this.duration(a) : this._totalDuration
            }, h.time = function (a, b) {
                return arguments.length ? (this._dirty && this.totalDuration(), this.totalTime(a > this._duration ? this._duration : a, b)) : this._time
            }, h.totalTime = function (a, b, c) {
                if (j || i.wake(), !arguments.length) return this._totalTime;
                if (this._timeline) {
                    if (0 > a && !c && (a += this.totalDuration()), this._timeline.smoothChildTiming) {
                        this._dirty && this.totalDuration();
                        var d = this._totalDuration,
                            e = this._timeline;
                        if (a > d && !c && (a = d), this._startTime = (this._paused ? this._pauseTime : e._time) - (this._reversed ? d - a : a) / this._timeScale, e._dirty || this._uncache(!1), e._timeline)
                            for (; e._timeline;) e._timeline._time !== (e._startTime + e._totalTime) / e._timeScale && e.totalTime(e._totalTime, !0), e = e._timeline
                    }
                    this._gc && this._enabled(!0, !1), (this._totalTime !== a || 0 === this._duration) && (J.length && Z(), this.render(a, b, !1), J.length && Z())
                }
                return this
            }, h.progress = h.totalProgress = function (a, b) {
                var c = this.duration();
                return arguments.length ? this.totalTime(c * a, b) : c ? this._time / c : this.ratio
            }, h.startTime = function (a) {
                return arguments.length ? (a !== this._startTime && (this._startTime = a, this.timeline && this.timeline._sortChildren && this.timeline.add(this, a - this._delay)), this) : this._startTime
            }, h.endTime = function (a) {
                return this._startTime + (0 != a ? this.totalDuration() : this.duration()) / this._timeScale
            }, h.timeScale = function (a) {
                if (!arguments.length) return this._timeScale;
                var b, c;
                for (a = a || m, this._timeline && this._timeline.smoothChildTiming && (b = this._pauseTime, c = b || 0 === b ? b : this._timeline.totalTime(), this._startTime = c - (c - this._startTime) * this._timeScale / a), this._timeScale = a, c = this.timeline; c && c.timeline;) c._dirty = !0, c.totalDuration(), c = c.timeline;
                return this
            }, h.reversed = function (a) {
                return arguments.length ? (a != this._reversed && (this._reversed = a, this.totalTime(this._timeline && !this._timeline.smoothChildTiming ? this.totalDuration() - this._totalTime : this._totalTime, !0)), this) : this._reversed
            }, h.paused = function (a) {
                if (!arguments.length) return this._paused;
                var b, c, d = this._timeline;
                return a != this._paused && d && (j || a || i.wake(), b = d.rawTime(), c = b - this._pauseTime, !a && d.smoothChildTiming && (this._startTime += c, this._uncache(!1)), this._pauseTime = a ? b : null, this._paused = a, this._active = this.isActive(), !a && 0 !== c && this._initted && this.duration() && (b = d.smoothChildTiming ? this._totalTime : (b - this._startTime) / this._timeScale, this.render(b, b === this._totalTime, !0))), this._gc && !a && this._enabled(!0, !1), this
            };
            var F = t("core.SimpleTimeline", function (a) {
                D.call(this, 0, a), this.autoRemoveChildren = this.smoothChildTiming = !0
            });
            h = F.prototype = new D, h.constructor = F, h.kill()._gc = !1, h._first = h._last = h._recent = null, h._sortChildren = !1, h.add = h.insert = function (a, b, c, d) {
                var e, f;
                if (a._startTime = Number(b || 0) + a._delay, a._paused && this !== a._timeline && (a._pauseTime = a._startTime + (this.rawTime() - a._startTime) / a._timeScale), a.timeline && a.timeline._remove(a, !0), a.timeline = a._timeline = this, a._gc && a._enabled(!0, !0), e = this._last, this._sortChildren)
                    for (f = a._startTime; e && e._startTime > f;) e = e._prev;
                return e ? (a._next = e._next, e._next = a) : (a._next = this._first, this._first = a), a._next ? a._next._prev = a : this._last = a, a._prev = e, this._recent = a, this._timeline && this._uncache(!0), this
            }, h._remove = function (a, b) {
                return a.timeline === this && (b || a._enabled(!1, !0), a._prev ? a._prev._next = a._next : this._first === a && (this._first = a._next), a._next ? a._next._prev = a._prev : this._last === a && (this._last = a._prev), a._next = a._prev = a.timeline = null, a === this._recent && (this._recent = this._last), this._timeline && this._uncache(!0)), this
            }, h.render = function (a, b, c) {
                var d, e = this._first;
                for (this._totalTime = this._time = this._rawPrevTime = a; e;) d = e._next, (e._active || a >= e._startTime && !e._paused && !e._gc) && (e._reversed ? e.render((e._dirty ? e.totalDuration() : e._totalDuration) - (a - e._startTime) * e._timeScale, b, c) : e.render((a - e._startTime) * e._timeScale, b, c)), e = d
            }, h.rawTime = function () {
                return j || i.wake(), this._totalTime
            };
            var G = t("TweenLite", function (b, c, d) {
                    if (D.call(this, c, d), this.render = G.prototype.render, null == b) throw "Cannot tween a null target.";
                    this.target = b = "string" != typeof b ? b : G.selector(b) || b;
                    var e, f, g, h = b.jquery || b.length && b !== a && b[0] && (b[0] === a || b[0].nodeType && b[0].style && !b.nodeType),
                        i = this.vars.overwrite;
                    if (this._overwrite = i = null == i ? V[G.defaultOverwrite] : "number" == typeof i ? i >> 0 : V[i], (h || b instanceof Array || b.push && p(b)) && "number" != typeof b[0])
                        for (this._targets = g = n(b), this._propLookup = [], this._siblings = [], e = 0; e < g.length; e++) f = g[e], f ? "string" != typeof f ? f.length && f !== a && f[0] && (f[0] === a || f[0].nodeType && f[0].style && !f.nodeType) ? (g.splice(e--, 1), this._targets = g = g.concat(n(f))) : (this._siblings[e] = $(f, this, !1), 1 === i && this._siblings[e].length > 1 && aa(f, this, null, 1, this._siblings[e])) : (f = g[e--] = G.selector(f), "string" == typeof f && g.splice(e + 1, 1)) : g.splice(e--, 1);
                    else this._propLookup = {}, this._siblings = $(b, this, !1), 1 === i && this._siblings.length > 1 && aa(b, this, null, 1, this._siblings);
                    (this.vars.immediateRender || 0 === c && 0 === this._delay && this.vars.immediateRender !== !1) && (this._time = -m, this.render(Math.min(0, -this._delay)))
                }, !0),
                H = function (b) {
                    return b && b.length && b !== a && b[0] && (b[0] === a || b[0].nodeType && b[0].style && !b.nodeType)
                },
                I = function (a, b) {
                    var c, d = {};
                    for (c in a) U[c] || c in b && "transform" !== c && "x" !== c && "y" !== c && "width" !== c && "height" !== c && "className" !== c && "border" !== c || !(!R[c] || R[c] && R[c]._autoCSS) || (d[c] = a[c], delete a[c]);
                    a.css = d
                };
            h = G.prototype = new D, h.constructor = G, h.kill()._gc = !1, h.ratio = 0, h._firstPT = h._targets = h._overwrittenProps = h._startAt = null, h._notifyPluginsOfEnabled = h._lazy = !1, G.version = "1.20.3", G.defaultEase = h._ease = new v(null, null, 1, 1), G.defaultOverwrite = "auto", G.ticker = i, G.autoSleep = 120, G.lagSmoothing = function (a, b) {
                i.lagSmoothing(a, b)
            }, G.selector = a.$ || a.jQuery || function (b) {
                var c = a.$ || a.jQuery;
                return c ? (G.selector = c, c(b)) : "undefined" == typeof d ? b : d.querySelectorAll ? d.querySelectorAll(b) : d.getElementById("#" === b.charAt(0) ? b.substr(1) : b)
            };
            var J = [],
                K = {},
                L = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,
                M = /[\+-]=-?[\.\d]/,
                N = function (a) {
                    for (var b, c = this._firstPT, d = 1e-6; c;) b = c.blob ? 1 === a && null != this.end ? this.end : a ? this.join("") : this.start : c.c * a + c.s, c.m ? b = c.m(b, this._target || c.t) : d > b && b > -d && !c.blob && (b = 0), c.f ? c.fp ? c.t[c.p](c.fp, b) : c.t[c.p](b) : c.t[c.p] = b, c = c._next
                },
                O = function (a, b, c, d) {
                    var e, f, g, h, i, j, k, l = [],
                        m = 0,
                        n = "",
                        o = 0;
                    for (l.start = a, l.end = b, a = l[0] = a + "", b = l[1] = b + "", c && (c(l), a = l[0], b = l[1]), l.length = 0, e = a.match(L) || [], f = b.match(L) || [], d && (d._next = null, d.blob = 1, l._firstPT = l._applyPT = d), i = f.length, h = 0; i > h; h++) k = f[h], j = b.substr(m, b.indexOf(k, m) - m), n += j || !h ? j : ",", m += j.length, o ? o = (o + 1) % 5 : "rgba(" === j.substr(-5) && (o = 1), k === e[h] || e.length <= h ? n += k : (n && (l.push(n), n = ""), g = parseFloat(e[h]), l.push(g), l._firstPT = {
                        _next: l._firstPT,
                        t: l,
                        p: l.length - 1,
                        s: g,
                        c: ("=" === k.charAt(1) ? parseInt(k.charAt(0) + "1", 10) * parseFloat(k.substr(2)) : parseFloat(k) - g) || 0,
                        f: 0,
                        m: o && 4 > o ? Math.round : 0
                    }), m += k.length;
                    return n += b.substr(m), n && l.push(n), l.setRatio = N, M.test(b) && (l.end = null), l
                },
                P = function (a, b, c, d, e, f, g, h, i) {
                    "function" == typeof d && (d = d(i || 0, a));
                    var j, k = typeof a[b],
                        l = "function" !== k ? "" : b.indexOf("set") || "function" != typeof a["get" + b.substr(3)] ? b : "get" + b.substr(3),
                        m = "get" !== c ? c : l ? g ? a[l](g) : a[l]() : a[b],
                        n = "string" == typeof d && "=" === d.charAt(1),
                        o = {
                            t: a,
                            p: b,
                            s: m,
                            f: "function" === k,
                            pg: 0,
                            n: e || b,
                            m: f ? "function" == typeof f ? f : Math.round : 0,
                            pr: 0,
                            c: n ? parseInt(d.charAt(0) + "1", 10) * parseFloat(d.substr(2)) : parseFloat(d) - m || 0
                        };
                    return ("number" != typeof m || "number" != typeof d && !n) && (g || isNaN(m) || !n && isNaN(d) || "boolean" == typeof m || "boolean" == typeof d ? (o.fp = g, j = O(m, n ? parseFloat(o.s) + o.c : d, h || G.defaultStringFilter, o), o = {
                        t: j,
                        p: "setRatio",
                        s: 0,
                        c: 1,
                        f: 2,
                        pg: 0,
                        n: e || b,
                        pr: 0,
                        m: 0
                    }) : (o.s = parseFloat(m), n || (o.c = parseFloat(d) - o.s || 0))), o.c ? ((o._next = this._firstPT) && (o._next._prev = o), this._firstPT = o, o) : void 0
                },
                Q = G._internals = {
                    isArray: p,
                    isSelector: H,
                    lazyTweens: J,
                    blobDif: O
                },
                R = G._plugins = {},
                S = Q.tweenLookup = {},
                T = 0,
                U = Q.reservedProps = {
                    ease: 1,
                    delay: 1,
                    overwrite: 1,
                    onComplete: 1,
                    onCompleteParams: 1,
                    onCompleteScope: 1,
                    useFrames: 1,
                    runBackwards: 1,
                    startAt: 1,
                    onUpdate: 1,
                    onUpdateParams: 1,
                    onUpdateScope: 1,
                    onStart: 1,
                    onStartParams: 1,
                    onStartScope: 1,
                    onReverseComplete: 1,
                    onReverseCompleteParams: 1,
                    onReverseCompleteScope: 1,
                    onRepeat: 1,
                    onRepeatParams: 1,
                    onRepeatScope: 1,
                    easeParams: 1,
                    yoyo: 1,
                    immediateRender: 1,
                    repeat: 1,
                    repeatDelay: 1,
                    data: 1,
                    paused: 1,
                    reversed: 1,
                    autoCSS: 1,
                    lazy: 1,
                    onOverwrite: 1,
                    callbackScope: 1,
                    stringFilter: 1,
                    id: 1,
                    yoyoEase: 1
                },
                V = {
                    none: 0,
                    all: 1,
                    auto: 2,
                    concurrent: 3,
                    allOnStart: 4,
                    preexisting: 5,
                    "true": 1,
                    "false": 0
                },
                W = D._rootFramesTimeline = new F,
                X = D._rootTimeline = new F,
                Y = 30,
                Z = Q.lazyRender = function () {
                    var a, b = J.length;
                    for (K = {}; --b > -1;) a = J[b], a && a._lazy !== !1 && (a.render(a._lazy[0], a._lazy[1], !0), a._lazy = !1);
                    J.length = 0
                };
            X._startTime = i.time, W._startTime = i.frame, X._active = W._active = !0, setTimeout(Z, 1), D._updateRoot = G.render = function () {
                var a, b, c;
                if (J.length && Z(), X.render((i.time - X._startTime) * X._timeScale, !1, !1), W.render((i.frame - W._startTime) * W._timeScale, !1, !1), J.length && Z(), i.frame >= Y) {
                    Y = i.frame + (parseInt(G.autoSleep, 10) || 120);
                    for (c in S) {
                        for (b = S[c].tweens, a = b.length; --a > -1;) b[a]._gc && b.splice(a, 1);
                        0 === b.length && delete S[c]
                    }
                    if (c = X._first, (!c || c._paused) && G.autoSleep && !W._first && 1 === i._listeners.tick.length) {
                        for (; c && c._paused;) c = c._next;
                        c || i.sleep()
                    }
                }
            }, i.addEventListener("tick", D._updateRoot);
            var $ = function (a, b, c) {
                    var d, e, f = a._gsTweenID;
                    if (S[f || (a._gsTweenID = f = "t" + T++)] || (S[f] = {
                            target: a,
                            tweens: []
                        }), b && (d = S[f].tweens, d[e = d.length] = b, c))
                        for (; --e > -1;) d[e] === b && d.splice(e, 1);
                    return S[f].tweens
                },
                _ = function (a, b, c, d) {
                    var e, f, g = a.vars.onOverwrite;
                    return g && (e = g(a, b, c, d)), g = G.onOverwrite, g && (f = g(a, b, c, d)), e !== !1 && f !== !1
                },
                aa = function (a, b, c, d, e) {
                    var f, g, h, i;
                    if (1 === d || d >= 4) {
                        for (i = e.length, f = 0; i > f; f++)
                            if ((h = e[f]) !== b) h._gc || h._kill(null, a, b) && (g = !0);
                            else if (5 === d) break;
                        return g
                    }
                    var j, k = b._startTime + m,
                        l = [],
                        n = 0,
                        o = 0 === b._duration;
                    for (f = e.length; --f > -1;)(h = e[f]) === b || h._gc || h._paused || (h._timeline !== b._timeline ? (j = j || ba(b, 0, o), 0 === ba(h, j, o) && (l[n++] = h)) : h._startTime <= k && h._startTime + h.totalDuration() / h._timeScale > k && ((o || !h._initted) && k - h._startTime <= 2e-10 || (l[n++] = h)));
                    for (f = n; --f > -1;)
                        if (h = l[f], 2 === d && h._kill(c, a, b) && (g = !0), 2 !== d || !h._firstPT && h._initted) {
                            if (2 !== d && !_(h, b)) continue;
                            h._enabled(!1, !1) && (g = !0)
                        } return g
                },
                ba = function (a, b, c) {
                    for (var d = a._timeline, e = d._timeScale, f = a._startTime; d._timeline;) {
                        if (f += d._startTime, e *= d._timeScale, d._paused) return -100;
                        d = d._timeline
                    }
                    return f /= e, f > b ? f - b : c && f === b || !a._initted && 2 * m > f - b ? m : (f += a.totalDuration() / a._timeScale / e) > b + m ? 0 : f - b - m
                };
            h._init = function () {
                var a, b, c, d, e, f, g = this.vars,
                    h = this._overwrittenProps,
                    i = this._duration,
                    j = !!g.immediateRender,
                    k = g.ease;
                if (g.startAt) {
                    this._startAt && (this._startAt.render(-1, !0), this._startAt.kill()), e = {};
                    for (d in g.startAt) e[d] = g.startAt[d];
                    if (e.data = "isStart", e.overwrite = !1, e.immediateRender = !0, e.lazy = j && g.lazy !== !1, e.startAt = e.delay = null, e.onUpdate = g.onUpdate, e.onUpdateParams = g.onUpdateParams, e.onUpdateScope = g.onUpdateScope || g.callbackScope || this, this._startAt = G.to(this.target, 0, e), j)
                        if (this._time > 0) this._startAt = null;
                        else if (0 !== i) return
                } else if (g.runBackwards && 0 !== i)
                    if (this._startAt) this._startAt.render(-1, !0), this._startAt.kill(), this._startAt = null;
                    else {
                        0 !== this._time && (j = !1), c = {};
                        for (d in g) U[d] && "autoCSS" !== d || (c[d] = g[d]);
                        if (c.overwrite = 0, c.data = "isFromStart", c.lazy = j && g.lazy !== !1, c.immediateRender = j, this._startAt = G.to(this.target, 0, c), j) {
                            if (0 === this._time) return
                        } else this._startAt._init(), this._startAt._enabled(!1), this.vars.immediateRender && (this._startAt = null)
                    } if (this._ease = k = k ? k instanceof v ? k : "function" == typeof k ? new v(k, g.easeParams) : w[k] || G.defaultEase : G.defaultEase, g.easeParams instanceof Array && k.config && (this._ease = k.config.apply(k, g.easeParams)), this._easeType = this._ease._type, this._easePower = this._ease._power, this._firstPT = null, this._targets)
                    for (f = this._targets.length, a = 0; f > a; a++) this._initProps(this._targets[a], this._propLookup[a] = {}, this._siblings[a], h ? h[a] : null, a) && (b = !0);
                else b = this._initProps(this.target, this._propLookup, this._siblings, h, 0);
                if (b && G._onPluginEvent("_onInitAllProps", this), h && (this._firstPT || "function" != typeof this.target && this._enabled(!1, !1)), g.runBackwards)
                    for (c = this._firstPT; c;) c.s += c.c, c.c = -c.c, c = c._next;
                this._onUpdate = g.onUpdate, this._initted = !0
            }, h._initProps = function (b, c, d, e, f) {
                var g, h, i, j, k, l;
                if (null == b) return !1;
                K[b._gsTweenID] && Z(), this.vars.css || b.style && b !== a && b.nodeType && R.css && this.vars.autoCSS !== !1 && I(this.vars, b);
                for (g in this.vars)
                    if (l = this.vars[g], U[g]) l && (l instanceof Array || l.push && p(l)) && -1 !== l.join("").indexOf("{self}") && (this.vars[g] = l = this._swapSelfInParams(l, this));
                    else if (R[g] && (j = new R[g])._onInitTween(b, this.vars[g], this, f)) {
                    for (this._firstPT = k = {
                            _next: this._firstPT,
                            t: j,
                            p: "setRatio",
                            s: 0,
                            c: 1,
                            f: 1,
                            n: g,
                            pg: 1,
                            pr: j._priority,
                            m: 0
                        }, h = j._overwriteProps.length; --h > -1;) c[j._overwriteProps[h]] = this._firstPT;
                    (j._priority || j._onInitAllProps) && (i = !0), (j._onDisable || j._onEnable) && (this._notifyPluginsOfEnabled = !0), k._next && (k._next._prev = k)
                } else c[g] = P.call(this, b, g, "get", l, g, 0, null, this.vars.stringFilter, f);
                return e && this._kill(e, b) ? this._initProps(b, c, d, e, f) : this._overwrite > 1 && this._firstPT && d.length > 1 && aa(b, this, c, this._overwrite, d) ? (this._kill(c, b), this._initProps(b, c, d, e, f)) : (this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration) && (K[b._gsTweenID] = !0), i)
            }, h.render = function (a, b, c) {
                var d, e, f, g, h = this._time,
                    i = this._duration,
                    j = this._rawPrevTime;
                if (a >= i - 1e-7 && a >= 0) this._totalTime = this._time = i, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1, this._reversed || (d = !0, e = "onComplete", c = c || this._timeline.autoRemoveChildren), 0 === i && (this._initted || !this.vars.lazy || c) && (this._startTime === this._timeline._duration && (a = 0), (0 > j || 0 >= a && a >= -1e-7 || j === m && "isPause" !== this.data) && j !== a && (c = !0, j > m && (e = "onReverseComplete")), this._rawPrevTime = g = !b || a || j === a ? a : m);
                else if (1e-7 > a) this._totalTime = this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== h || 0 === i && j > 0) && (e = "onReverseComplete", d = this._reversed), 0 > a && (this._active = !1, 0 === i && (this._initted || !this.vars.lazy || c) && (j >= 0 && (j !== m || "isPause" !== this.data) && (c = !0), this._rawPrevTime = g = !b || a || j === a ? a : m)), (!this._initted || this._startAt && this._startAt.progress()) && (c = !0);
                else if (this._totalTime = this._time = a, this._easeType) {
                    var k = a / i,
                        l = this._easeType,
                        n = this._easePower;
                    (1 === l || 3 === l && k >= .5) && (k = 1 - k), 3 === l && (k *= 2), 1 === n ? k *= k : 2 === n ? k *= k * k : 3 === n ? k *= k * k * k : 4 === n && (k *= k * k * k * k), 1 === l ? this.ratio = 1 - k : 2 === l ? this.ratio = k : .5 > a / i ? this.ratio = k / 2 : this.ratio = 1 - k / 2
                } else this.ratio = this._ease.getRatio(a / i);
                if (this._time !== h || c) {
                    if (!this._initted) {
                        if (this._init(), !this._initted || this._gc) return;
                        if (!c && this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration)) return this._time = this._totalTime = h, this._rawPrevTime = j, J.push(this), void(this._lazy = [a, b]);
                        this._time && !d ? this.ratio = this._ease.getRatio(this._time / i) : d && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
                    }
                    for (this._lazy !== !1 && (this._lazy = !1), this._active || !this._paused && this._time !== h && a >= 0 && (this._active = !0), 0 === h && (this._startAt && (a >= 0 ? this._startAt.render(a, !0, c) : e || (e = "_dummyGS")), this.vars.onStart && (0 !== this._time || 0 === i) && (b || this._callback("onStart"))), f = this._firstPT; f;) f.f ? f.t[f.p](f.c * this.ratio + f.s) : f.t[f.p] = f.c * this.ratio + f.s, f = f._next;
                    this._onUpdate && (0 > a && this._startAt && a !== -1e-4 && this._startAt.render(a, !0, c), b || (this._time !== h || d || c) && this._callback("onUpdate")), e && (!this._gc || c) && (0 > a && this._startAt && !this._onUpdate && a !== -1e-4 && this._startAt.render(a, !0, c), d && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !b && this.vars[e] && this._callback(e), 0 === i && this._rawPrevTime === m && g !== m && (this._rawPrevTime = 0))
                }
            }, h._kill = function (a, b, c) {
                if ("all" === a && (a = null), null == a && (null == b || b === this.target)) return this._lazy = !1, this._enabled(!1, !1);
                b = "string" != typeof b ? b || this._targets || this.target : G.selector(b) || b;
                var d, e, f, g, h, i, j, k, l, m = c && this._time && c._startTime === this._startTime && this._timeline === c._timeline;
                if ((p(b) || H(b)) && "number" != typeof b[0])
                    for (d = b.length; --d > -1;) this._kill(a, b[d], c) && (i = !0);
                else {
                    if (this._targets) {
                        for (d = this._targets.length; --d > -1;)
                            if (b === this._targets[d]) {
                                h = this._propLookup[d] || {}, this._overwrittenProps = this._overwrittenProps || [], e = this._overwrittenProps[d] = a ? this._overwrittenProps[d] || {} : "all";
                                break
                            }
                    } else {
                        if (b !== this.target) return !1;
                        h = this._propLookup, e = this._overwrittenProps = a ? this._overwrittenProps || {} : "all"
                    }
                    if (h) {
                        if (j = a || h, k = a !== e && "all" !== e && a !== h && ("object" != typeof a || !a._tempKill), c && (G.onOverwrite || this.vars.onOverwrite)) {
                            for (f in j) h[f] && (l || (l = []), l.push(f));
                            if ((l || !a) && !_(this, c, b, l)) return !1
                        }
                        for (f in j)(g = h[f]) && (m && (g.f ? g.t[g.p](g.s) : g.t[g.p] = g.s, i = !0), g.pg && g.t._kill(j) && (i = !0), g.pg && 0 !== g.t._overwriteProps.length || (g._prev ? g._prev._next = g._next : g === this._firstPT && (this._firstPT = g._next), g._next && (g._next._prev = g._prev), g._next = g._prev = null), delete h[f]), k && (e[f] = 1);
                        !this._firstPT && this._initted && this._enabled(!1, !1)
                    }
                }
                return i
            }, h.invalidate = function () {
                return this._notifyPluginsOfEnabled && G._onPluginEvent("_onDisable", this), this._firstPT = this._overwrittenProps = this._startAt = this._onUpdate = null, this._notifyPluginsOfEnabled = this._active = this._lazy = !1, this._propLookup = this._targets ? {} : [], D.prototype.invalidate.call(this), this.vars.immediateRender && (this._time = -m, this.render(Math.min(0, -this._delay))), this
            }, h._enabled = function (a, b) {
                if (j || i.wake(), a && this._gc) {
                    var c, d = this._targets;
                    if (d)
                        for (c = d.length; --c > -1;) this._siblings[c] = $(d[c], this, !0);
                    else this._siblings = $(this.target, this, !0)
                }
                return D.prototype._enabled.call(this, a, b), this._notifyPluginsOfEnabled && this._firstPT ? G._onPluginEvent(a ? "_onEnable" : "_onDisable", this) : !1
            }, G.to = function (a, b, c) {
                return new G(a, b, c)
            }, G.from = function (a, b, c) {
                return c.runBackwards = !0, c.immediateRender = 0 != c.immediateRender, new G(a, b, c)
            }, G.fromTo = function (a, b, c, d) {
                return d.startAt = c, d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender, new G(a, b, d)
            }, G.delayedCall = function (a, b, c, d, e) {
                return new G(b, 0, {
                    delay: a,
                    onComplete: b,
                    onCompleteParams: c,
                    callbackScope: d,
                    onReverseComplete: b,
                    onReverseCompleteParams: c,
                    immediateRender: !1,
                    lazy: !1,
                    useFrames: e,
                    overwrite: 0
                })
            }, G.set = function (a, b) {
                return new G(a, 0, b)
            }, G.getTweensOf = function (a, b) {
                if (null == a) return [];
                a = "string" != typeof a ? a : G.selector(a) || a;
                var c, d, e, f;
                if ((p(a) || H(a)) && "number" != typeof a[0]) {
                    for (c = a.length, d = []; --c > -1;) d = d.concat(G.getTweensOf(a[c], b));
                    for (c = d.length; --c > -1;)
                        for (f = d[c], e = c; --e > -1;) f === d[e] && d.splice(c, 1)
                } else if (a._gsTweenID)
                    for (d = $(a).concat(), c = d.length; --c > -1;)(d[c]._gc || b && !d[c].isActive()) && d.splice(c, 1);
                return d || []
            }, G.killTweensOf = G.killDelayedCallsTo = function (a, b, c) {
                "object" == typeof b && (c = b, b = !1);
                for (var d = G.getTweensOf(a, b), e = d.length; --e > -1;) d[e]._kill(c, a)
            };
            var ca = t("plugins.TweenPlugin", function (a, b) {
                this._overwriteProps = (a || "").split(","), this._propName = this._overwriteProps[0], this._priority = b || 0, this._super = ca.prototype
            }, !0);
            if (h = ca.prototype, ca.version = "1.19.0", ca.API = 2, h._firstPT = null, h._addTween = P, h.setRatio = N, h._kill = function (a) {
                    var b, c = this._overwriteProps,
                        d = this._firstPT;
                    if (null != a[this._propName]) this._overwriteProps = [];
                    else
                        for (b = c.length; --b > -1;) null != a[c[b]] && c.splice(b, 1);
                    for (; d;) null != a[d.n] && (d._next && (d._next._prev = d._prev), d._prev ? (d._prev._next = d._next, d._prev = null) : this._firstPT === d && (this._firstPT = d._next)), d = d._next;
                    return !1
                }, h._mod = h._roundProps = function (a) {
                    for (var b, c = this._firstPT; c;) b = a[this._propName] || null != c.n && a[c.n.split(this._propName + "_").join("")], b && "function" == typeof b && (2 === c.f ? c.t._applyPT.m = b : c.m = b), c = c._next
                }, G._onPluginEvent = function (a, b) {
                    var c, d, e, f, g, h = b._firstPT;
                    if ("_onInitAllProps" === a) {
                        for (; h;) {
                            for (g = h._next, d = e; d && d.pr > h.pr;) d = d._next;
                            (h._prev = d ? d._prev : f) ? h._prev._next = h: e = h, (h._next = d) ? d._prev = h : f = h, h = g
                        }
                        h = b._firstPT = e
                    }
                    for (; h;) h.pg && "function" == typeof h.t[a] && h.t[a]() && (c = !0), h = h._next;
                    return c
                }, ca.activate = function (a) {
                    for (var b = a.length; --b > -1;) a[b].API === ca.API && (R[(new a[b])._propName] = a[b]);
                    return !0
                }, s.plugin = function (a) {
                    if (!(a && a.propName && a.init && a.API)) throw "illegal plugin definition.";
                    var b, c = a.propName,
                        d = a.priority || 0,
                        e = a.overwriteProps,
                        f = {
                            init: "_onInitTween",
                            set: "setRatio",
                            kill: "_kill",
                            round: "_mod",
                            mod: "_mod",
                            initAll: "_onInitAllProps"
                        },
                        g = t("plugins." + c.charAt(0).toUpperCase() + c.substr(1) + "Plugin", function () {
                            ca.call(this, c, d), this._overwriteProps = e || []
                        }, a.global === !0),
                        h = g.prototype = new ca(c);
                    h.constructor = g, g.API = a.API;
                    for (b in f) "function" == typeof a[b] && (h[f[b]] = a[b]);
                    return g.version = a.version, ca.activate([g]), g
                }, f = a._gsQueue) {
                for (g = 0; g < f.length; g++) f[g]();
                for (h in q) q[h].func || a.console.log("GSAP encountered missing dependency: " + h)
            }
            j = !1
        }
    }("undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window, "TweenMax");
var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function () {
        "use strict";
        _gsScope._gsDefine("easing.CustomEase", ["easing.Ease"], function (b) {
            var c = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,
                f = /[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,
                g = /[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,
                h = /[cLlsS]/g,
                k = "CustomEase only accepts Cubic Bezier data.",
                o = function (w, z, A, B, C, D, E, F, G, H, I) {
                    var Z, J = (w + A) / 2,
                        K = (z + B) / 2,
                        L = (A + C) / 2,
                        M = (B + D) / 2,
                        N = (C + E) / 2,
                        O = (D + F) / 2,
                        P = (J + L) / 2,
                        Q = (K + M) / 2,
                        R = (L + N) / 2,
                        S = (M + O) / 2,
                        T = (P + R) / 2,
                        U = (Q + S) / 2,
                        V = E - w,
                        W = F - z,
                        X = Math.abs((A - E) * W - (B - F) * V),
                        Y = Math.abs((C - E) * W - (D - F) * V);
                    return H || (H = [{
                        x: w,
                        y: z
                    }, {
                        x: E,
                        y: F
                    }], I = 1), H.splice(I || H.length - 1, 0, {
                        x: T,
                        y: U
                    }), (X + Y) * (X + Y) > G * (V * V + W * W) && (Z = H.length, o(w, z, J, K, P, Q, T, U, G, H, I), o(T, U, R, S, N, O, E, F, G, H, I + 1 + (H.length - Z))), H
                },
                q = function (w) {
                    var F, G, H, I, J, K, L, M, N, O, P, z = (w + "").replace(g, function (Q) {
                            var R = +Q;
                            return 1e-4 > R && -1e-4 < R ? 0 : R
                        }).match(f) || [],
                        A = [],
                        B = 0,
                        C = 0,
                        D = z.length,
                        E = 2;
                    for (F = 0; F < D; F++)
                        if (N = I, isNaN(z[F]) ? (I = z[F].toUpperCase(), J = I !== z[F]) : F--, G = +z[F + 1], H = +z[F + 2], J && (G += B, H += C), F || (L = G, M = H), "M" === I) K && 8 > K.length && (A.length -= 1, E = 0), B = L = G, C = M = H, K = [G, H], E = 2, A.push(K), F += 2, I = "L";
                        else if ("C" === I) K || (K = [0, 0]), K[E++] = G, K[E++] = H, J || (B = C = 0), K[E++] = B + 1 * z[F + 3], K[E++] = C + 1 * z[F + 4], K[E++] = B += 1 * z[F + 5], K[E++] = C += 1 * z[F + 6], F += 6;
                    else if ("S" === I) "C" === N || "S" === N ? (O = B - K[E - 4], P = C - K[E - 3], K[E++] = B + O, K[E++] = C + P) : (K[E++] = B, K[E++] = C), K[E++] = G, K[E++] = H, J || (B = C = 0), K[E++] = B += 1 * z[F + 3], K[E++] = C += 1 * z[F + 4], F += 4;
                    else if ("L" === I || "Z" === I) "Z" == I && (G = L, H = M, K.closed = !0), ("L" == I || 0.5 < Math.abs(B - G) || 0.5 < Math.abs(C - H)) && (K[E++] = B + (G - B) / 3, K[E++] = C + (H - C) / 3, K[E++] = B + 2 * (G - B) / 3, K[E++] = C + 2 * (H - C) / 3, K[E++] = G, K[E++] = H, "L" == I && (F += 2)), B = G, C = H;
                    else throw k;
                    return A[0]
                },
                r = function (w) {
                    var B, z = w.length,
                        A = 999999999999;
                    for (B = 1; B < z; B += 6) + w[B] < A && (A = +w[B]);
                    return A
                },
                s = function (w, z, A) {
                    A || 0 === A || (A = Math.max(+w[w.length - 1], +w[1]));
                    var G, B = -1 * +w[0],
                        C = -A,
                        D = w.length,
                        E = 1 / (+w[D - 2] + B),
                        F = -z || (Math.abs(+w[D - 1] - +w[1]) < 0.01 * (+w[D - 2] - +w[0]) ? r(w) + C : +w[D - 1] + C);
                    for (F = F ? 1 / F : -E, G = 0; G < D; G += 2) w[G] = (+w[G] + B) * E, w[G + 1] = (+w[G + 1] + C) * F
                },
                t = function (w) {
                    var z = this.lookup[0 | w * this.l] || this.lookup[this.l - 1];
                    return z.nx < w && (z = z.n), z.y + (w - z.x) / z.cx * z.cy
                },
                u = function (w, z, A) {
                    this._calcEnd = !0, this.id = w, w && (b.map[w] = this), this.getRatio = t, this.setData(z, A)
                },
                v = u.prototype = new b;
            return v.constructor = u, v.setData = function (w, z) {
                w = w || "0,0,1,1";
                var D, E, F, G, H, I, J, K, L, M, A = w.match(c),
                    B = 1,
                    C = [];
                if (z = z || {}, M = z.precision || 1, this.data = w, this.lookup = [], this.points = C, this.fast = 1 >= M, (h.test(w) || -1 !== w.indexOf("M") && -1 === w.indexOf("C")) && (A = q(w)), D = A.length, 4 === D) A.unshift(0, 0), A.push(1, 1), D = 8;
                else if ((D - 2) % 6) throw k;
                for ((0 != +A[0] || 1 != +A[D - 2]) && s(A, z.height, z.originY), this.rawBezier = A, G = 2; G < D; G += 6) E = {
                    x: +A[G - 2],
                    y: +A[G - 1]
                }, F = {
                    x: +A[G + 4],
                    y: +A[G + 5]
                }, C.push(E, F), o(E.x, E.y, +A[G], +A[G + 1], +A[G + 2], +A[G + 3], F.x, F.y, 1 / (2e5 * M), C, C.length - 1);
                for (D = C.length, G = 0; G < D; G++) J = C[G], K = C[G - 1] || J, J.x > K.x || K.y !== J.y && K.x === J.x || J == K ? (K.cx = J.x - K.x, K.cy = J.y - K.y, K.n = J, K.nx = J.x, this.fast && 1 < G && 2 < Math.abs(K.cy / K.cx - C[G - 2].cy / C[G - 2].cx) && (this.fast = !1), K.cx < B && (K.cx ? B = K.cx : (K.cx = 1e-3, G === D - 1 && (K.x -= 1e-3, B = Math.min(B, 1e-3), this.fast = !1)))) : (C.splice(G--, 1), D--);
                if (D = 0 | 1 / B + 1, this.l = D, H = 1 / D, I = 0, J = C[0], this.fast) {
                    for (G = 0; G < D; G++) L = G * H, J.nx < L && (J = C[++I]), E = J.y + (L - J.x) / J.cx * J.cy, this.lookup[G] = {
                        x: L,
                        cx: H,
                        y: E,
                        cy: 0,
                        nx: 9
                    }, G && (this.lookup[G - 1].cy = E - this.lookup[G - 1].y);
                    this.lookup[D - 1].cy = C[C.length - 1].y - E
                } else {
                    for (G = 0; G < D; G++) J.nx < G * H && (J = C[++I]), this.lookup[G] = J;
                    I < C.length - 1 && (this.lookup[G - 1] = C[C.length - 2])
                }
                return this._calcEnd = 1 !== C[C.length - 1].y || 0 !== C[0].y, this
            }, v.getRatio = t, v.getSVGData = function (w) {
                return u.getSVGData(this, w)
            }, u.create = function (w, z, A) {
                return new u(w, z, A)
            }, u.version = "0.2.2", u.bezierToPoints = o, u.get = function (w) {
                return b.map[w]
            }, u.getSVGData = function (w, z) {
                z = z || {};
                var G, H, I, J, K, L, M, N, O, P, A = 1e3,
                    B = z.width || 100,
                    C = z.height || 100,
                    D = z.x || 0,
                    E = (z.y || 0) + C,
                    F = z.path;
                if (z.invert && (C = -C, E = 0), w = w.getRatio ? w : b.map[w] || console.log("No ease found: ", w), !w.rawBezier)
                    for (G = ["M" + D + "," + E], M = Math.max(5, 200 * (z.precision || 1)), J = 1 / M, M += 2, N = 5 / M, O = (0 | (D + J * B) * A) / A, P = (0 | (E + w.getRatio(J) * -C) * A) / A, H = (P - E) / (O - D), I = 2; I < M; I++) K = (0 | (D + I * J * B) * A) / A, L = (0 | (E + w.getRatio(I * J) * -C) * A) / A, (Math.abs((L - P) / (K - O) - H) > N || I === M - 1) && (G.push(O + "," + P), H = (L - P) / (K - O)), O = K, P = L;
                else {
                    for (G = [], M = w.rawBezier.length, I = 0; I < M; I += 2) G.push((0 | (D + w.rawBezier[I] * B) * A) / A + "," + (0 | (E + w.rawBezier[I + 1] * -C) * A) / A);
                    G[0] = "M" + G[0], G[1] = "C" + G[1]
                }
                return F && ("string" == typeof F ? document.querySelector(F) : F).setAttribute("d", G.join(" ")), G.join(" ")
            }, u
        }, !0)
    }), _gsScope._gsDefine && _gsScope._gsQueue.pop()(),
    function (b) {
        "use strict";
        var c = function () {
            return (_gsScope.GreenSockGlobals || _gsScope)[b]
        };
        "undefined" != typeof module && module.exports ? (require("gsap/TweenLite"), module.exports = c()) : "function" == typeof define && define.amd && define(["gsap/TweenLite"], c)
    }("CustomEase");
var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function () {
        "use strict";

        function a(m, n, o, p, q, r) {
            return o = (parseFloat(o || 0) - parseFloat(m || 0)) * q, p = (parseFloat(p || 0) - parseFloat(n || 0)) * r, Math.sqrt(o * o + p * p)
        }

        function b(m) {
            return "string" != typeof m && m.nodeType || (m = _gsScope.TweenLite.selector(m), m.length && (m = m[0])), m
        }

        function c(m, n, o) {
            var q, r, p = m.indexOf(" ");
            return -1 === p ? (q = void 0 === o ? m : o + "", r = m) : (q = m.substr(0, p), r = m.substr(p + 1)), q = -1 === q.indexOf("%") ? parseFloat(q) : parseFloat(q) / 100 * n, r = -1 === r.indexOf("%") ? parseFloat(r) : parseFloat(r) / 100 * n, q > r ? [r, q] : [q, r]
        }

        function d(m) {
            if (!m) return 0;
            m = b(m);
            var q, r, t, u, v, w, x, n = m.tagName.toLowerCase(),
                o = 1,
                p = 1;
            "non-scaling-stroke" === m.getAttribute("vector-effect") && (p = m.getScreenCTM(), o = p.a, p = p.d);
            try {
                r = m.getBBox()
            } catch (y) {}
            if (r && (r.width || r.height) || "rect" !== n && "circle" !== n && "ellipse" !== n || (r = {
                    width: parseFloat(m.getAttribute("rect" === n ? "width" : "circle" === n ? "r" : "rx")),
                    height: parseFloat(m.getAttribute("rect" === n ? "height" : "circle" === n ? "r" : "ry"))
                }, "rect" !== n && (r.width *= 2, r.height *= 2)), "path" === n) u = m.style.strokeDasharray, m.style.strokeDasharray = "none", q = m.getTotalLength() || 0, o != p && console.log("Warning: <path> length cannot be measured accurately when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."), q *= (o + p) / 2, m.style.strokeDasharray = u;
            else if ("rect" === n) q = 2 * r.width * o + 2 * r.height * p;
            else if ("line" === n) q = a(r.x, r.y, r.x + r.width, r.y + r.height, o, p);
            else if ("polyline" === n || "polygon" === n)
                for (t = m.getAttribute("points").match(j) || [], "polygon" === n && t.push(t[0], t[1]), q = 0, v = 2; v < t.length; v += 2) q += a(t[v - 2], t[v - 1], t[v], t[v + 1], o, p) || 0;
            else("circle" === n || "ellipse" === n) && (w = r.width / 2 * o, x = r.height / 2 * p, q = Math.PI * (3 * (w + x) - Math.sqrt((3 * w + x) * (w + 3 * x))));
            return q || 0
        }

        function f(m, n) {
            if (!m) return [0, 0];
            m = b(m), n = n || d(m) + 1;
            var o = h(m),
                p = o.strokeDasharray || "",
                q = parseFloat(o.strokeDashoffset),
                r = p.indexOf(",");
            return 0 > r && (r = p.indexOf(" ")), p = 0 > r ? n : parseFloat(p.substr(0, r)) || 1e-5, p > n && (p = n), [Math.max(0, -q), Math.max(0, p - q)]
        }
        var l, g = _gsScope.document,
            h = g.defaultView ? g.defaultView.getComputedStyle : function () {},
            j = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,
            k = -1 !== ((_gsScope.navigator || {}).userAgent || "").indexOf("Edge");
        l = _gsScope._gsDefine.plugin({
            propName: "drawSVG",
            API: 2,
            version: "0.1.5",
            global: !0,
            overwriteProps: ["drawSVG"],
            init: function (m, n, o, p) {
                if (!m.getBBox) return !1;
                var r, t, u, v, q = d(m) + 1;
                return this._style = m.style, "function" == typeof n && (n = n(p, m)), !0 === n || "true" === n ? n = "0 100%" : n ? -1 === (n + "").indexOf(" ") && (n = "0 " + n) : n = "0 0", r = f(m, q), t = c(n, q, r[0]), this._length = q + 10, 0 === r[0] && 0 === t[0] ? (u = Math.max(1e-5, t[1] - q), this._dash = q + u, this._offset = q - r[1] + u, this._addTween(this, "_offset", this._offset, q - t[1] + u, "drawSVG")) : (this._dash = r[1] - r[0] || 1e-6, this._offset = -r[0], this._addTween(this, "_dash", this._dash, t[1] - t[0] || 1e-5, "drawSVG"), this._addTween(this, "_offset", this._offset, -t[0], "drawSVG")), k && (v = h(m), t = v.strokeLinecap, "butt" !== t && t !== v.strokeLinejoin && (t = parseFloat(v.strokeMiterlimit), this._addTween(m.style, "strokeMiterlimit", t, t + 1e-4, "strokeMiterlimit"))), !0
            },
            set: function (m) {
                this._firstPT && (this._super.setRatio.call(this, m), this._style.strokeDashoffset = this._offset, this._style.strokeDasharray = 1 === m || 0 === m ? 1e-3 > this._offset && 10 >= this._length - this._dash ? "none" : this._offset === this._dash ? "0px, 999999px" : this._dash + "px," + this._length + "px" : this._dash + "px," + this._length + "px")
            }
        }), l.getLength = d, l.getPosition = f
    }), _gsScope._gsDefine && _gsScope._gsQueue.pop()(),
    function (a) {
        "use strict";
        var b = function () {
            return (_gsScope.GreenSockGlobals || _gsScope)[a]
        };
        "undefined" != typeof module && module.exports ? (require("gsap/TweenLite"), module.exports = b()) : "function" == typeof define && define.amd && define(["gsap/TweenLite"], b)
    }("DrawSVGPlugin");
var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function () {
        "use strict";
        var a = (_gsScope.document || {}).documentElement,
            b = _gsScope,
            c = function (c, d) {
                var e = "x" === d ? "Width" : "Height",
                    f = "scroll" + e,
                    g = "client" + e,
                    h = document.body;
                return c === b || c === a || c === h ? Math.max(a[f], h[f]) - (b["inner" + e] || a[g] || h[g]) : c[f] - c["offset" + e]
            },
            d = function (a) {
                return "string" == typeof a && (a = TweenLite.selector(a)), a.length && a !== b && a[0] && a[0].style && !a.nodeType && (a = a[0]), a === b || a.nodeType && a.style ? a : null
            },
            e = function (c, d) {
                var e = "scroll" + ("x" === d ? "Left" : "Top");
                return c === b && (null != c.pageXOffset ? e = "page" + d.toUpperCase() + "Offset" : c = null != a[e] ? a : document.body),
                    function () {
                        return c[e]
                    }
            },
            f = function (c, f) {
                var g = d(c).getBoundingClientRect(),
                    h = !f || f === b || f === document.body,
                    i = (h ? a : f).getBoundingClientRect(),
                    j = {
                        x: g.left - i.left,
                        y: g.top - i.top
                    };
                return !h && f && (j.x += e(f, "x")(), j.y += e(f, "y")()), j
            },
            g = function (a, b, d) {
                var e = typeof a;
                return isNaN(a) ? "number" === e || "string" === e && "=" === a.charAt(1) ? a : "max" === a ? c(b, d) : Math.min(c(b, d), f(a, b)[d]) : parseFloat(a)
            },
            h = _gsScope._gsDefine.plugin({
                propName: "scrollTo",
                API: 2,
                global: !0,
                version: "1.9.0",
                init: function (a, c, d) {
                    return this._wdw = a === b, this._target = a, this._tween = d, "object" != typeof c ? (c = {
                        y: c
                    }, "string" == typeof c.y && "max" !== c.y && "=" !== c.y.charAt(1) && (c.x = c.y)) : c.nodeType && (c = {
                        y: c,
                        x: c
                    }), this.vars = c, this._autoKill = c.autoKill !== !1, this.getX = e(a, "x"), this.getY = e(a, "y"), this.x = this.xPrev = this.getX(), this.y = this.yPrev = this.getY(), null != c.x ? (this._addTween(this, "x", this.x, g(c.x, a, "x") - (c.offsetX || 0), "scrollTo_x", !0), this._overwriteProps.push("scrollTo_x")) : this.skipX = !0, null != c.y ? (this._addTween(this, "y", this.y, g(c.y, a, "y") - (c.offsetY || 0), "scrollTo_y", !0), this._overwriteProps.push("scrollTo_y")) : this.skipY = !0, !0
                },
                set: function (a) {
                    this._super.setRatio.call(this, a);
                    var d = this._wdw || !this.skipX ? this.getX() : this.xPrev,
                        e = this._wdw || !this.skipY ? this.getY() : this.yPrev,
                        f = e - this.yPrev,
                        g = d - this.xPrev,
                        i = h.autoKillThreshold;
                    this.x < 0 && (this.x = 0), this.y < 0 && (this.y = 0), this._autoKill && (!this.skipX && (g > i || -i > g) && d < c(this._target, "x") && (this.skipX = !0), !this.skipY && (f > i || -i > f) && e < c(this._target, "y") && (this.skipY = !0), this.skipX && this.skipY && (this._tween.kill(), this.vars.onAutoKill && this.vars.onAutoKill.apply(this.vars.onAutoKillScope || this._tween, this.vars.onAutoKillParams || []))), this._wdw ? b.scrollTo(this.skipX ? d : this.x, this.skipY ? e : this.y) : (this.skipY || (this._target.scrollTop = this.y), this.skipX || (this._target.scrollLeft = this.x)), this.xPrev = this.x, this.yPrev = this.y
                }
            }),
            i = h.prototype;
        h.max = c, h.getOffset = f, h.buildGetter = e, h.autoKillThreshold = 7, i._kill = function (a) {
            return a.scrollTo_x && (this.skipX = !0), a.scrollTo_y && (this.skipY = !0), this._super._kill.call(this, a)
        }
    }), _gsScope._gsDefine && _gsScope._gsQueue.pop()(),
    function (a) {
        "use strict";
        var b = function () {
            return (_gsScope.GreenSockGlobals || _gsScope)[a]
        };
        "undefined" != typeof module && module.exports ? (require("../TweenLite.min.js"), module.exports = b()) : "function" == typeof define && define.amd && define(["TweenLite"], b)
    }("ScrollToPlugin");
var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function () {
        "use strict";
        _gsScope._gsDefine.plugin({
            propName: "attr",
            API: 2,
            version: "0.6.1",
            init: function (a, b, c, d) {
                var e, f;
                if ("function" != typeof a.setAttribute) return !1;
                for (e in b) f = b[e], "function" == typeof f && (f = f(d, a)), this._addTween(a, "setAttribute", a.getAttribute(e) + "", f + "", e, !1, e), this._overwriteProps.push(e);
                return !0
            }
        })
    }), _gsScope._gsDefine && _gsScope._gsQueue.pop()(),
    function (a) {
        "use strict";
        var b = function () {
            return (_gsScope.GreenSockGlobals || _gsScope)[a]
        };
        "undefined" != typeof module && module.exports ? (require("../TweenLite.min.js"), module.exports = b()) : "function" == typeof define && define.amd && define(["TweenLite"], b)
    }("AttrPlugin");
(function (f) {
    if (typeof exports === "object" && typeof module !== "undefined") {
        module.exports = f()
    } else if (typeof define === "function" && define.amd) {
        define([], f)
    } else {
        var g;
        if (typeof window !== "undefined") {
            g = window
        } else if (typeof global !== "undefined") {
            g = global
        } else if (typeof self !== "undefined") {
            g = self
        } else {
            g = this
        }
        g.PIXI = f()
    }
})(function () {
    var define, module, exports;
    return (function e(t, n, r) {
        function s(o, u) {
            if (!n[o]) {
                if (!t[o]) {
                    var a = typeof require == "function" && require;
                    if (!u && a) return a(o, !0);
                    if (i) return i(o, !0);
                    var f = new Error("Cannot find module '" + o + "'");
                    throw f.code = "MODULE_NOT_FOUND", f
                }
                var l = n[o] = {
                    exports: {}
                };
                t[o][0].call(l.exports, function (e) {
                    var n = t[o][1][e];
                    return s(n ? n : e)
                }, l, l.exports, e, t, n, r)
            }
            return n[o].exports
        }
        var i = typeof require == "function" && require;
        for (var o = 0; o < r.length; o++) s(r[o]);
        return s
    })({
        1: [function (require, module, exports) {
            "use strict";
            "use restrict";
            var INT_BITS = 32;
            exports.INT_BITS = INT_BITS;
            exports.INT_MAX = 0x7fffffff;
            exports.INT_MIN = -1 << (INT_BITS - 1);
            exports.sign = function (v) {
                return (v > 0) - (v < 0);
            }
            exports.abs = function (v) {
                var mask = v >> (INT_BITS - 1);
                return (v ^ mask) - mask;
            }
            exports.min = function (x, y) {
                return y ^ ((x ^ y) & -(x < y));
            }
            exports.max = function (x, y) {
                return x ^ ((x ^ y) & -(x < y));
            }
            exports.isPow2 = function (v) {
                return !(v & (v - 1)) && (!!v);
            }
            exports.log2 = function (v) {
                var r, shift;
                r = (v > 0xFFFF) << 4;
                v >>>= r;
                shift = (v > 0xFF) << 3;
                v >>>= shift;
                r |= shift;
                shift = (v > 0xF) << 2;
                v >>>= shift;
                r |= shift;
                shift = (v > 0x3) << 1;
                v >>>= shift;
                r |= shift;
                return r | (v >> 1);
            }
            exports.log10 = function (v) {
                return (v >= 1000000000) ? 9 : (v >= 100000000) ? 8 : (v >= 10000000) ? 7 : (v >= 1000000) ? 6 : (v >= 100000) ? 5 : (v >= 10000) ? 4 : (v >= 1000) ? 3 : (v >= 100) ? 2 : (v >= 10) ? 1 : 0;
            }
            exports.popCount = function (v) {
                v = v - ((v >>> 1) & 0x55555555);
                v = (v & 0x33333333) + ((v >>> 2) & 0x33333333);
                return ((v + (v >>> 4) & 0xF0F0F0F) * 0x1010101) >>> 24;
            }

            function countTrailingZeros(v) {
                var c = 32;
                v &= -v;
                if (v) c--;
                if (v & 0x0000FFFF) c -= 16;
                if (v & 0x00FF00FF) c -= 8;
                if (v & 0x0F0F0F0F) c -= 4;
                if (v & 0x33333333) c -= 2;
                if (v & 0x55555555) c -= 1;
                return c;
            }
            exports.countTrailingZeros = countTrailingZeros;
            exports.nextPow2 = function (v) {
                v += v === 0;
                --v;
                v |= v >>> 1;
                v |= v >>> 2;
                v |= v >>> 4;
                v |= v >>> 8;
                v |= v >>> 16;
                return v + 1;
            }
            exports.prevPow2 = function (v) {
                v |= v >>> 1;
                v |= v >>> 2;
                v |= v >>> 4;
                v |= v >>> 8;
                v |= v >>> 16;
                return v - (v >>> 1);
            }
            exports.parity = function (v) {
                v ^= v >>> 16;
                v ^= v >>> 8;
                v ^= v >>> 4;
                v &= 0xf;
                return (0x6996 >>> v) & 1;
            }
            var REVERSE_TABLE = new Array(256);
            (function (tab) {
                for (var i = 0; i < 256; ++i) {
                    var v = i,
                        r = i,
                        s = 7;
                    for (v >>>= 1; v; v >>>= 1) {
                        r <<= 1;
                        r |= v & 1;
                        --s;
                    }
                    tab[i] = (r << s) & 0xff;
                }
            })(REVERSE_TABLE);
            exports.reverse = function (v) {
                return (REVERSE_TABLE[v & 0xff] << 24) | (REVERSE_TABLE[(v >>> 8) & 0xff] << 16) | (REVERSE_TABLE[(v >>> 16) & 0xff] << 8) | REVERSE_TABLE[(v >>> 24) & 0xff];
            }
            exports.interleave2 = function (x, y) {
                x &= 0xFFFF;
                x = (x | (x << 8)) & 0x00FF00FF;
                x = (x | (x << 4)) & 0x0F0F0F0F;
                x = (x | (x << 2)) & 0x33333333;
                x = (x | (x << 1)) & 0x55555555;
                y &= 0xFFFF;
                y = (y | (y << 8)) & 0x00FF00FF;
                y = (y | (y << 4)) & 0x0F0F0F0F;
                y = (y | (y << 2)) & 0x33333333;
                y = (y | (y << 1)) & 0x55555555;
                return x | (y << 1);
            }
            exports.deinterleave2 = function (v, n) {
                v = (v >>> n) & 0x55555555;
                v = (v | (v >>> 1)) & 0x33333333;
                v = (v | (v >>> 2)) & 0x0F0F0F0F;
                v = (v | (v >>> 4)) & 0x00FF00FF;
                v = (v | (v >>> 16)) & 0x000FFFF;
                return (v << 16) >> 16;
            }
            exports.interleave3 = function (x, y, z) {
                x &= 0x3FF;
                x = (x | (x << 16)) & 4278190335;
                x = (x | (x << 8)) & 251719695;
                x = (x | (x << 4)) & 3272356035;
                x = (x | (x << 2)) & 1227133513;
                y &= 0x3FF;
                y = (y | (y << 16)) & 4278190335;
                y = (y | (y << 8)) & 251719695;
                y = (y | (y << 4)) & 3272356035;
                y = (y | (y << 2)) & 1227133513;
                x |= (y << 1);
                z &= 0x3FF;
                z = (z | (z << 16)) & 4278190335;
                z = (z | (z << 8)) & 251719695;
                z = (z | (z << 4)) & 3272356035;
                z = (z | (z << 2)) & 1227133513;
                return x | (z << 2);
            }
            exports.deinterleave3 = function (v, n) {
                v = (v >>> n) & 1227133513;
                v = (v | (v >>> 2)) & 3272356035;
                v = (v | (v >>> 4)) & 251719695;
                v = (v | (v >>> 8)) & 4278190335;
                v = (v | (v >>> 16)) & 0x3FF;
                return (v << 22) >> 22;
            }
            exports.nextCombination = function (v) {
                var t = v | (v - 1);
                return (t + 1) | (((~t & -~t) - 1) >>> (countTrailingZeros(v) + 1));
            }
        }, {}],
        2: [function (require, module, exports) {
            'use strict';
            module.exports = earcut;
            module.exports.default = earcut;

            function earcut(data, holeIndices, dim) {
                dim = dim || 2;
                var hasHoles = holeIndices && holeIndices.length,
                    outerLen = hasHoles ? holeIndices[0] * dim : data.length,
                    outerNode = linkedList(data, 0, outerLen, dim, true),
                    triangles = [];
                if (!outerNode) return triangles;
                var minX, minY, maxX, maxY, x, y, invSize;
                if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);
                if (data.length > 80 * dim) {
                    minX = maxX = data[0];
                    minY = maxY = data[1];
                    for (var i = dim; i < outerLen; i += dim) {
                        x = data[i];
                        y = data[i + 1];
                        if (x < minX) minX = x;
                        if (y < minY) minY = y;
                        if (x > maxX) maxX = x;
                        if (y > maxY) maxY = y;
                    }
                    invSize = Math.max(maxX - minX, maxY - minY);
                    invSize = invSize !== 0 ? 1 / invSize : 0;
                }
                earcutLinked(outerNode, triangles, dim, minX, minY, invSize);
                return triangles;
            }

            function linkedList(data, start, end, dim, clockwise) {
                var i, last;
                if (clockwise === (signedArea(data, start, end, dim) > 0)) {
                    for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);
                } else {
                    for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);
                }
                if (last && equals(last, last.next)) {
                    removeNode(last);
                    last = last.next;
                }
                return last;
            }

            function filterPoints(start, end) {
                if (!start) return start;
                if (!end) end = start;
                var p = start,
                    again;
                do {
                    again = false;
                    if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {
                        removeNode(p);
                        p = end = p.prev;
                        if (p === p.next) break;
                        again = true;
                    } else {
                        p = p.next;
                    }
                } while (again || p !== end);
                return end;
            }

            function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {
                if (!ear) return;
                if (!pass && invSize) indexCurve(ear, minX, minY, invSize);
                var stop = ear,
                    prev, next;
                while (ear.prev !== ear.next) {
                    prev = ear.prev;
                    next = ear.next;
                    if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {
                        triangles.push(prev.i / dim);
                        triangles.push(ear.i / dim);
                        triangles.push(next.i / dim);
                        removeNode(ear);
                        ear = next.next;
                        stop = next.next;
                        continue;
                    }
                    ear = next;
                    if (ear === stop) {
                        if (!pass) {
                            earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);
                        } else if (pass === 1) {
                            ear = cureLocalIntersections(ear, triangles, dim);
                            earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);
                        } else if (pass === 2) {
                            splitEarcut(ear, triangles, dim, minX, minY, invSize);
                        }
                        break;
                    }
                }
            }

            function isEar(ear) {
                var a = ear.prev,
                    b = ear,
                    c = ear.next;
                if (area(a, b, c) >= 0) return false;
                var p = ear.next.next;
                while (p !== ear.prev) {
                    if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;
                    p = p.next;
                }
                return true;
            }

            function isEarHashed(ear, minX, minY, invSize) {
                var a = ear.prev,
                    b = ear,
                    c = ear.next;
                if (area(a, b, c) >= 0) return false;
                var minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : (b.x < c.x ? b.x : c.x),
                    minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : (b.y < c.y ? b.y : c.y),
                    maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : (b.x > c.x ? b.x : c.x),
                    maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : (b.y > c.y ? b.y : c.y);
                var minZ = zOrder(minTX, minTY, minX, minY, invSize),
                    maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);
                var p = ear.prevZ,
                    n = ear.nextZ;
                while (p && p.z >= minZ && n && n.z <= maxZ) {
                    if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;
                    p = p.prevZ;
                    if (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;
                    n = n.nextZ;
                }
                while (p && p.z >= minZ) {
                    if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;
                    p = p.prevZ;
                }
                while (n && n.z <= maxZ) {
                    if (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;
                    n = n.nextZ;
                }
                return true;
            }

            function cureLocalIntersections(start, triangles, dim) {
                var p = start;
                do {
                    var a = p.prev,
                        b = p.next.next;
                    if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {
                        triangles.push(a.i / dim);
                        triangles.push(p.i / dim);
                        triangles.push(b.i / dim);
                        removeNode(p);
                        removeNode(p.next);
                        p = start = b;
                    }
                    p = p.next;
                } while (p !== start);
                return p;
            }

            function splitEarcut(start, triangles, dim, minX, minY, invSize) {
                var a = start;
                do {
                    var b = a.next.next;
                    while (b !== a.prev) {
                        if (a.i !== b.i && isValidDiagonal(a, b)) {
                            var c = splitPolygon(a, b);
                            a = filterPoints(a, a.next);
                            c = filterPoints(c, c.next);
                            earcutLinked(a, triangles, dim, minX, minY, invSize);
                            earcutLinked(c, triangles, dim, minX, minY, invSize);
                            return;
                        }
                        b = b.next;
                    }
                    a = a.next;
                } while (a !== start);
            }

            function eliminateHoles(data, holeIndices, outerNode, dim) {
                var queue = [],
                    i, len, start, end, list;
                for (i = 0, len = holeIndices.length; i < len; i++) {
                    start = holeIndices[i] * dim;
                    end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;
                    list = linkedList(data, start, end, dim, false);
                    if (list === list.next) list.steiner = true;
                    queue.push(getLeftmost(list));
                }
                queue.sort(compareX);
                for (i = 0; i < queue.length; i++) {
                    eliminateHole(queue[i], outerNode);
                    outerNode = filterPoints(outerNode, outerNode.next);
                }
                return outerNode;
            }

            function compareX(a, b) {
                return a.x - b.x;
            }

            function eliminateHole(hole, outerNode) {
                outerNode = findHoleBridge(hole, outerNode);
                if (outerNode) {
                    var b = splitPolygon(outerNode, hole);
                    filterPoints(b, b.next);
                }
            }

            function findHoleBridge(hole, outerNode) {
                var p = outerNode,
                    hx = hole.x,
                    hy = hole.y,
                    qx = -Infinity,
                    m;
                do {
                    if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {
                        var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);
                        if (x <= hx && x > qx) {
                            qx = x;
                            if (x === hx) {
                                if (hy === p.y) return p;
                                if (hy === p.next.y) return p.next;
                            }
                            m = p.x < p.next.x ? p : p.next;
                        }
                    }
                    p = p.next;
                } while (p !== outerNode);
                if (!m) return null;
                if (hx === qx) return m.prev;
                var stop = m,
                    mx = m.x,
                    my = m.y,
                    tanMin = Infinity,
                    tan;
                p = m.next;
                while (p !== stop) {
                    if (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {
                        tan = Math.abs(hy - p.y) / (hx - p.x);
                        if ((tan < tanMin || (tan === tanMin && p.x > m.x)) && locallyInside(p, hole)) {
                            m = p;
                            tanMin = tan;
                        }
                    }
                    p = p.next;
                }
                return m;
            }

            function indexCurve(start, minX, minY, invSize) {
                var p = start;
                do {
                    if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);
                    p.prevZ = p.prev;
                    p.nextZ = p.next;
                    p = p.next;
                } while (p !== start);
                p.prevZ.nextZ = null;
                p.prevZ = null;
                sortLinked(p);
            }

            function sortLinked(list) {
                var i, p, q, e, tail, numMerges, pSize, qSize, inSize = 1;
                do {
                    p = list;
                    list = null;
                    tail = null;
                    numMerges = 0;
                    while (p) {
                        numMerges++;
                        q = p;
                        pSize = 0;
                        for (i = 0; i < inSize; i++) {
                            pSize++;
                            q = q.nextZ;
                            if (!q) break;
                        }
                        qSize = inSize;
                        while (pSize > 0 || (qSize > 0 && q)) {
                            if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {
                                e = p;
                                p = p.nextZ;
                                pSize--;
                            } else {
                                e = q;
                                q = q.nextZ;
                                qSize--;
                            }
                            if (tail) tail.nextZ = e;
                            else list = e;
                            e.prevZ = tail;
                            tail = e;
                        }
                        p = q;
                    }
                    tail.nextZ = null;
                    inSize *= 2;
                } while (numMerges > 1);
                return list;
            }

            function zOrder(x, y, minX, minY, invSize) {
                x = 32767 * (x - minX) * invSize;
                y = 32767 * (y - minY) * invSize;
                x = (x | (x << 8)) & 0x00FF00FF;
                x = (x | (x << 4)) & 0x0F0F0F0F;
                x = (x | (x << 2)) & 0x33333333;
                x = (x | (x << 1)) & 0x55555555;
                y = (y | (y << 8)) & 0x00FF00FF;
                y = (y | (y << 4)) & 0x0F0F0F0F;
                y = (y | (y << 2)) & 0x33333333;
                y = (y | (y << 1)) & 0x55555555;
                return x | (y << 1);
            }

            function getLeftmost(start) {
                var p = start,
                    leftmost = start;
                do {
                    if (p.x < leftmost.x) leftmost = p;
                    p = p.next;
                } while (p !== start);
                return leftmost;
            }

            function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {
                return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 && (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 && (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;
            }

            function isValidDiagonal(a, b) {
                return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b);
            }

            function area(p, q, r) {
                return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);
            }

            function equals(p1, p2) {
                return p1.x === p2.x && p1.y === p2.y;
            }

            function intersects(p1, q1, p2, q2) {
                if ((equals(p1, q1) && equals(p2, q2)) || (equals(p1, q2) && equals(p2, q1))) return true;
                return area(p1, q1, p2) > 0 !== area(p1, q1, q2) > 0 && area(p2, q2, p1) > 0 !== area(p2, q2, q1) > 0;
            }

            function intersectsPolygon(a, b) {
                var p = a;
                do {
                    if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b)) return true;
                    p = p.next;
                } while (p !== a);
                return false;
            }

            function locallyInside(a, b) {
                return area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;
            }

            function middleInside(a, b) {
                var p = a,
                    inside = false,
                    px = (a.x + b.x) / 2,
                    py = (a.y + b.y) / 2;
                do {
                    if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y && (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))
                        inside = !inside;
                    p = p.next;
                } while (p !== a);
                return inside;
            }

            function splitPolygon(a, b) {
                var a2 = new Node(a.i, a.x, a.y),
                    b2 = new Node(b.i, b.x, b.y),
                    an = a.next,
                    bp = b.prev;
                a.next = b;
                b.prev = a;
                a2.next = an;
                an.prev = a2;
                b2.next = a2;
                a2.prev = b2;
                bp.next = b2;
                b2.prev = bp;
                return b2;
            }

            function insertNode(i, x, y, last) {
                var p = new Node(i, x, y);
                if (!last) {
                    p.prev = p;
                    p.next = p;
                } else {
                    p.next = last.next;
                    p.prev = last;
                    last.next.prev = p;
                    last.next = p;
                }
                return p;
            }

            function removeNode(p) {
                p.next.prev = p.prev;
                p.prev.next = p.next;
                if (p.prevZ) p.prevZ.nextZ = p.nextZ;
                if (p.nextZ) p.nextZ.prevZ = p.prevZ;
            }

            function Node(i, x, y) {
                this.i = i;
                this.x = x;
                this.y = y;
                this.prev = null;
                this.next = null;
                this.z = null;
                this.prevZ = null;
                this.nextZ = null;
                this.steiner = false;
            }
            earcut.deviation = function (data, holeIndices, dim, triangles) {
                var hasHoles = holeIndices && holeIndices.length;
                var outerLen = hasHoles ? holeIndices[0] * dim : data.length;
                var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));
                if (hasHoles) {
                    for (var i = 0, len = holeIndices.length; i < len; i++) {
                        var start = holeIndices[i] * dim;
                        var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;
                        polygonArea -= Math.abs(signedArea(data, start, end, dim));
                    }
                }
                var trianglesArea = 0;
                for (i = 0; i < triangles.length; i += 3) {
                    var a = triangles[i] * dim;
                    var b = triangles[i + 1] * dim;
                    var c = triangles[i + 2] * dim;
                    trianglesArea += Math.abs((data[a] - data[c]) * (data[b + 1] - data[a + 1])
                        - (data[a] - data[b]) * (data[c + 1] - data[a + 1]));
                }
                return polygonArea === 0 && trianglesArea === 0 ? 0 : Math.abs((trianglesArea - polygonArea) / polygonArea);
            };

            function signedArea(data, start, end, dim) {
                var sum = 0;
                for (var i = start, j = end - dim; i < end; i += dim) {
                    sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);
                    j = i;
                }
                return sum;
            }
            earcut.flatten = function (data) {
                var dim = data[0][0].length,
                    result = {
                        vertices: [],
                        holes: [],
                        dimensions: dim
                    },
                    holeIndex = 0;
                for (var i = 0; i < data.length; i++) {
                    for (var j = 0; j < data[i].length; j++) {
                        for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);
                    }
                    if (i > 0) {
                        holeIndex += data[i - 1].length;
                        result.holes.push(holeIndex);
                    }
                }
                return result;
            };
        }, {}],
        3: [function (require, module, exports) {
            'use strict';
            var has = Object.prototype.hasOwnProperty,
                prefix = '~';

            function Events() {}
            if (Object.create) {
                Events.prototype = Object.create(null);
                if (!new Events().__proto__) prefix = false;
            }

            function EE(fn, context, once) {
                this.fn = fn;
                this.context = context;
                this.once = once || false;
            }

            function EventEmitter() {
                this._events = new Events();
                this._eventsCount = 0;
            }
            EventEmitter.prototype.eventNames = function eventNames() {
                var names = [],
                    events, name;
                if (this._eventsCount === 0) return names;
                for (name in (events = this._events)) {
                    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);
                }
                if (Object.getOwnPropertySymbols) {
                    return names.concat(Object.getOwnPropertySymbols(events));
                }
                return names;
            };
            EventEmitter.prototype.listeners = function listeners(event, exists) {
                var evt = prefix ? prefix + event : event,
                    available = this._events[evt];
                if (exists) return !!available;
                if (!available) return [];
                if (available.fn) return [available.fn];
                for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {
                    ee[i] = available[i].fn;
                }
                return ee;
            };
            EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {
                var evt = prefix ? prefix + event : event;
                if (!this._events[evt]) return false;
                var listeners = this._events[evt],
                    len = arguments.length,
                    args, i;
                if (listeners.fn) {
                    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);
                    switch (len) {
                        case 1:
                            return listeners.fn.call(listeners.context), true;
                        case 2:
                            return listeners.fn.call(listeners.context, a1), true;
                        case 3:
                            return listeners.fn.call(listeners.context, a1, a2), true;
                        case 4:
                            return listeners.fn.call(listeners.context, a1, a2, a3), true;
                        case 5:
                            return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;
                        case 6:
                            return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;
                    }
                    for (i = 1, args = new Array(len - 1); i < len; i++) {
                        args[i - 1] = arguments[i];
                    }
                    listeners.fn.apply(listeners.context, args);
                } else {
                    var length = listeners.length,
                        j;
                    for (i = 0; i < length; i++) {
                        if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);
                        switch (len) {
                            case 1:
                                listeners[i].fn.call(listeners[i].context);
                                break;
                            case 2:
                                listeners[i].fn.call(listeners[i].context, a1);
                                break;
                            case 3:
                                listeners[i].fn.call(listeners[i].context, a1, a2);
                                break;
                            case 4:
                                listeners[i].fn.call(listeners[i].context, a1, a2, a3);
                                break;
                            default:
                                if (!args)
                                    for (j = 1, args = new Array(len - 1); j < len; j++) {
                                        args[j - 1] = arguments[j];
                                    }
                                listeners[i].fn.apply(listeners[i].context, args);
                        }
                    }
                }
                return true;
            };
            EventEmitter.prototype.on = function on(event, fn, context) {
                var listener = new EE(fn, context || this),
                    evt = prefix ? prefix + event : event;
                if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;
                else if (!this._events[evt].fn) this._events[evt].push(listener);
                else this._events[evt] = [this._events[evt], listener];
                return this;
            };
            EventEmitter.prototype.once = function once(event, fn, context) {
                var listener = new EE(fn, context || this, true),
                    evt = prefix ? prefix + event : event;
                if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;
                else if (!this._events[evt].fn) this._events[evt].push(listener);
                else this._events[evt] = [this._events[evt], listener];
                return this;
            };
            EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {
                var evt = prefix ? prefix + event : event;
                if (!this._events[evt]) return this;
                if (!fn) {
                    if (--this._eventsCount === 0) this._events = new Events();
                    else delete this._events[evt];
                    return this;
                }
                var listeners = this._events[evt];
                if (listeners.fn) {
                    if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {
                        if (--this._eventsCount === 0) this._events = new Events();
                        else delete this._events[evt];
                    }
                } else {
                    for (var i = 0, events = [], length = listeners.length; i < length; i++) {
                        if (listeners[i].fn !== fn || (once && !listeners[i].once) || (context && listeners[i].context !== context)) {
                            events.push(listeners[i]);
                        }
                    }
                    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;
                    else if (--this._eventsCount === 0) this._events = new Events();
                    else delete this._events[evt];
                }
                return this;
            };
            EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {
                var evt;
                if (event) {
                    evt = prefix ? prefix + event : event;
                    if (this._events[evt]) {
                        if (--this._eventsCount === 0) this._events = new Events();
                        else delete this._events[evt];
                    }
                } else {
                    this._events = new Events();
                    this._eventsCount = 0;
                }
                return this;
            };
            EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
            EventEmitter.prototype.addListener = EventEmitter.prototype.on;
            EventEmitter.prototype.setMaxListeners = function setMaxListeners() {
                return this;
            };
            EventEmitter.prefixed = prefix;
            EventEmitter.EventEmitter = EventEmitter;
            if ('undefined' !== typeof module) {
                module.exports = EventEmitter;
            }
        }, {}],
        4: [function (require, module, exports) {
            (function (global) {
                var apple_phone = /iPhone/i,
                    apple_ipod = /iPod/i,
                    apple_tablet = /iPad/i,
                    android_phone = /(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,
                    android_tablet = /Android/i,
                    amazon_phone = /(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,
                    amazon_tablet = /(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,
                    windows_phone = /Windows Phone/i,
                    windows_tablet = /(?=.*\bWindows\b)(?=.*\bARM\b)/i,
                    other_blackberry = /BlackBerry/i,
                    other_blackberry_10 = /BB10/i,
                    other_opera = /Opera Mini/i,
                    other_chrome = /(CriOS|Chrome)(?=.*\bMobile\b)/i,
                    other_firefox = /(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,
                    seven_inch = new RegExp('(?:' + 'Nexus 7' + '|' + 'BNTV250' + '|' + 'Kindle Fire' + '|' + 'Silk' + '|' + 'GT-P1000' + ')', 'i');
                var match = function (regex, userAgent) {
                    return regex.test(userAgent);
                };
                var IsMobileClass = function (userAgent) {
                    var ua = userAgent || navigator.userAgent;
                    var tmp = ua.split('[FBAN');
                    if (typeof tmp[1] !== 'undefined') {
                        ua = tmp[0];
                    }
                    tmp = ua.split('Twitter');
                    if (typeof tmp[1] !== 'undefined') {
                        ua = tmp[0];
                    }
                    this.apple = {
                        phone: match(apple_phone, ua),
                        ipod: match(apple_ipod, ua),
                        tablet: !match(apple_phone, ua) && match(apple_tablet, ua),
                        device: match(apple_phone, ua) || match(apple_ipod, ua) || match(apple_tablet, ua)
                    };
                    this.amazon = {
                        phone: match(amazon_phone, ua),
                        tablet: !match(amazon_phone, ua) && match(amazon_tablet, ua),
                        device: match(amazon_phone, ua) || match(amazon_tablet, ua)
                    };
                    this.android = {
                        phone: match(amazon_phone, ua) || match(android_phone, ua),
                        tablet: !match(amazon_phone, ua) && !match(android_phone, ua) && (match(amazon_tablet, ua) || match(android_tablet, ua)),
                        device: match(amazon_phone, ua) || match(amazon_tablet, ua) || match(android_phone, ua) || match(android_tablet, ua)
                    };
                    this.windows = {
                        phone: match(windows_phone, ua),
                        tablet: match(windows_tablet, ua),
                        device: match(windows_phone, ua) || match(windows_tablet, ua)
                    };
                    this.other = {
                        blackberry: match(other_blackberry, ua),
                        blackberry10: match(other_blackberry_10, ua),
                        opera: match(other_opera, ua),
                        firefox: match(other_firefox, ua),
                        chrome: match(other_chrome, ua),
                        device: match(other_blackberry, ua) || match(other_blackberry_10, ua) || match(other_opera, ua) || match(other_firefox, ua) || match(other_chrome, ua)
                    };
                    this.seven_inch = match(seven_inch, ua);
                    this.any = this.apple.device || this.android.device || this.windows.device || this.other.device || this.seven_inch;
                    this.phone = this.apple.phone || this.android.phone || this.windows.phone;
                    this.tablet = this.apple.tablet || this.android.tablet || this.windows.tablet;
                    if (typeof window === 'undefined') {
                        return this;
                    }
                };
                var instantiate = function () {
                    var IM = new IsMobileClass();
                    IM.Class = IsMobileClass;
                    return IM;
                };
                if (typeof module !== 'undefined' && module.exports && typeof window === 'undefined') {
                    module.exports = IsMobileClass;
                } else if (typeof module !== 'undefined' && module.exports && typeof window !== 'undefined') {
                    module.exports = instantiate();
                } else if (typeof define === 'function' && define.amd) {
                    define('isMobile', [], global.isMobile = instantiate());
                } else {
                    global.isMobile = instantiate();
                }
            })(this);
        }, {}],
        5: [function (require, module, exports) {
            'use strict';
            Object.defineProperty(exports, '__esModule', {
                value: true
            });
            var _createClass = (function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ('value' in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            })();

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError('Cannot call a class as a function');
                }
            }
            var MiniSignalBinding = (function () {
                function MiniSignalBinding(fn, once, thisArg) {
                    if (once === undefined) once = false;
                    _classCallCheck(this, MiniSignalBinding);
                    this._fn = fn;
                    this._once = once;
                    this._thisArg = thisArg;
                    this._next = this._prev = this._owner = null;
                }
                _createClass(MiniSignalBinding, [{
                    key: 'detach',
                    value: function detach() {
                        if (this._owner === null) return false;
                        this._owner.detach(this);
                        return true;
                    }
                }]);
                return MiniSignalBinding;
            })();

            function _addMiniSignalBinding(self, node) {
                if (!self._head) {
                    self._head = node;
                    self._tail = node;
                } else {
                    self._tail._next = node;
                    node._prev = self._tail;
                    self._tail = node;
                }
                node._owner = self;
                return node;
            }
            var MiniSignal = (function () {
                function MiniSignal() {
                    _classCallCheck(this, MiniSignal);
                    this._head = this._tail = undefined;
                }
                _createClass(MiniSignal, [{
                    key: 'handlers',
                    value: function handlers() {
                        var exists = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];
                        var node = this._head;
                        if (exists) return !!node;
                        var ee = [];
                        while (node) {
                            ee.push(node);
                            node = node._next;
                        }
                        return ee;
                    }
                }, {
                    key: 'has',
                    value: function has(node) {
                        if (!(node instanceof MiniSignalBinding)) {
                            throw new Error('MiniSignal#has(): First arg must be a MiniSignalBinding object.');
                        }
                        return node._owner === this;
                    }
                }, {
                    key: 'dispatch',
                    value: function dispatch() {
                        var node = this._head;
                        if (!node) return false;
                        while (node) {
                            if (node._once) this.detach(node);
                            node._fn.apply(node._thisArg, arguments);
                            node = node._next;
                        }
                        return true;
                    }
                }, {
                    key: 'add',
                    value: function add(fn) {
                        var thisArg = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];
                        if (typeof fn !== 'function') {
                            throw new Error('MiniSignal#add(): First arg must be a Function.');
                        }
                        return _addMiniSignalBinding(this, new MiniSignalBinding(fn, false, thisArg));
                    }
                }, {
                    key: 'once',
                    value: function once(fn) {
                        var thisArg = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];
                        if (typeof fn !== 'function') {
                            throw new Error('MiniSignal#once(): First arg must be a Function.');
                        }
                        return _addMiniSignalBinding(this, new MiniSignalBinding(fn, true, thisArg));
                    }
                }, {
                    key: 'detach',
                    value: function detach(node) {
                        if (!(node instanceof MiniSignalBinding)) {
                            throw new Error('MiniSignal#detach(): First arg must be a MiniSignalBinding object.');
                        }
                        if (node._owner !== this) return this;
                        if (node._prev) node._prev._next = node._next;
                        if (node._next) node._next._prev = node._prev;
                        if (node === this._head) {
                            this._head = node._next;
                            if (node._next === null) {
                                this._tail = null;
                            }
                        } else if (node === this._tail) {
                            this._tail = node._prev;
                            this._tail._next = null;
                        }
                        node._owner = null;
                        return this;
                    }
                }, {
                    key: 'detachAll',
                    value: function detachAll() {
                        var node = this._head;
                        if (!node) return this;
                        this._head = this._tail = null;
                        while (node) {
                            node._owner = null;
                            node = node._next;
                        }
                        return this;
                    }
                }]);
                return MiniSignal;
            })();
            MiniSignal.MiniSignalBinding = MiniSignalBinding;
            exports['default'] = MiniSignal;
            module.exports = exports['default'];
        }, {}],
        6: [function (require, module, exports) {
            'use strict';
            var getOwnPropertySymbols = Object.getOwnPropertySymbols;
            var hasOwnProperty = Object.prototype.hasOwnProperty;
            var propIsEnumerable = Object.prototype.propertyIsEnumerable;

            function toObject(val) {
                if (val === null || val === undefined) {
                    throw new TypeError('Object.assign cannot be called with null or undefined');
                }
                return Object(val);
            }

            function shouldUseNative() {
                try {
                    if (!Object.assign) {
                        return false;
                    }
                    var test1 = new String('abc');
                    test1[5] = 'de';
                    if (Object.getOwnPropertyNames(test1)[0] === '5') {
                        return false;
                    }
                    var test2 = {};
                    for (var i = 0; i < 10; i++) {
                        test2['_' + String.fromCharCode(i)] = i;
                    }
                    var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
                        return test2[n];
                    });
                    if (order2.join('') !== '0123456789') {
                        return false;
                    }
                    var test3 = {};
                    'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
                        test3[letter] = letter;
                    });
                    if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') {
                        return false;
                    }
                    return true;
                } catch (err) {
                    return false;
                }
            }
            module.exports = shouldUseNative() ? Object.assign : function (target, source) {
                var from;
                var to = toObject(target);
                var symbols;
                for (var s = 1; s < arguments.length; s++) {
                    from = Object(arguments[s]);
                    for (var key in from) {
                        if (hasOwnProperty.call(from, key)) {
                            to[key] = from[key];
                        }
                    }
                    if (getOwnPropertySymbols) {
                        symbols = getOwnPropertySymbols(from);
                        for (var i = 0; i < symbols.length; i++) {
                            if (propIsEnumerable.call(from, symbols[i])) {
                                to[symbols[i]] = from[symbols[i]];
                            }
                        }
                    }
                }
                return to;
            };
        }, {}],
        7: [function (require, module, exports) {
            'use strict'
            module.exports = function parseURI(str, opts) {
                opts = opts || {}
                var o = {
                    key: ['source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'],
                    q: {
                        name: 'queryKey',
                        parser: /(?:^|&)([^&=]*)=?([^&]*)/g
                    },
                    parser: {
                        strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
                        loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
                    }
                }
                var m = o.parser[opts.strictMode ? 'strict' : 'loose'].exec(str)
                var uri = {}
                var i = 14
                while (i--) uri[o.key[i]] = m[i] || ''
                uri[o.q.name] = {}
                uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {
                    if ($1) uri[o.q.name][$1] = $2
                })
                return uri
            }
        }, {}],
        8: [function (require, module, exports) {
            (function (process) {
                function normalizeArray(parts, allowAboveRoot) {
                    var up = 0;
                    for (var i = parts.length - 1; i >= 0; i--) {
                        var last = parts[i];
                        if (last === '.') {
                            parts.splice(i, 1);
                        } else if (last === '..') {
                            parts.splice(i, 1);
                            up++;
                        } else if (up) {
                            parts.splice(i, 1);
                            up--;
                        }
                    }
                    if (allowAboveRoot) {
                        for (; up--; up) {
                            parts.unshift('..');
                        }
                    }
                    return parts;
                }
                var splitPathRe = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;
                var splitPath = function (filename) {
                    return splitPathRe.exec(filename).slice(1);
                };
                exports.resolve = function () {
                    var resolvedPath = '',
                        resolvedAbsolute = false;
                    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
                        var path = (i >= 0) ? arguments[i] : process.cwd();
                        if (typeof path !== 'string') {
                            throw new TypeError('Arguments to path.resolve must be strings');
                        } else if (!path) {
                            continue;
                        }
                        resolvedPath = path + '/' + resolvedPath;
                        resolvedAbsolute = path.charAt(0) === '/';
                    }
                    resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function (p) {
                        return !!p;
                    }), !resolvedAbsolute).join('/');
                    return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';
                };
                exports.normalize = function (path) {
                    var isAbsolute = exports.isAbsolute(path),
                        trailingSlash = substr(path, -1) === '/';
                    path = normalizeArray(filter(path.split('/'), function (p) {
                        return !!p;
                    }), !isAbsolute).join('/');
                    if (!path && !isAbsolute) {
                        path = '.';
                    }
                    if (path && trailingSlash) {
                        path += '/';
                    }
                    return (isAbsolute ? '/' : '') + path;
                };
                exports.isAbsolute = function (path) {
                    return path.charAt(0) === '/';
                };
                exports.join = function () {
                    var paths = Array.prototype.slice.call(arguments, 0);
                    return exports.normalize(filter(paths, function (p, index) {
                        if (typeof p !== 'string') {
                            throw new TypeError('Arguments to path.join must be strings');
                        }
                        return p;
                    }).join('/'));
                };
                exports.relative = function (from, to) {
                    from = exports.resolve(from).substr(1);
                    to = exports.resolve(to).substr(1);

                    function trim(arr) {
                        var start = 0;
                        for (; start < arr.length; start++) {
                            if (arr[start] !== '') break;
                        }
                        var end = arr.length - 1;
                        for (; end >= 0; end--) {
                            if (arr[end] !== '') break;
                        }
                        if (start > end) return [];
                        return arr.slice(start, end - start + 1);
                    }
                    var fromParts = trim(from.split('/'));
                    var toParts = trim(to.split('/'));
                    var length = Math.min(fromParts.length, toParts.length);
                    var samePartsLength = length;
                    for (var i = 0; i < length; i++) {
                        if (fromParts[i] !== toParts[i]) {
                            samePartsLength = i;
                            break;
                        }
                    }
                    var outputParts = [];
                    for (var i = samePartsLength; i < fromParts.length; i++) {
                        outputParts.push('..');
                    }
                    outputParts = outputParts.concat(toParts.slice(samePartsLength));
                    return outputParts.join('/');
                };
                exports.sep = '/';
                exports.delimiter = ':';
                exports.dirname = function (path) {
                    var result = splitPath(path),
                        root = result[0],
                        dir = result[1];
                    if (!root && !dir) {
                        return '.';
                    }
                    if (dir) {
                        dir = dir.substr(0, dir.length - 1);
                    }
                    return root + dir;
                };
                exports.basename = function (path, ext) {
                    var f = splitPath(path)[2];
                    if (ext && f.substr(-1 * ext.length) === ext) {
                        f = f.substr(0, f.length - ext.length);
                    }
                    return f;
                };
                exports.extname = function (path) {
                    return splitPath(path)[3];
                };

                function filter(xs, f) {
                    if (xs.filter) return xs.filter(f);
                    var res = [];
                    for (var i = 0; i < xs.length; i++) {
                        if (f(xs[i], i, xs)) res.push(xs[i]);
                    }
                    return res;
                }
                var substr = 'ab'.substr(-1) === 'b' ? function (str, start, len) {
                    return str.substr(start, len)
                } : function (str, start, len) {
                    if (start < 0) start = str.length + start;
                    return str.substr(start, len);
                };
            }).call(this, require('_process'))
        }, {
            "_process": 26
        }],
        9: [function (require, module, exports) {
            var EMPTY_ARRAY_BUFFER = new ArrayBuffer(0);
            var Buffer = function (gl, type, data, drawType) {
                this.gl = gl;
                this.buffer = gl.createBuffer();
                this.type = type || gl.ARRAY_BUFFER;
                this.drawType = drawType || gl.STATIC_DRAW;
                this.data = EMPTY_ARRAY_BUFFER;
                if (data) {
                    this.upload(data);
                }
                this._updateID = 0;
            };
            Buffer.prototype.upload = function (data, offset, dontBind) {
                if (!dontBind) this.bind();
                var gl = this.gl;
                data = data || this.data;
                offset = offset || 0;
                if (this.data.byteLength >= data.byteLength) {
                    gl.bufferSubData(this.type, offset, data);
                } else {
                    gl.bufferData(this.type, data, this.drawType);
                }
                this.data = data;
            };
            Buffer.prototype.bind = function () {
                var gl = this.gl;
                gl.bindBuffer(this.type, this.buffer);
            };
            Buffer.createVertexBuffer = function (gl, data, drawType) {
                return new Buffer(gl, gl.ARRAY_BUFFER, data, drawType);
            };
            Buffer.createIndexBuffer = function (gl, data, drawType) {
                return new Buffer(gl, gl.ELEMENT_ARRAY_BUFFER, data, drawType);
            };
            Buffer.create = function (gl, type, data, drawType) {
                return new Buffer(gl, type, data, drawType);
            };
            Buffer.prototype.destroy = function () {
                this.gl.deleteBuffer(this.buffer);
            };
            module.exports = Buffer;
        }, {}],
        10: [function (require, module, exports) {
            var Texture = require('./GLTexture');
            var Framebuffer = function (gl, width, height) {
                this.gl = gl;
                this.framebuffer = gl.createFramebuffer();
                this.stencil = null;
                this.texture = null;
                this.width = width || 100;
                this.height = height || 100;
            };
            Framebuffer.prototype.enableTexture = function (texture) {
                var gl = this.gl;
                this.texture = texture || new Texture(gl);
                this.texture.bind();
                this.bind();
                gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);
            };
            Framebuffer.prototype.enableStencil = function () {
                if (this.stencil) return;
                var gl = this.gl;
                this.stencil = gl.createRenderbuffer();
                gl.bindRenderbuffer(gl.RENDERBUFFER, this.stencil);
                gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, this.stencil);
                gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, this.width, this.height);
            };
            Framebuffer.prototype.clear = function (r, g, b, a) {
                this.bind();
                var gl = this.gl;
                gl.clearColor(r, g, b, a);
                gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
            };
            Framebuffer.prototype.bind = function () {
                var gl = this.gl;
                gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);
            };
            Framebuffer.prototype.unbind = function () {
                var gl = this.gl;
                gl.bindFramebuffer(gl.FRAMEBUFFER, null);
            };
            Framebuffer.prototype.resize = function (width, height) {
                var gl = this.gl;
                this.width = width;
                this.height = height;
                if (this.texture) {
                    this.texture.uploadData(null, width, height);
                }
                if (this.stencil) {
                    gl.bindRenderbuffer(gl.RENDERBUFFER, this.stencil);
                    gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, width, height);
                }
            };
            Framebuffer.prototype.destroy = function () {
                var gl = this.gl;
                if (this.texture) {
                    this.texture.destroy();
                }
                gl.deleteFramebuffer(this.framebuffer);
                this.gl = null;
                this.stencil = null;
                this.texture = null;
            };
            Framebuffer.createRGBA = function (gl, width, height, data) {
                var texture = Texture.fromData(gl, null, width, height);
                texture.enableNearestScaling();
                texture.enableWrapClamp();
                var fbo = new Framebuffer(gl, width, height);
                fbo.enableTexture(texture);
                fbo.unbind();
                return fbo;
            };
            Framebuffer.createFloat32 = function (gl, width, height, data) {
                var texture = new Texture.fromData(gl, data, width, height);
                texture.enableNearestScaling();
                texture.enableWrapClamp();
                var fbo = new Framebuffer(gl, width, height);
                fbo.enableTexture(texture);
                fbo.unbind();
                return fbo;
            };
            module.exports = Framebuffer;
        }, {
            "./GLTexture": 12
        }],
        11: [function (require, module, exports) {
            var compileProgram = require('./shader/compileProgram'),
                extractAttributes = require('./shader/extractAttributes'),
                extractUniforms = require('./shader/extractUniforms'),
                setPrecision = require('./shader/setPrecision'),
                generateUniformAccessObject = require('./shader/generateUniformAccessObject');
            var Shader = function (gl, vertexSrc, fragmentSrc, precision, attributeLocations) {
                this.gl = gl;
                if (precision) {
                    vertexSrc = setPrecision(vertexSrc, precision);
                    fragmentSrc = setPrecision(fragmentSrc, precision);
                }
                this.program = compileProgram(gl, vertexSrc, fragmentSrc, attributeLocations);
                this.attributes = extractAttributes(gl, this.program);
                this.uniformData = extractUniforms(gl, this.program);
                this.uniforms = generateUniformAccessObject(gl, this.uniformData);
            };
            Shader.prototype.bind = function () {
                this.gl.useProgram(this.program);
                return this;
            };
            Shader.prototype.destroy = function () {
                this.attributes = null;
                this.uniformData = null;
                this.uniforms = null;
                var gl = this.gl;
                gl.deleteProgram(this.program);
            };
            module.exports = Shader;
        }, {
            "./shader/compileProgram": 17,
            "./shader/extractAttributes": 19,
            "./shader/extractUniforms": 20,
            "./shader/generateUniformAccessObject": 21,
            "./shader/setPrecision": 25
        }],
        12: [function (require, module, exports) {
            var Texture = function (gl, width, height, format, type) {
                this.gl = gl;
                this.texture = gl.createTexture();
                this.mipmap = false;
                this.premultiplyAlpha = false;
                this.width = width || -1;
                this.height = height || -1;
                this.format = format || gl.RGBA;
                this.type = type || gl.UNSIGNED_BYTE;
            };
            Texture.prototype.upload = function (source) {
                this.bind();
                var gl = this.gl;
                gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);
                var newWidth = source.videoWidth || source.width;
                var newHeight = source.videoHeight || source.height;
                if (newHeight !== this.height || newWidth !== this.width) {
                    gl.texImage2D(gl.TEXTURE_2D, 0, this.format, this.format, this.type, source);
                } else {
                    gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, this.format, this.type, source);
                }
                this.width = newWidth;
                this.height = newHeight;
            };
            var FLOATING_POINT_AVAILABLE = false;
            Texture.prototype.uploadData = function (data, width, height) {
                this.bind();
                var gl = this.gl;
                if (data instanceof Float32Array) {
                    if (!FLOATING_POINT_AVAILABLE) {
                        var ext = gl.getExtension("OES_texture_float");
                        if (ext) {
                            FLOATING_POINT_AVAILABLE = true;
                        } else {
                            throw new Error('floating point textures not available');
                        }
                    }
                    this.type = gl.FLOAT;
                } else {
                    this.type = this.type || gl.UNSIGNED_BYTE;
                }
                gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);
                if (width !== this.width || height !== this.height) {
                    gl.texImage2D(gl.TEXTURE_2D, 0, this.format, width, height, 0, this.format, this.type, data || null);
                } else {
                    gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, width, height, this.format, this.type, data || null);
                }
                this.width = width;
                this.height = height;
            };
            Texture.prototype.bind = function (location) {
                var gl = this.gl;
                if (location !== undefined) {
                    gl.activeTexture(gl.TEXTURE0 + location);
                }
                gl.bindTexture(gl.TEXTURE_2D, this.texture);
            };
            Texture.prototype.unbind = function () {
                var gl = this.gl;
                gl.bindTexture(gl.TEXTURE_2D, null);
            };
            Texture.prototype.minFilter = function (linear) {
                var gl = this.gl;
                this.bind();
                if (this.mipmap) {
                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, linear ? gl.LINEAR_MIPMAP_LINEAR : gl.NEAREST_MIPMAP_NEAREST);
                } else {
                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, linear ? gl.LINEAR : gl.NEAREST);
                }
            };
            Texture.prototype.magFilter = function (linear) {
                var gl = this.gl;
                this.bind();
                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, linear ? gl.LINEAR : gl.NEAREST);
            };
            Texture.prototype.enableMipmap = function () {
                var gl = this.gl;
                this.bind();
                this.mipmap = true;
                gl.generateMipmap(gl.TEXTURE_2D);
            };
            Texture.prototype.enableLinearScaling = function () {
                this.minFilter(true);
                this.magFilter(true);
            };
            Texture.prototype.enableNearestScaling = function () {
                this.minFilter(false);
                this.magFilter(false);
            };
            Texture.prototype.enableWrapClamp = function () {
                var gl = this.gl;
                this.bind();
                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
            };
            Texture.prototype.enableWrapRepeat = function () {
                var gl = this.gl;
                this.bind();
                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);
                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);
            };
            Texture.prototype.enableWrapMirrorRepeat = function () {
                var gl = this.gl;
                this.bind();
                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.MIRRORED_REPEAT);
                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.MIRRORED_REPEAT);
            };
            Texture.prototype.destroy = function () {
                var gl = this.gl;
                gl.deleteTexture(this.texture);
            };
            Texture.fromSource = function (gl, source, premultiplyAlpha) {
                var texture = new Texture(gl);
                texture.premultiplyAlpha = premultiplyAlpha || false;
                texture.upload(source);
                return texture;
            };
            Texture.fromData = function (gl, data, width, height) {
                var texture = new Texture(gl);
                texture.uploadData(data, width, height);
                return texture;
            };
            module.exports = Texture;
        }, {}],
        13: [function (require, module, exports) {
            var setVertexAttribArrays = require('./setVertexAttribArrays');

            function VertexArrayObject(gl, state) {
                this.nativeVaoExtension = null;
                if (!VertexArrayObject.FORCE_NATIVE) {
                    this.nativeVaoExtension = gl.getExtension('OES_vertex_array_object') || gl.getExtension('MOZ_OES_vertex_array_object') || gl.getExtension('WEBKIT_OES_vertex_array_object');
                }
                this.nativeState = state;
                if (this.nativeVaoExtension) {
                    this.nativeVao = this.nativeVaoExtension.createVertexArrayOES();
                    var maxAttribs = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);
                    this.nativeState = {
                        tempAttribState: new Array(maxAttribs),
                        attribState: new Array(maxAttribs)
                    };
                }
                this.gl = gl;
                this.attributes = [];
                this.indexBuffer = null;
                this.dirty = false;
            }
            VertexArrayObject.prototype.constructor = VertexArrayObject;
            module.exports = VertexArrayObject;
            VertexArrayObject.FORCE_NATIVE = false;
            VertexArrayObject.prototype.bind = function () {
                if (this.nativeVao) {
                    this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);
                    if (this.dirty) {
                        this.dirty = false;
                        this.activate();
                        return this;
                    }
                    if (this.indexBuffer) {
                        this.indexBuffer.bind();
                    }
                } else {
                    this.activate();
                }
                return this;
            };
            VertexArrayObject.prototype.unbind = function () {
                if (this.nativeVao) {
                    this.nativeVaoExtension.bindVertexArrayOES(null);
                }
                return this;
            };
            VertexArrayObject.prototype.activate = function () {
                var gl = this.gl;
                var lastBuffer = null;
                for (var i = 0; i < this.attributes.length; i++) {
                    var attrib = this.attributes[i];
                    if (lastBuffer !== attrib.buffer) {
                        attrib.buffer.bind();
                        lastBuffer = attrib.buffer;
                    }
                    gl.vertexAttribPointer(attrib.attribute.location, attrib.attribute.size, attrib.type || gl.FLOAT, attrib.normalized || false, attrib.stride || 0, attrib.start || 0);
                }
                setVertexAttribArrays(gl, this.attributes, this.nativeState);
                if (this.indexBuffer) {
                    this.indexBuffer.bind();
                }
                return this;
            };
            VertexArrayObject.prototype.addAttribute = function (buffer, attribute, type, normalized, stride, start) {
                this.attributes.push({
                    buffer: buffer,
                    attribute: attribute,
                    location: attribute.location,
                    type: type || this.gl.FLOAT,
                    normalized: normalized || false,
                    stride: stride || 0,
                    start: start || 0
                });
                this.dirty = true;
                return this;
            };
            VertexArrayObject.prototype.addIndex = function (buffer) {
                this.indexBuffer = buffer;
                this.dirty = true;
                return this;
            };
            VertexArrayObject.prototype.clear = function () {
                if (this.nativeVao) {
                    this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);
                }
                this.attributes.length = 0;
                this.indexBuffer = null;
                return this;
            };
            VertexArrayObject.prototype.draw = function (type, size, start) {
                var gl = this.gl;
                if (this.indexBuffer) {
                    gl.drawElements(type, size || this.indexBuffer.data.length, gl.UNSIGNED_SHORT, (start || 0) * 2);
                } else {
                    gl.drawArrays(type, start, size || this.getSize());
                }
                return this;
            };
            VertexArrayObject.prototype.destroy = function () {
                this.gl = null;
                this.indexBuffer = null;
                this.attributes = null;
                this.nativeState = null;
                if (this.nativeVao) {
                    this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao);
                }
                this.nativeVaoExtension = null;
                this.nativeVao = null;
            };
            VertexArrayObject.prototype.getSize = function () {
                var attrib = this.attributes[0];
                return attrib.buffer.data.length / ((attrib.stride / 4) || attrib.attribute.size);
            };
        }, {
            "./setVertexAttribArrays": 16
        }],
        14: [function (require, module, exports) {
            var createContext = function (canvas, options) {
                var gl = canvas.getContext('webgl', options) || canvas.getContext('experimental-webgl', options);
                if (!gl) {
                    throw new Error('This browser does not support webGL. Try using the canvas renderer');
                }
                return gl;
            };
            module.exports = createContext;
        }, {}],
        15: [function (require, module, exports) {
            var gl = {
                createContext: require('./createContext'),
                setVertexAttribArrays: require('./setVertexAttribArrays'),
                GLBuffer: require('./GLBuffer'),
                GLFramebuffer: require('./GLFramebuffer'),
                GLShader: require('./GLShader'),
                GLTexture: require('./GLTexture'),
                VertexArrayObject: require('./VertexArrayObject'),
                shader: require('./shader')
            };
            if (typeof module !== 'undefined' && module.exports) {
                module.exports = gl;
            }
            if (typeof window !== 'undefined') {
                window.PIXI = window.PIXI || {};
                window.PIXI.glCore = gl;
            }
        }, {
            "./GLBuffer": 9,
            "./GLFramebuffer": 10,
            "./GLShader": 11,
            "./GLTexture": 12,
            "./VertexArrayObject": 13,
            "./createContext": 14,
            "./setVertexAttribArrays": 16,
            "./shader": 22
        }],
        16: [function (require, module, exports) {
            var setVertexAttribArrays = function (gl, attribs, state) {
                var i;
                if (state) {
                    var tempAttribState = state.tempAttribState,
                        attribState = state.attribState;
                    for (i = 0; i < tempAttribState.length; i++) {
                        tempAttribState[i] = false;
                    }
                    for (i = 0; i < attribs.length; i++) {
                        tempAttribState[attribs[i].attribute.location] = true;
                    }
                    for (i = 0; i < attribState.length; i++) {
                        if (attribState[i] !== tempAttribState[i]) {
                            attribState[i] = tempAttribState[i];
                            if (state.attribState[i]) {
                                gl.enableVertexAttribArray(i);
                            } else {
                                gl.disableVertexAttribArray(i);
                            }
                        }
                    }
                } else {
                    for (i = 0; i < attribs.length; i++) {
                        var attrib = attribs[i];
                        gl.enableVertexAttribArray(attrib.attribute.location);
                    }
                }
            };
            module.exports = setVertexAttribArrays;
        }, {}],
        17: [function (require, module, exports) {
            var compileProgram = function (gl, vertexSrc, fragmentSrc, attributeLocations) {
                var glVertShader = compileShader(gl, gl.VERTEX_SHADER, vertexSrc);
                var glFragShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentSrc);
                var program = gl.createProgram();
                gl.attachShader(program, glVertShader);
                gl.attachShader(program, glFragShader);
                if (attributeLocations) {
                    for (var i in attributeLocations) {
                        gl.bindAttribLocation(program, attributeLocations[i], i);
                    }
                }
                gl.linkProgram(program);
                if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
                    console.error('Pixi.js Error: Could not initialize shader.');
                    console.error('gl.VALIDATE_STATUS', gl.getProgramParameter(program, gl.VALIDATE_STATUS));
                    console.error('gl.getError()', gl.getError());
                    if (gl.getProgramInfoLog(program) !== '') {
                        console.warn('Pixi.js Warning: gl.getProgramInfoLog()', gl.getProgramInfoLog(program));
                    }
                    gl.deleteProgram(program);
                    program = null;
                }
                gl.deleteShader(glVertShader);
                gl.deleteShader(glFragShader);
                return program;
            };
            var compileShader = function (gl, type, src) {
                var shader = gl.createShader(type);
                gl.shaderSource(shader, src);
                gl.compileShader(shader);
                if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
                    console.log(gl.getShaderInfoLog(shader));
                    return null;
                }
                return shader;
            };
            module.exports = compileProgram;
        }, {}],
        18: [function (require, module, exports) {
            var defaultValue = function (type, size) {
                switch (type) {
                    case 'float':
                        return 0;
                    case 'vec2':
                        return new Float32Array(2 * size);
                    case 'vec3':
                        return new Float32Array(3 * size);
                    case 'vec4':
                        return new Float32Array(4 * size);
                    case 'int':
                    case 'sampler2D':
                        return 0;
                    case 'ivec2':
                        return new Int32Array(2 * size);
                    case 'ivec3':
                        return new Int32Array(3 * size);
                    case 'ivec4':
                        return new Int32Array(4 * size);
                    case 'bool':
                        return false;
                    case 'bvec2':
                        return booleanArray(2 * size);
                    case 'bvec3':
                        return booleanArray(3 * size);
                    case 'bvec4':
                        return booleanArray(4 * size);
                    case 'mat2':
                        return new Float32Array([1, 0, 0, 1]);
                    case 'mat3':
                        return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
                    case 'mat4':
                        return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
                }
            };
            var booleanArray = function (size) {
                var array = new Array(size);
                for (var i = 0; i < array.length; i++) {
                    array[i] = false;
                }
                return array;
            };
            module.exports = defaultValue;
        }, {}],
        19: [function (require, module, exports) {
            var mapType = require('./mapType');
            var mapSize = require('./mapSize');
            var extractAttributes = function (gl, program) {
                var attributes = {};
                var totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);
                for (var i = 0; i < totalAttributes; i++) {
                    var attribData = gl.getActiveAttrib(program, i);
                    var type = mapType(gl, attribData.type);
                    attributes[attribData.name] = {
                        type: type,
                        size: mapSize(type),
                        location: gl.getAttribLocation(program, attribData.name),
                        pointer: pointer
                    };
                }
                return attributes;
            };
            var pointer = function (type, normalized, stride, start) {
                gl.vertexAttribPointer(this.location, this.size, type || gl.FLOAT, normalized || false, stride || 0, start || 0);
            };
            module.exports = extractAttributes;
        }, {
            "./mapSize": 23,
            "./mapType": 24
        }],
        20: [function (require, module, exports) {
            var mapType = require('./mapType');
            var defaultValue = require('./defaultValue');
            var extractUniforms = function (gl, program) {
                var uniforms = {};
                var totalUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);
                for (var i = 0; i < totalUniforms; i++) {
                    var uniformData = gl.getActiveUniform(program, i);
                    var name = uniformData.name.replace(/\[.*?\]/, "");
                    var type = mapType(gl, uniformData.type);
                    uniforms[name] = {
                        type: type,
                        size: uniformData.size,
                        location: gl.getUniformLocation(program, name),
                        value: defaultValue(type, uniformData.size)
                    };
                }
                return uniforms;
            };
            module.exports = extractUniforms;
        }, {
            "./defaultValue": 18,
            "./mapType": 24
        }],
        21: [function (require, module, exports) {
            var generateUniformAccessObject = function (gl, uniformData) {
                var uniforms = {
                    data: {}
                };
                uniforms.gl = gl;
                var uniformKeys = Object.keys(uniformData);
                for (var i = 0; i < uniformKeys.length; i++) {
                    var fullName = uniformKeys[i];
                    var nameTokens = fullName.split('.');
                    var name = nameTokens[nameTokens.length - 1];
                    var uniformGroup = getUniformGroup(nameTokens, uniforms);
                    var uniform = uniformData[fullName];
                    uniformGroup.data[name] = uniform;
                    uniformGroup.gl = gl;
                    Object.defineProperty(uniformGroup, name, {
                        get: generateGetter(name),
                        set: generateSetter(name, uniform)
                    });
                }
                return uniforms;
            };
            var generateGetter = function (name) {
                return function () {
                    return this.data[name].value;
                };
            };
            var GLSL_SINGLE_SETTERS = {
                float: function setSingleFloat(gl, location, value) {
                    gl.uniform1f(location, value);
                },
                vec2: function setSingleVec2(gl, location, value) {
                    gl.uniform2f(location, value[0], value[1]);
                },
                vec3: function setSingleVec3(gl, location, value) {
                    gl.uniform3f(location, value[0], value[1], value[2]);
                },
                vec4: function setSingleVec4(gl, location, value) {
                    gl.uniform4f(location, value[0], value[1], value[2], value[3]);
                },
                int: function setSingleInt(gl, location, value) {
                    gl.uniform1i(location, value);
                },
                ivec2: function setSingleIvec2(gl, location, value) {
                    gl.uniform2i(location, value[0], value[1]);
                },
                ivec3: function setSingleIvec3(gl, location, value) {
                    gl.uniform3i(location, value[0], value[1], value[2]);
                },
                ivec4: function setSingleIvec4(gl, location, value) {
                    gl.uniform4i(location, value[0], value[1], value[2], value[3]);
                },
                bool: function setSingleBool(gl, location, value) {
                    gl.uniform1i(location, value);
                },
                bvec2: function setSingleBvec2(gl, location, value) {
                    gl.uniform2i(location, value[0], value[1]);
                },
                bvec3: function setSingleBvec3(gl, location, value) {
                    gl.uniform3i(location, value[0], value[1], value[2]);
                },
                bvec4: function setSingleBvec4(gl, location, value) {
                    gl.uniform4i(location, value[0], value[1], value[2], value[3]);
                },
                mat2: function setSingleMat2(gl, location, value) {
                    gl.uniformMatrix2fv(location, false, value);
                },
                mat3: function setSingleMat3(gl, location, value) {
                    gl.uniformMatrix3fv(location, false, value);
                },
                mat4: function setSingleMat4(gl, location, value) {
                    gl.uniformMatrix4fv(location, false, value);
                },
                sampler2D: function setSingleSampler2D(gl, location, value) {
                    gl.uniform1i(location, value);
                },
            };
            var GLSL_ARRAY_SETTERS = {
                float: function setFloatArray(gl, location, value) {
                    gl.uniform1fv(location, value);
                },
                vec2: function setVec2Array(gl, location, value) {
                    gl.uniform2fv(location, value);
                },
                vec3: function setVec3Array(gl, location, value) {
                    gl.uniform3fv(location, value);
                },
                vec4: function setVec4Array(gl, location, value) {
                    gl.uniform4fv(location, value);
                },
                int: function setIntArray(gl, location, value) {
                    gl.uniform1iv(location, value);
                },
                ivec2: function setIvec2Array(gl, location, value) {
                    gl.uniform2iv(location, value);
                },
                ivec3: function setIvec3Array(gl, location, value) {
                    gl.uniform3iv(location, value);
                },
                ivec4: function setIvec4Array(gl, location, value) {
                    gl.uniform4iv(location, value);
                },
                bool: function setBoolArray(gl, location, value) {
                    gl.uniform1iv(location, value);
                },
                bvec2: function setBvec2Array(gl, location, value) {
                    gl.uniform2iv(location, value);
                },
                bvec3: function setBvec3Array(gl, location, value) {
                    gl.uniform3iv(location, value);
                },
                bvec4: function setBvec4Array(gl, location, value) {
                    gl.uniform4iv(location, value);
                },
                sampler2D: function setSampler2DArray(gl, location, value) {
                    gl.uniform1iv(location, value);
                },
            };

            function generateSetter(name, uniform) {
                return function (value) {
                    this.data[name].value = value;
                    var location = this.data[name].location;
                    if (uniform.size === 1) {
                        GLSL_SINGLE_SETTERS[uniform.type](this.gl, location, value);
                    } else {
                        GLSL_ARRAY_SETTERS[uniform.type](this.gl, location, value);
                    }
                };
            }

            function getUniformGroup(nameTokens, uniform) {
                var cur = uniform;
                for (var i = 0; i < nameTokens.length - 1; i++) {
                    var o = cur[nameTokens[i]] || {
                        data: {}
                    };
                    cur[nameTokens[i]] = o;
                    cur = o;
                }
                return cur;
            }
            module.exports = generateUniformAccessObject;
        }, {}],
        22: [function (require, module, exports) {
            module.exports = {
                compileProgram: require('./compileProgram'),
                defaultValue: require('./defaultValue'),
                extractAttributes: require('./extractAttributes'),
                extractUniforms: require('./extractUniforms'),
                generateUniformAccessObject: require('./generateUniformAccessObject'),
                setPrecision: require('./setPrecision'),
                mapSize: require('./mapSize'),
                mapType: require('./mapType')
            };
        }, {
            "./compileProgram": 17,
            "./defaultValue": 18,
            "./extractAttributes": 19,
            "./extractUniforms": 20,
            "./generateUniformAccessObject": 21,
            "./mapSize": 23,
            "./mapType": 24,
            "./setPrecision": 25
        }],
        23: [function (require, module, exports) {
            var mapSize = function (type) {
                return GLSL_TO_SIZE[type];
            };
            var GLSL_TO_SIZE = {
                'float': 1,
                'vec2': 2,
                'vec3': 3,
                'vec4': 4,
                'int': 1,
                'ivec2': 2,
                'ivec3': 3,
                'ivec4': 4,
                'bool': 1,
                'bvec2': 2,
                'bvec3': 3,
                'bvec4': 4,
                'mat2': 4,
                'mat3': 9,
                'mat4': 16,
                'sampler2D': 1
            };
            module.exports = mapSize;
        }, {}],
        24: [function (require, module, exports) {
            var mapType = function (gl, type) {
                if (!GL_TABLE) {
                    var typeNames = Object.keys(GL_TO_GLSL_TYPES);
                    GL_TABLE = {};
                    for (var i = 0; i < typeNames.length; ++i) {
                        var tn = typeNames[i];
                        GL_TABLE[gl[tn]] = GL_TO_GLSL_TYPES[tn];
                    }
                }
                return GL_TABLE[type];
            };
            var GL_TABLE = null;
            var GL_TO_GLSL_TYPES = {
                'FLOAT': 'float',
                'FLOAT_VEC2': 'vec2',
                'FLOAT_VEC3': 'vec3',
                'FLOAT_VEC4': 'vec4',
                'INT': 'int',
                'INT_VEC2': 'ivec2',
                'INT_VEC3': 'ivec3',
                'INT_VEC4': 'ivec4',
                'BOOL': 'bool',
                'BOOL_VEC2': 'bvec2',
                'BOOL_VEC3': 'bvec3',
                'BOOL_VEC4': 'bvec4',
                'FLOAT_MAT2': 'mat2',
                'FLOAT_MAT3': 'mat3',
                'FLOAT_MAT4': 'mat4',
                'SAMPLER_2D': 'sampler2D'
            };
            module.exports = mapType;
        }, {}],
        25: [function (require, module, exports) {
            var setPrecision = function (src, precision) {
                if (src.substring(0, 9) !== 'precision') {
                    return 'precision ' + precision + ' float;\n' + src;
                }
                return src;
            };
            module.exports = setPrecision;
        }, {}],
        26: [function (require, module, exports) {
            var process = module.exports = {};
            var cachedSetTimeout;
            var cachedClearTimeout;

            function defaultSetTimout() {
                throw new Error('setTimeout has not been defined');
            }

            function defaultClearTimeout() {
                throw new Error('clearTimeout has not been defined');
            }
            (function () {
                try {
                    if (typeof setTimeout === 'function') {
                        cachedSetTimeout = setTimeout;
                    } else {
                        cachedSetTimeout = defaultSetTimout;
                    }
                } catch (e) {
                    cachedSetTimeout = defaultSetTimout;
                }
                try {
                    if (typeof clearTimeout === 'function') {
                        cachedClearTimeout = clearTimeout;
                    } else {
                        cachedClearTimeout = defaultClearTimeout;
                    }
                } catch (e) {
                    cachedClearTimeout = defaultClearTimeout;
                }
            }())

            function runTimeout(fun) {
                if (cachedSetTimeout === setTimeout) {
                    return setTimeout(fun, 0);
                }
                if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
                    cachedSetTimeout = setTimeout;
                    return setTimeout(fun, 0);
                }
                try {
                    return cachedSetTimeout(fun, 0);
                } catch (e) {
                    try {
                        return cachedSetTimeout.call(null, fun, 0);
                    } catch (e) {
                        return cachedSetTimeout.call(this, fun, 0);
                    }
                }
            }

            function runClearTimeout(marker) {
                if (cachedClearTimeout === clearTimeout) {
                    return clearTimeout(marker);
                }
                if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
                    cachedClearTimeout = clearTimeout;
                    return clearTimeout(marker);
                }
                try {
                    return cachedClearTimeout(marker);
                } catch (e) {
                    try {
                        return cachedClearTimeout.call(null, marker);
                    } catch (e) {
                        return cachedClearTimeout.call(this, marker);
                    }
                }
            }
            var queue = [];
            var draining = false;
            var currentQueue;
            var queueIndex = -1;

            function cleanUpNextTick() {
                if (!draining || !currentQueue) {
                    return;
                }
                draining = false;
                if (currentQueue.length) {
                    queue = currentQueue.concat(queue);
                } else {
                    queueIndex = -1;
                }
                if (queue.length) {
                    drainQueue();
                }
            }

            function drainQueue() {
                if (draining) {
                    return;
                }
                var timeout = runTimeout(cleanUpNextTick);
                draining = true;
                var len = queue.length;
                while (len) {
                    currentQueue = queue;
                    queue = [];
                    while (++queueIndex < len) {
                        if (currentQueue) {
                            currentQueue[queueIndex].run();
                        }
                    }
                    queueIndex = -1;
                    len = queue.length;
                }
                currentQueue = null;
                draining = false;
                runClearTimeout(timeout);
            }
            process.nextTick = function (fun) {
                var args = new Array(arguments.length - 1);
                if (arguments.length > 1) {
                    for (var i = 1; i < arguments.length; i++) {
                        args[i - 1] = arguments[i];
                    }
                }
                queue.push(new Item(fun, args));
                if (queue.length === 1 && !draining) {
                    runTimeout(drainQueue);
                }
            };

            function Item(fun, array) {
                this.fun = fun;
                this.array = array;
            }
            Item.prototype.run = function () {
                this.fun.apply(null, this.array);
            };
            process.title = 'browser';
            process.browser = true;
            process.env = {};
            process.argv = [];
            process.version = '';
            process.versions = {};

            function noop() {}
            process.on = noop;
            process.addListener = noop;
            process.once = noop;
            process.off = noop;
            process.removeListener = noop;
            process.removeAllListeners = noop;
            process.emit = noop;
            process.prependListener = noop;
            process.prependOnceListener = noop;
            process.listeners = function (name) {
                return []
            }
            process.binding = function (name) {
                throw new Error('process.binding is not supported');
            };
            process.cwd = function () {
                return '/'
            };
            process.chdir = function (dir) {
                throw new Error('process.chdir is not supported');
            };
            process.umask = function () {
                return 0;
            };
        }, {}],
        27: [function (require, module, exports) {
            (function (global) {
                ;
                (function (root) {
                    var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;
                    var freeModule = typeof module == 'object' && module && !module.nodeType && module;
                    var freeGlobal = typeof global == 'object' && global;
                    if (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal) {
                        root = freeGlobal;
                    }
                    var punycode, maxInt = 2147483647,
                        base = 36,
                        tMin = 1,
                        tMax = 26,
                        skew = 38,
                        damp = 700,
                        initialBias = 72,
                        initialN = 128,
                        delimiter = '-',
                        regexPunycode = /^xn--/,
                        regexNonASCII = /[^\x20-\x7E]/,
                        regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g,
                        errors = {
                            'overflow': 'Overflow: input needs wider integers to process',
                            'not-basic': 'Illegal input >= 0x80 (not a basic code point)',
                            'invalid-input': 'Invalid input'
                        },
                        baseMinusTMin = base - tMin,
                        floor = Math.floor,
                        stringFromCharCode = String.fromCharCode,
                        key;

                    function error(type) {
                        throw new RangeError(errors[type]);
                    }

                    function map(array, fn) {
                        var length = array.length;
                        var result = [];
                        while (length--) {
                            result[length] = fn(array[length]);
                        }
                        return result;
                    }

                    function mapDomain(string, fn) {
                        var parts = string.split('@');
                        var result = '';
                        if (parts.length > 1) {
                            result = parts[0] + '@';
                            string = parts[1];
                        }
                        string = string.replace(regexSeparators, '\x2E');
                        var labels = string.split('.');
                        var encoded = map(labels, fn).join('.');
                        return result + encoded;
                    }

                    function ucs2decode(string) {
                        var output = [],
                            counter = 0,
                            length = string.length,
                            value, extra;
                        while (counter < length) {
                            value = string.charCodeAt(counter++);
                            if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
                                extra = string.charCodeAt(counter++);
                                if ((extra & 0xFC00) == 0xDC00) {
                                    output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
                                } else {
                                    output.push(value);
                                    counter--;
                                }
                            } else {
                                output.push(value);
                            }
                        }
                        return output;
                    }

                    function ucs2encode(array) {
                        return map(array, function (value) {
                            var output = '';
                            if (value > 0xFFFF) {
                                value -= 0x10000;
                                output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);
                                value = 0xDC00 | value & 0x3FF;
                            }
                            output += stringFromCharCode(value);
                            return output;
                        }).join('');
                    }

                    function basicToDigit(codePoint) {
                        if (codePoint - 48 < 10) {
                            return codePoint - 22;
                        }
                        if (codePoint - 65 < 26) {
                            return codePoint - 65;
                        }
                        if (codePoint - 97 < 26) {
                            return codePoint - 97;
                        }
                        return base;
                    }

                    function digitToBasic(digit, flag) {
                        return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
                    }

                    function adapt(delta, numPoints, firstTime) {
                        var k = 0;
                        delta = firstTime ? floor(delta / damp) : delta >> 1;
                        delta += floor(delta / numPoints);
                        for (; delta > baseMinusTMin * tMax >> 1; k += base) {
                            delta = floor(delta / baseMinusTMin);
                        }
                        return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
                    }

                    function decode(input) {
                        var output = [],
                            inputLength = input.length,
                            out, i = 0,
                            n = initialN,
                            bias = initialBias,
                            basic, j, index, oldi, w, k, digit, t, baseMinusT;
                        basic = input.lastIndexOf(delimiter);
                        if (basic < 0) {
                            basic = 0;
                        }
                        for (j = 0; j < basic; ++j) {
                            if (input.charCodeAt(j) >= 0x80) {
                                error('not-basic');
                            }
                            output.push(input.charCodeAt(j));
                        }
                        for (index = basic > 0 ? basic + 1 : 0; index < inputLength;) {
                            for (oldi = i, w = 1, k = base;; k += base) {
                                if (index >= inputLength) {
                                    error('invalid-input');
                                }
                                digit = basicToDigit(input.charCodeAt(index++));
                                if (digit >= base || digit > floor((maxInt - i) / w)) {
                                    error('overflow');
                                }
                                i += digit * w;
                                t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);
                                if (digit < t) {
                                    break;
                                }
                                baseMinusT = base - t;
                                if (w > floor(maxInt / baseMinusT)) {
                                    error('overflow');
                                }
                                w *= baseMinusT;
                            }
                            out = output.length + 1;
                            bias = adapt(i - oldi, out, oldi == 0);
                            if (floor(i / out) > maxInt - n) {
                                error('overflow');
                            }
                            n += floor(i / out);
                            i %= out;
                            output.splice(i++, 0, n);
                        }
                        return ucs2encode(output);
                    }

                    function encode(input) {
                        var n, delta, handledCPCount, basicLength, bias, j, m, q, k, t, currentValue, output = [],
                            inputLength, handledCPCountPlusOne, baseMinusT, qMinusT;
                        input = ucs2decode(input);
                        inputLength = input.length;
                        n = initialN;
                        delta = 0;
                        bias = initialBias;
                        for (j = 0; j < inputLength; ++j) {
                            currentValue = input[j];
                            if (currentValue < 0x80) {
                                output.push(stringFromCharCode(currentValue));
                            }
                        }
                        handledCPCount = basicLength = output.length;
                        if (basicLength) {
                            output.push(delimiter);
                        }
                        while (handledCPCount < inputLength) {
                            for (m = maxInt, j = 0; j < inputLength; ++j) {
                                currentValue = input[j];
                                if (currentValue >= n && currentValue < m) {
                                    m = currentValue;
                                }
                            }
                            handledCPCountPlusOne = handledCPCount + 1;
                            if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
                                error('overflow');
                            }
                            delta += (m - n) * handledCPCountPlusOne;
                            n = m;
                            for (j = 0; j < inputLength; ++j) {
                                currentValue = input[j];
                                if (currentValue < n && ++delta > maxInt) {
                                    error('overflow');
                                }
                                if (currentValue == n) {
                                    for (q = delta, k = base;; k += base) {
                                        t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);
                                        if (q < t) {
                                            break;
                                        }
                                        qMinusT = q - t;
                                        baseMinusT = base - t;
                                        output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));
                                        q = floor(qMinusT / baseMinusT);
                                    }
                                    output.push(stringFromCharCode(digitToBasic(q, 0)));
                                    bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
                                    delta = 0;
                                    ++handledCPCount;
                                }
                            }
                            ++delta;
                            ++n;
                        }
                        return output.join('');
                    }

                    function toUnicode(input) {
                        return mapDomain(input, function (string) {
                            return regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;
                        });
                    }

                    function toASCII(input) {
                        return mapDomain(input, function (string) {
                            return regexNonASCII.test(string) ? 'xn--' + encode(string) : string;
                        });
                    }
                    punycode = {
                        'version': '1.4.1',
                        'ucs2': {
                            'decode': ucs2decode,
                            'encode': ucs2encode
                        },
                        'decode': decode,
                        'encode': encode,
                        'toASCII': toASCII,
                        'toUnicode': toUnicode
                    };
                    if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {
                        define('punycode', function () {
                            return punycode;
                        });
                    } else if (freeExports && freeModule) {
                        if (module.exports == freeExports) {
                            freeModule.exports = punycode;
                        } else {
                            for (key in punycode) {
                                punycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);
                            }
                        }
                    } else {
                        root.punycode = punycode;
                    }
                }(this));
            }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
        }, {}],
        28: [function (require, module, exports) {
            'use strict';

            function hasOwnProperty(obj, prop) {
                return Object.prototype.hasOwnProperty.call(obj, prop);
            }
            module.exports = function (qs, sep, eq, options) {
                sep = sep || '&';
                eq = eq || '=';
                var obj = {};
                if (typeof qs !== 'string' || qs.length === 0) {
                    return obj;
                }
                var regexp = /\+/g;
                qs = qs.split(sep);
                var maxKeys = 1000;
                if (options && typeof options.maxKeys === 'number') {
                    maxKeys = options.maxKeys;
                }
                var len = qs.length;
                if (maxKeys > 0 && len > maxKeys) {
                    len = maxKeys;
                }
                for (var i = 0; i < len; ++i) {
                    var x = qs[i].replace(regexp, '%20'),
                        idx = x.indexOf(eq),
                        kstr, vstr, k, v;
                    if (idx >= 0) {
                        kstr = x.substr(0, idx);
                        vstr = x.substr(idx + 1);
                    } else {
                        kstr = x;
                        vstr = '';
                    }
                    k = decodeURIComponent(kstr);
                    v = decodeURIComponent(vstr);
                    if (!hasOwnProperty(obj, k)) {
                        obj[k] = v;
                    } else if (isArray(obj[k])) {
                        obj[k].push(v);
                    } else {
                        obj[k] = [obj[k], v];
                    }
                }
                return obj;
            };
            var isArray = Array.isArray || function (xs) {
                return Object.prototype.toString.call(xs) === '[object Array]';
            };
        }, {}],
        29: [function (require, module, exports) {
            'use strict';
            var stringifyPrimitive = function (v) {
                switch (typeof v) {
                    case 'string':
                        return v;
                    case 'boolean':
                        return v ? 'true' : 'false';
                    case 'number':
                        return isFinite(v) ? v : '';
                    default:
                        return '';
                }
            };
            module.exports = function (obj, sep, eq, name) {
                sep = sep || '&';
                eq = eq || '=';
                if (obj === null) {
                    obj = undefined;
                }
                if (typeof obj === 'object') {
                    return map(objectKeys(obj), function (k) {
                        var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;
                        if (isArray(obj[k])) {
                            return map(obj[k], function (v) {
                                return ks + encodeURIComponent(stringifyPrimitive(v));
                            }).join(sep);
                        } else {
                            return ks + encodeURIComponent(stringifyPrimitive(obj[k]));
                        }
                    }).join(sep);
                }
                if (!name) return '';
                return encodeURIComponent(stringifyPrimitive(name)) + eq
                    + encodeURIComponent(stringifyPrimitive(obj));
            };
            var isArray = Array.isArray || function (xs) {
                return Object.prototype.toString.call(xs) === '[object Array]';
            };

            function map(xs, f) {
                if (xs.map) return xs.map(f);
                var res = [];
                for (var i = 0; i < xs.length; i++) {
                    res.push(f(xs[i], i));
                }
                return res;
            }
            var objectKeys = Object.keys || function (obj) {
                var res = [];
                for (var key in obj) {
                    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);
                }
                return res;
            };
        }, {}],
        30: [function (require, module, exports) {
            'use strict';
            exports.decode = exports.parse = require('./decode');
            exports.encode = exports.stringify = require('./encode');
        }, {
            "./decode": 28,
            "./encode": 29
        }],
        31: [function (require, module, exports) {
            'use strict'
            module.exports = function removeItems(arr, startIdx, removeCount) {
                var i, length = arr.length
                if (startIdx >= length || removeCount === 0) {
                    return
                }
                removeCount = (startIdx + removeCount > length ? length - startIdx : removeCount)
                var len = length - removeCount
                for (i = startIdx; i < len; ++i) {
                    arr[i] = arr[i + removeCount]
                }
                arr.length = len
            }
        }, {}],
        32: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
                return typeof obj;
            } : function (obj) {
                return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
            };
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _miniSignals = require('mini-signals');
            var _miniSignals2 = _interopRequireDefault(_miniSignals);
            var _parseUri = require('parse-uri');
            var _parseUri2 = _interopRequireDefault(_parseUri);
            var _async = require('./async');
            var async = _interopRequireWildcard(_async);
            var _Resource = require('./Resource');
            var _Resource2 = _interopRequireDefault(_Resource);

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var MAX_PROGRESS = 100;
            var rgxExtractUrlHash = /(#[\w-]+)?$/;
            var Loader = function () {
                function Loader() {
                    var _this = this;
                    var baseUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
                    var concurrency = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;
                    _classCallCheck(this, Loader);
                    this.baseUrl = baseUrl;
                    this.progress = 0;
                    this.loading = false;
                    this.defaultQueryString = '';
                    this._beforeMiddleware = [];
                    this._afterMiddleware = [];
                    this._resourcesParsing = [];
                    this._boundLoadResource = function (r, d) {
                        return _this._loadResource(r, d);
                    };
                    this._queue = async.queue(this._boundLoadResource, concurrency);
                    this._queue.pause();
                    this.resources = {};
                    this.onProgress = new _miniSignals2.default();
                    this.onError = new _miniSignals2.default();
                    this.onLoad = new _miniSignals2.default();
                    this.onStart = new _miniSignals2.default();
                    this.onComplete = new _miniSignals2.default();
                }
                Loader.prototype.add = function add(name, url, options, cb) {
                    if (Array.isArray(name)) {
                        for (var i = 0; i < name.length; ++i) {
                            this.add(name[i]);
                        }
                        return this;
                    }
                    if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {
                        cb = url || name.callback || name.onComplete;
                        options = name;
                        url = name.url;
                        name = name.name || name.key || name.url;
                    }
                    if (typeof url !== 'string') {
                        cb = options;
                        options = url;
                        url = name;
                    }
                    if (typeof url !== 'string') {
                        throw new Error('No url passed to add resource to loader.');
                    }
                    if (typeof options === 'function') {
                        cb = options;
                        options = null;
                    }
                    if (this.loading && (!options || !options.parentResource)) {
                        throw new Error('Cannot add resources while the loader is running.');
                    }
                    if (this.resources[name]) {
                        throw new Error('Resource named "' + name + '" already exists.');
                    }
                    url = this._prepareUrl(url);
                    this.resources[name] = new _Resource2.default(name, url, options);
                    if (typeof cb === 'function') {
                        this.resources[name].onAfterMiddleware.once(cb);
                    }
                    if (this.loading) {
                        var parent = options.parentResource;
                        var incompleteChildren = [];
                        for (var _i = 0; _i < parent.children.length; ++_i) {
                            if (!parent.children[_i].isComplete) {
                                incompleteChildren.push(parent.children[_i]);
                            }
                        }
                        var fullChunk = parent.progressChunk * (incompleteChildren.length + 1);
                        var eachChunk = fullChunk / (incompleteChildren.length + 2);
                        parent.children.push(this.resources[name]);
                        parent.progressChunk = eachChunk;
                        for (var _i2 = 0; _i2 < incompleteChildren.length; ++_i2) {
                            incompleteChildren[_i2].progressChunk = eachChunk;
                        }
                        this.resources[name].progressChunk = eachChunk;
                    }
                    this._queue.push(this.resources[name]);
                    return this;
                };
                Loader.prototype.pre = function pre(fn) {
                    this._beforeMiddleware.push(fn);
                    return this;
                };
                Loader.prototype.use = function use(fn) {
                    this._afterMiddleware.push(fn);
                    return this;
                };
                Loader.prototype.reset = function reset() {
                    this.progress = 0;
                    this.loading = false;
                    this._queue.kill();
                    this._queue.pause();
                    for (var k in this.resources) {
                        var res = this.resources[k];
                        if (res._onLoadBinding) {
                            res._onLoadBinding.detach();
                        }
                        if (res.isLoading) {
                            res.abort();
                        }
                    }
                    this.resources = {};
                    return this;
                };
                Loader.prototype.load = function load(cb) {
                    if (typeof cb === 'function') {
                        this.onComplete.once(cb);
                    }
                    if (this.loading) {
                        return this;
                    }
                    if (this._queue.idle()) {
                        this._onStart();
                        this._onComplete();
                    } else {
                        var numTasks = this._queue._tasks.length;
                        var chunk = 100 / numTasks;
                        for (var i = 0; i < this._queue._tasks.length; ++i) {
                            this._queue._tasks[i].data.progressChunk = chunk;
                        }
                        this._onStart();
                        this._queue.resume();
                    }
                    return this;
                };
                Loader.prototype._prepareUrl = function _prepareUrl(url) {
                    var parsedUrl = (0, _parseUri2.default)(url, {
                        strictMode: true
                    });
                    var result = void 0;
                    if (parsedUrl.protocol || !parsedUrl.path || url.indexOf('//') === 0) {
                        result = url;
                    } else if (this.baseUrl.length && this.baseUrl.lastIndexOf('/') !== this.baseUrl.length - 1 && url.charAt(0) !== '/') {
                        result = this.baseUrl + '/' + url;
                    } else {
                        result = this.baseUrl + url;
                    }
                    if (this.defaultQueryString) {
                        var hash = rgxExtractUrlHash.exec(result)[0];
                        result = result.substr(0, result.length - hash.length);
                        if (result.indexOf('?') !== -1) {
                            result += '&' + this.defaultQueryString;
                        } else {
                            result += '?' + this.defaultQueryString;
                        }
                        result += hash;
                    }
                    return result;
                };
                Loader.prototype._loadResource = function _loadResource(resource, dequeue) {
                    var _this2 = this;
                    resource._dequeue = dequeue;
                    async.eachSeries(this._beforeMiddleware, function (fn, next) {
                        fn.call(_this2, resource, function () {
                            next(resource.isComplete ? {} : null);
                        });
                    }, function () {
                        if (resource.isComplete) {
                            _this2._onLoad(resource);
                        } else {
                            resource._onLoadBinding = resource.onComplete.once(_this2._onLoad, _this2);
                            resource.load();
                        }
                    }, true);
                };
                Loader.prototype._onStart = function _onStart() {
                    this.progress = 0;
                    this.loading = true;
                    this.onStart.dispatch(this);
                };
                Loader.prototype._onComplete = function _onComplete() {
                    this.progress = MAX_PROGRESS;
                    this.loading = false;
                    this.onComplete.dispatch(this, this.resources);
                };
                Loader.prototype._onLoad = function _onLoad(resource) {
                    var _this3 = this;
                    resource._onLoadBinding = null;
                    this._resourcesParsing.push(resource);
                    resource._dequeue();
                    async.eachSeries(this._afterMiddleware, function (fn, next) {
                        fn.call(_this3, resource, next);
                    }, function () {
                        resource.onAfterMiddleware.dispatch(resource);
                        _this3.progress += resource.progressChunk;
                        _this3.onProgress.dispatch(_this3, resource);
                        if (resource.error) {
                            _this3.onError.dispatch(resource.error, _this3, resource);
                        } else {
                            _this3.onLoad.dispatch(_this3, resource);
                        }
                        _this3._resourcesParsing.splice(_this3._resourcesParsing.indexOf(resource), 1);
                        if (_this3._queue.idle() && _this3._resourcesParsing.length === 0) {
                            _this3._onComplete();
                        }
                    }, true);
                };
                _createClass(Loader, [{
                    key: 'concurrency',
                    get: function get() {
                        return this._queue.concurrency;
                    },
                    set: function set(concurrency) {
                        this._queue.concurrency = concurrency;
                    }
                }]);
                return Loader;
            }();
            exports.default = Loader;
        }, {
            "./Resource": 33,
            "./async": 34,
            "mini-signals": 5,
            "parse-uri": 7
        }],
        33: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _parseUri = require('parse-uri');
            var _parseUri2 = _interopRequireDefault(_parseUri);
            var _miniSignals = require('mini-signals');
            var _miniSignals2 = _interopRequireDefault(_miniSignals);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var useXdr = !!(window.XDomainRequest && !('withCredentials' in new XMLHttpRequest()));
            var tempAnchor = null;
            var STATUS_NONE = 0;
            var STATUS_OK = 200;
            var STATUS_EMPTY = 204;
            var STATUS_IE_BUG_EMPTY = 1223;
            var STATUS_TYPE_OK = 2;

            function _noop() {}
            var Resource = function () {
                Resource.setExtensionLoadType = function setExtensionLoadType(extname, loadType) {
                    setExtMap(Resource._loadTypeMap, extname, loadType);
                };
                Resource.setExtensionXhrType = function setExtensionXhrType(extname, xhrType) {
                    setExtMap(Resource._xhrTypeMap, extname, xhrType);
                };

                function Resource(name, url, options) {
                    _classCallCheck(this, Resource);
                    if (typeof name !== 'string' || typeof url !== 'string') {
                        throw new Error('Both name and url are required for constructing a resource.');
                    }
                    options = options || {};
                    this._flags = 0;
                    this._setFlag(Resource.STATUS_FLAGS.DATA_URL, url.indexOf('data:') === 0);
                    this.name = name;
                    this.url = url;
                    this.extension = this._getExtension();
                    this.data = null;
                    this.crossOrigin = options.crossOrigin === true ? 'anonymous' : options.crossOrigin;
                    this.loadType = options.loadType || this._determineLoadType();
                    this.xhrType = options.xhrType;
                    this.metadata = options.metadata || {};
                    this.error = null;
                    this.xhr = null;
                    this.children = [];
                    this.type = Resource.TYPE.UNKNOWN;
                    this.progressChunk = 0;
                    this._dequeue = _noop;
                    this._onLoadBinding = null;
                    this._boundComplete = this.complete.bind(this);
                    this._boundOnError = this._onError.bind(this);
                    this._boundOnProgress = this._onProgress.bind(this);
                    this._boundXhrOnError = this._xhrOnError.bind(this);
                    this._boundXhrOnAbort = this._xhrOnAbort.bind(this);
                    this._boundXhrOnLoad = this._xhrOnLoad.bind(this);
                    this._boundXdrOnTimeout = this._xdrOnTimeout.bind(this);
                    this.onStart = new _miniSignals2.default();
                    this.onProgress = new _miniSignals2.default();
                    this.onComplete = new _miniSignals2.default();
                    this.onAfterMiddleware = new _miniSignals2.default();
                }
                Resource.prototype.complete = function complete() {
                    if (this.data && this.data.removeEventListener) {
                        this.data.removeEventListener('error', this._boundOnError, false);
                        this.data.removeEventListener('load', this._boundComplete, false);
                        this.data.removeEventListener('progress', this._boundOnProgress, false);
                        this.data.removeEventListener('canplaythrough', this._boundComplete, false);
                    }
                    if (this.xhr) {
                        if (this.xhr.removeEventListener) {
                            this.xhr.removeEventListener('error', this._boundXhrOnError, false);
                            this.xhr.removeEventListener('abort', this._boundXhrOnAbort, false);
                            this.xhr.removeEventListener('progress', this._boundOnProgress, false);
                            this.xhr.removeEventListener('load', this._boundXhrOnLoad, false);
                        } else {
                            this.xhr.onerror = null;
                            this.xhr.ontimeout = null;
                            this.xhr.onprogress = null;
                            this.xhr.onload = null;
                        }
                    }
                    if (this.isComplete) {
                        throw new Error('Complete called again for an already completed resource.');
                    }
                    this._setFlag(Resource.STATUS_FLAGS.COMPLETE, true);
                    this._setFlag(Resource.STATUS_FLAGS.LOADING, false);
                    this.onComplete.dispatch(this);
                };
                Resource.prototype.abort = function abort(message) {
                    if (this.error) {
                        return;
                    }
                    this.error = new Error(message);
                    if (this.xhr) {
                        this.xhr.abort();
                    } else if (this.xdr) {
                        this.xdr.abort();
                    } else if (this.data) {
                        if (this.data.src) {
                            this.data.src = Resource.EMPTY_GIF;
                        } else {
                            while (this.data.firstChild) {
                                this.data.removeChild(this.data.firstChild);
                            }
                        }
                    }
                    this.complete();
                };
                Resource.prototype.load = function load(cb) {
                    var _this = this;
                    if (this.isLoading) {
                        return;
                    }
                    if (this.isComplete) {
                        if (cb) {
                            setTimeout(function () {
                                return cb(_this);
                            }, 1);
                        }
                        return;
                    } else if (cb) {
                        this.onComplete.once(cb);
                    }
                    this._setFlag(Resource.STATUS_FLAGS.LOADING, true);
                    this.onStart.dispatch(this);
                    if (this.crossOrigin === false || typeof this.crossOrigin !== 'string') {
                        this.crossOrigin = this._determineCrossOrigin(this.url);
                    }
                    switch (this.loadType) {
                        case Resource.LOAD_TYPE.IMAGE:
                            this.type = Resource.TYPE.IMAGE;
                            this._loadElement('image');
                            break;
                        case Resource.LOAD_TYPE.AUDIO:
                            this.type = Resource.TYPE.AUDIO;
                            this._loadSourceElement('audio');
                            break;
                        case Resource.LOAD_TYPE.VIDEO:
                            this.type = Resource.TYPE.VIDEO;
                            this._loadSourceElement('video');
                            break;
                        case Resource.LOAD_TYPE.XHR:
                        default:
                            if (useXdr && this.crossOrigin) {
                                this._loadXdr();
                            } else {
                                this._loadXhr();
                            }
                            break;
                    }
                };
                Resource.prototype._hasFlag = function _hasFlag(flag) {
                    return !!(this._flags & flag);
                };
                Resource.prototype._setFlag = function _setFlag(flag, value) {
                    this._flags = value ? this._flags | flag : this._flags & ~flag;
                };
                Resource.prototype._loadElement = function _loadElement(type) {
                    if (this.metadata.loadElement) {
                        this.data = this.metadata.loadElement;
                    } else if (type === 'image' && typeof window.Image !== 'undefined') {
                        this.data = new Image();
                    } else {
                        this.data = document.createElement(type);
                    }
                    if (this.crossOrigin) {
                        this.data.crossOrigin = this.crossOrigin;
                    }
                    if (!this.metadata.skipSource) {
                        this.data.src = this.url;
                    }
                    this.data.addEventListener('error', this._boundOnError, false);
                    this.data.addEventListener('load', this._boundComplete, false);
                    this.data.addEventListener('progress', this._boundOnProgress, false);
                };
                Resource.prototype._loadSourceElement = function _loadSourceElement(type) {
                    if (this.metadata.loadElement) {
                        this.data = this.metadata.loadElement;
                    } else if (type === 'audio' && typeof window.Audio !== 'undefined') {
                        this.data = new Audio();
                    } else {
                        this.data = document.createElement(type);
                    }
                    if (this.data === null) {
                        this.abort('Unsupported element: ' + type);
                        return;
                    }
                    if (!this.metadata.skipSource) {
                        if (navigator.isCocoonJS) {
                            this.data.src = Array.isArray(this.url) ? this.url[0] : this.url;
                        } else if (Array.isArray(this.url)) {
                            var mimeTypes = this.metadata.mimeType;
                            for (var i = 0; i < this.url.length; ++i) {
                                this.data.appendChild(this._createSource(type, this.url[i], Array.isArray(mimeTypes) ? mimeTypes[i] : mimeTypes));
                            }
                        } else {
                            var _mimeTypes = this.metadata.mimeType;
                            this.data.appendChild(this._createSource(type, this.url, Array.isArray(_mimeTypes) ? _mimeTypes[0] : _mimeTypes));
                        }
                    }
                    this.data.addEventListener('error', this._boundOnError, false);
                    this.data.addEventListener('load', this._boundComplete, false);
                    this.data.addEventListener('progress', this._boundOnProgress, false);
                    this.data.addEventListener('canplaythrough', this._boundComplete, false);
                    this.data.load();
                };
                Resource.prototype._loadXhr = function _loadXhr() {
                    if (typeof this.xhrType !== 'string') {
                        this.xhrType = this._determineXhrType();
                    }
                    var xhr = this.xhr = new XMLHttpRequest();
                    xhr.open('GET', this.url, true);
                    if (this.xhrType === Resource.XHR_RESPONSE_TYPE.JSON || this.xhrType === Resource.XHR_RESPONSE_TYPE.DOCUMENT) {
                        xhr.responseType = Resource.XHR_RESPONSE_TYPE.TEXT;
                    } else {
                        xhr.responseType = this.xhrType;
                    }
                    xhr.addEventListener('error', this._boundXhrOnError, false);
                    xhr.addEventListener('abort', this._boundXhrOnAbort, false);
                    xhr.addEventListener('progress', this._boundOnProgress, false);
                    xhr.addEventListener('load', this._boundXhrOnLoad, false);
                    xhr.send();
                };
                Resource.prototype._loadXdr = function _loadXdr() {
                    if (typeof this.xhrType !== 'string') {
                        this.xhrType = this._determineXhrType();
                    }
                    var xdr = this.xhr = new XDomainRequest();
                    xdr.timeout = 5000;
                    xdr.onerror = this._boundXhrOnError;
                    xdr.ontimeout = this._boundXdrOnTimeout;
                    xdr.onprogress = this._boundOnProgress;
                    xdr.onload = this._boundXhrOnLoad;
                    xdr.open('GET', this.url, true);
                    setTimeout(function () {
                        return xdr.send();
                    }, 1);
                };
                Resource.prototype._createSource = function _createSource(type, url, mime) {
                    if (!mime) {
                        mime = type + '/' + this._getExtension(url);
                    }
                    var source = document.createElement('source');
                    source.src = url;
                    source.type = mime;
                    return source;
                };
                Resource.prototype._onError = function _onError(event) {
                    this.abort('Failed to load element using: ' + event.target.nodeName);
                };
                Resource.prototype._onProgress = function _onProgress(event) {
                    if (event && event.lengthComputable) {
                        this.onProgress.dispatch(this, event.loaded / event.total);
                    }
                };
                Resource.prototype._xhrOnError = function _xhrOnError() {
                    var xhr = this.xhr;
                    this.abort(reqType(xhr) + ' Request failed. Status: ' + xhr.status + ', text: "' + xhr.statusText + '"');
                };
                Resource.prototype._xhrOnAbort = function _xhrOnAbort() {
                    this.abort(reqType(this.xhr) + ' Request was aborted by the user.');
                };
                Resource.prototype._xdrOnTimeout = function _xdrOnTimeout() {
                    this.abort(reqType(this.xhr) + ' Request timed out.');
                };
                Resource.prototype._xhrOnLoad = function _xhrOnLoad() {
                    var xhr = this.xhr;
                    var text = '';
                    var status = typeof xhr.status === 'undefined' ? STATUS_OK : xhr.status;
                    if (xhr.responseType === '' || xhr.responseType === 'text' || typeof xhr.responseType === 'undefined') {
                        text = xhr.responseText;
                    }
                    if (status === STATUS_NONE && (text.length > 0 || xhr.responseType === Resource.XHR_RESPONSE_TYPE.BUFFER)) {
                        status = STATUS_OK;
                    } else if (status === STATUS_IE_BUG_EMPTY) {
                        status = STATUS_EMPTY;
                    }
                    var statusType = status / 100 | 0;
                    if (statusType === STATUS_TYPE_OK) {
                        if (this.xhrType === Resource.XHR_RESPONSE_TYPE.TEXT) {
                            this.data = text;
                            this.type = Resource.TYPE.TEXT;
                        } else if (this.xhrType === Resource.XHR_RESPONSE_TYPE.JSON) {
                            try {
                                this.data = JSON.parse(text);
                                this.type = Resource.TYPE.JSON;
                            } catch (e) {
                                this.abort('Error trying to parse loaded json: ' + e);
                                return;
                            }
                        } else if (this.xhrType === Resource.XHR_RESPONSE_TYPE.DOCUMENT) {
                            try {
                                if (window.DOMParser) {
                                    var domparser = new DOMParser();
                                    this.data = domparser.parseFromString(text, 'text/xml');
                                } else {
                                    var div = document.createElement('div');
                                    div.innerHTML = text;
                                    this.data = div;
                                }
                                this.type = Resource.TYPE.XML;
                            } catch (e) {
                                this.abort('Error trying to parse loaded xml: ' + e);
                                return;
                            }
                        } else {
                            this.data = xhr.response || text;
                        }
                    } else {
                        this.abort('[' + xhr.status + '] ' + xhr.statusText + ': ' + xhr.responseURL);
                        return;
                    }
                    this.complete();
                };
                Resource.prototype._determineCrossOrigin = function _determineCrossOrigin(url, loc) {
                    if (url.indexOf('data:') === 0) {
                        return '';
                    }
                    loc = loc || window.location;
                    if (!tempAnchor) {
                        tempAnchor = document.createElement('a');
                    }
                    tempAnchor.href = url;
                    url = (0, _parseUri2.default)(tempAnchor.href, {
                        strictMode: true
                    });
                    var samePort = !url.port && loc.port === '' || url.port === loc.port;
                    var protocol = url.protocol ? url.protocol + ':' : '';
                    if (url.host !== loc.hostname || !samePort || protocol !== loc.protocol) {
                        return 'anonymous';
                    }
                    return '';
                };
                Resource.prototype._determineXhrType = function _determineXhrType() {
                    return Resource._xhrTypeMap[this.extension] || Resource.XHR_RESPONSE_TYPE.TEXT;
                };
                Resource.prototype._determineLoadType = function _determineLoadType() {
                    return Resource._loadTypeMap[this.extension] || Resource.LOAD_TYPE.XHR;
                };
                Resource.prototype._getExtension = function _getExtension() {
                    var url = this.url;
                    var ext = '';
                    if (this.isDataUrl) {
                        var slashIndex = url.indexOf('/');
                        ext = url.substring(slashIndex + 1, url.indexOf(';', slashIndex));
                    } else {
                        var queryStart = url.indexOf('?');
                        var hashStart = url.indexOf('#');
                        var index = Math.min(queryStart > -1 ? queryStart : url.length, hashStart > -1 ? hashStart : url.length);
                        url = url.substring(0, index);
                        ext = url.substring(url.lastIndexOf('.') + 1);
                    }
                    return ext.toLowerCase();
                };
                Resource.prototype._getMimeFromXhrType = function _getMimeFromXhrType(type) {
                    switch (type) {
                        case Resource.XHR_RESPONSE_TYPE.BUFFER:
                            return 'application/octet-binary';
                        case Resource.XHR_RESPONSE_TYPE.BLOB:
                            return 'application/blob';
                        case Resource.XHR_RESPONSE_TYPE.DOCUMENT:
                            return 'application/xml';
                        case Resource.XHR_RESPONSE_TYPE.JSON:
                            return 'application/json';
                        case Resource.XHR_RESPONSE_TYPE.DEFAULT:
                        case Resource.XHR_RESPONSE_TYPE.TEXT:
                        default:
                            return 'text/plain';
                    }
                };
                _createClass(Resource, [{
                    key: 'isDataUrl',
                    get: function get() {
                        return this._hasFlag(Resource.STATUS_FLAGS.DATA_URL);
                    }
                }, {
                    key: 'isComplete',
                    get: function get() {
                        return this._hasFlag(Resource.STATUS_FLAGS.COMPLETE);
                    }
                }, {
                    key: 'isLoading',
                    get: function get() {
                        return this._hasFlag(Resource.STATUS_FLAGS.LOADING);
                    }
                }]);
                return Resource;
            }();
            exports.default = Resource;
            Resource.STATUS_FLAGS = {
                NONE: 0,
                DATA_URL: 1 << 0,
                COMPLETE: 1 << 1,
                LOADING: 1 << 2
            };
            Resource.TYPE = {
                UNKNOWN: 0,
                JSON: 1,
                XML: 2,
                IMAGE: 3,
                AUDIO: 4,
                VIDEO: 5,
                TEXT: 6
            };
            Resource.LOAD_TYPE = {
                XHR: 1,
                IMAGE: 2,
                AUDIO: 3,
                VIDEO: 4
            };
            Resource.XHR_RESPONSE_TYPE = {
                DEFAULT: 'text',
                BUFFER: 'arraybuffer',
                BLOB: 'blob',
                DOCUMENT: 'document',
                JSON: 'json',
                TEXT: 'text'
            };
            Resource._loadTypeMap = {
                gif: Resource.LOAD_TYPE.IMAGE,
                png: Resource.LOAD_TYPE.IMAGE,
                bmp: Resource.LOAD_TYPE.IMAGE,
                jpg: Resource.LOAD_TYPE.IMAGE,
                jpeg: Resource.LOAD_TYPE.IMAGE,
                tif: Resource.LOAD_TYPE.IMAGE,
                tiff: Resource.LOAD_TYPE.IMAGE,
                webp: Resource.LOAD_TYPE.IMAGE,
                tga: Resource.LOAD_TYPE.IMAGE,
                svg: Resource.LOAD_TYPE.IMAGE,
                'svg+xml': Resource.LOAD_TYPE.IMAGE,
                mp3: Resource.LOAD_TYPE.AUDIO,
                ogg: Resource.LOAD_TYPE.AUDIO,
                wav: Resource.LOAD_TYPE.AUDIO,
                mp4: Resource.LOAD_TYPE.VIDEO,
                webm: Resource.LOAD_TYPE.VIDEO
            };
            Resource._xhrTypeMap = {
                xhtml: Resource.XHR_RESPONSE_TYPE.DOCUMENT,
                html: Resource.XHR_RESPONSE_TYPE.DOCUMENT,
                htm: Resource.XHR_RESPONSE_TYPE.DOCUMENT,
                xml: Resource.XHR_RESPONSE_TYPE.DOCUMENT,
                tmx: Resource.XHR_RESPONSE_TYPE.DOCUMENT,
                svg: Resource.XHR_RESPONSE_TYPE.DOCUMENT,
                tsx: Resource.XHR_RESPONSE_TYPE.DOCUMENT,
                gif: Resource.XHR_RESPONSE_TYPE.BLOB,
                png: Resource.XHR_RESPONSE_TYPE.BLOB,
                bmp: Resource.XHR_RESPONSE_TYPE.BLOB,
                jpg: Resource.XHR_RESPONSE_TYPE.BLOB,
                jpeg: Resource.XHR_RESPONSE_TYPE.BLOB,
                tif: Resource.XHR_RESPONSE_TYPE.BLOB,
                tiff: Resource.XHR_RESPONSE_TYPE.BLOB,
                webp: Resource.XHR_RESPONSE_TYPE.BLOB,
                tga: Resource.XHR_RESPONSE_TYPE.BLOB,
                json: Resource.XHR_RESPONSE_TYPE.JSON,
                text: Resource.XHR_RESPONSE_TYPE.TEXT,
                txt: Resource.XHR_RESPONSE_TYPE.TEXT,
                ttf: Resource.XHR_RESPONSE_TYPE.BUFFER,
                otf: Resource.XHR_RESPONSE_TYPE.BUFFER
            };
            Resource.EMPTY_GIF = 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==';

            function setExtMap(map, extname, val) {
                if (extname && extname.indexOf('.') === 0) {
                    extname = extname.substring(1);
                }
                if (!extname) {
                    return;
                }
                map[extname] = val;
            }

            function reqType(xhr) {
                return xhr.toString().replace('object ', '');
            }
        }, {
            "mini-signals": 5,
            "parse-uri": 7
        }],
        34: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.eachSeries = eachSeries;
            exports.queue = queue;

            function _noop() {}

            function eachSeries(array, iterator, callback, deferNext) {
                var i = 0;
                var len = array.length;
                (function next(err) {
                    if (err || i === len) {
                        if (callback) {
                            callback(err);
                        }
                        return;
                    }
                    if (deferNext) {
                        setTimeout(function () {
                            iterator(array[i++], next);
                        }, 1);
                    } else {
                        iterator(array[i++], next);
                    }
                })();
            }

            function onlyOnce(fn) {
                return function onceWrapper() {
                    if (fn === null) {
                        throw new Error('Callback was already called.');
                    }
                    var callFn = fn;
                    fn = null;
                    callFn.apply(this, arguments);
                };
            }

            function queue(worker, concurrency) {
                if (concurrency == null) {
                    concurrency = 1;
                } else if (concurrency === 0) {
                    throw new Error('Concurrency must not be zero');
                }
                var workers = 0;
                var q = {
                    _tasks: [],
                    concurrency: concurrency,
                    saturated: _noop,
                    unsaturated: _noop,
                    buffer: concurrency / 4,
                    empty: _noop,
                    drain: _noop,
                    error: _noop,
                    started: false,
                    paused: false,
                    push: function push(data, callback) {
                        _insert(data, false, callback);
                    },
                    kill: function kill() {
                        workers = 0;
                        q.drain = _noop;
                        q.started = false;
                        q._tasks = [];
                    },
                    unshift: function unshift(data, callback) {
                        _insert(data, true, callback);
                    },
                    process: function process() {
                        while (!q.paused && workers < q.concurrency && q._tasks.length) {
                            var task = q._tasks.shift();
                            if (q._tasks.length === 0) {
                                q.empty();
                            }
                            workers += 1;
                            if (workers === q.concurrency) {
                                q.saturated();
                            }
                            worker(task.data, onlyOnce(_next(task)));
                        }
                    },
                    length: function length() {
                        return q._tasks.length;
                    },
                    running: function running() {
                        return workers;
                    },
                    idle: function idle() {
                        return q._tasks.length + workers === 0;
                    },
                    pause: function pause() {
                        if (q.paused === true) {
                            return;
                        }
                        q.paused = true;
                    },
                    resume: function resume() {
                        if (q.paused === false) {
                            return;
                        }
                        q.paused = false;
                        for (var w = 1; w <= q.concurrency; w++) {
                            q.process();
                        }
                    }
                };

                function _insert(data, insertAtFront, callback) {
                    if (callback != null && typeof callback !== 'function') {
                        throw new Error('task callback must be a function');
                    }
                    q.started = true;
                    if (data == null && q.idle()) {
                        setTimeout(function () {
                            return q.drain();
                        }, 1);
                        return;
                    }
                    var item = {
                        data: data,
                        callback: typeof callback === 'function' ? callback : _noop
                    };
                    if (insertAtFront) {
                        q._tasks.unshift(item);
                    } else {
                        q._tasks.push(item);
                    }
                    setTimeout(function () {
                        return q.process();
                    }, 1);
                }

                function _next(task) {
                    return function next() {
                        workers -= 1;
                        task.callback.apply(task, arguments);
                        if (arguments[0] != null) {
                            q.error(arguments[0], task.data);
                        }
                        if (workers <= q.concurrency - q.buffer) {
                            q.unsaturated();
                        }
                        if (q.idle()) {
                            q.drain();
                        }
                        q.process();
                    };
                }
                return q;
            }
        }, {}],
        35: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.encodeBinary = encodeBinary;
            var _keyStr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';

            function encodeBinary(input) {
                var output = '';
                var inx = 0;
                while (inx < input.length) {
                    var bytebuffer = [0, 0, 0];
                    var encodedCharIndexes = [0, 0, 0, 0];
                    for (var jnx = 0; jnx < bytebuffer.length; ++jnx) {
                        if (inx < input.length) {
                            bytebuffer[jnx] = input.charCodeAt(inx++) & 0xff;
                        } else {
                            bytebuffer[jnx] = 0;
                        }
                    }
                    encodedCharIndexes[0] = bytebuffer[0] >> 2;
                    encodedCharIndexes[1] = (bytebuffer[0] & 0x3) << 4 | bytebuffer[1] >> 4;
                    encodedCharIndexes[2] = (bytebuffer[1] & 0x0f) << 2 | bytebuffer[2] >> 6;
                    encodedCharIndexes[3] = bytebuffer[2] & 0x3f;
                    var paddingBytes = inx - (input.length - 1);
                    switch (paddingBytes) {
                        case 2:
                            encodedCharIndexes[3] = 64;
                            encodedCharIndexes[2] = 64;
                            break;
                        case 1:
                            encodedCharIndexes[3] = 64;
                            break;
                        default:
                            break;
                    }
                    for (var _jnx = 0; _jnx < encodedCharIndexes.length; ++_jnx) {
                        output += _keyStr.charAt(encodedCharIndexes[_jnx]);
                    }
                }
                return output;
            }
        }, {}],
        36: [function (require, module, exports) {
            'use strict';
            var Loader = require('./Loader').default;
            var Resource = require('./Resource').default;
            var async = require('./async');
            var b64 = require('./b64');
            Loader.Resource = Resource;
            Loader.async = async;
            Loader.base64 = b64;
            module.exports = Loader;
            module.exports.default = Loader;
        }, {
            "./Loader": 32,
            "./Resource": 33,
            "./async": 34,
            "./b64": 35
        }],
        37: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
                return typeof obj;
            } : function (obj) {
                return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
            };
            exports.blobMiddlewareFactory = blobMiddlewareFactory;
            var _Resource = require('../../Resource');
            var _Resource2 = _interopRequireDefault(_Resource);
            var _b = require('../../b64');
            var _b2 = _interopRequireDefault(_b);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
            var Url = window.URL || window.webkitURL;

            function blobMiddlewareFactory() {
                return function blobMiddleware(resource, next) {
                    if (!resource.data) {
                        next();
                        return;
                    }
                    if (resource.xhr && resource.xhrType === _Resource2.default.XHR_RESPONSE_TYPE.BLOB) {
                        if (!window.Blob || typeof resource.data === 'string') {
                            var type = resource.xhr.getResponseHeader('content-type');
                            if (type && type.indexOf('image') === 0) {
                                resource.data = new Image();
                                resource.data.src = 'data:' + type + ';base64,' + _b2.default.encodeBinary(resource.xhr.responseText);
                                resource.type = _Resource2.default.TYPE.IMAGE;
                                resource.data.onload = function () {
                                    resource.data.onload = null;
                                    next();
                                };
                                return;
                            }
                        } else if (resource.data.type.indexOf('image') === 0) {
                            var _ret = function () {
                                var src = Url.createObjectURL(resource.data);
                                resource.blob = resource.data;
                                resource.data = new Image();
                                resource.data.src = src;
                                resource.type = _Resource2.default.TYPE.IMAGE;
                                resource.data.onload = function () {
                                    Url.revokeObjectURL(src);
                                    resource.data.onload = null;
                                    next();
                                };
                                return {
                                    v: void 0
                                };
                            }();
                            if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === "object") return _ret.v;
                        }
                    }
                    next();
                };
            }
        }, {
            "../../Resource": 33,
            "../../b64": 35
        }],
        38: [function (require, module, exports) {
            'use strict';
            var punycode = require('punycode');
            var util = require('./util');
            exports.parse = urlParse;
            exports.resolve = urlResolve;
            exports.resolveObject = urlResolveObject;
            exports.format = urlFormat;
            exports.Url = Url;

            function Url() {
                this.protocol = null;
                this.slashes = null;
                this.auth = null;
                this.host = null;
                this.port = null;
                this.hostname = null;
                this.hash = null;
                this.search = null;
                this.query = null;
                this.pathname = null;
                this.path = null;
                this.href = null;
            }
            var protocolPattern = /^([a-z0-9.+-]+:)/i,
                portPattern = /:[0-9]*$/,
                simplePathPattern = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,
                delims = ['<', '>', '"', '`', ' ', '\r', '\n', '\t'],
                unwise = ['{', '}', '|', '\\', '^', '`'].concat(delims),
                autoEscape = ['\''].concat(unwise),
                nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),
                hostEndingChars = ['/', '?', '#'],
                hostnameMaxLen = 255,
                hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,
                hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
                unsafeProtocol = {
                    'javascript': true,
                    'javascript:': true
                },
                hostlessProtocol = {
                    'javascript': true,
                    'javascript:': true
                },
                slashedProtocol = {
                    'http': true,
                    'https': true,
                    'ftp': true,
                    'gopher': true,
                    'file': true,
                    'http:': true,
                    'https:': true,
                    'ftp:': true,
                    'gopher:': true,
                    'file:': true
                },
                querystring = require('querystring');

            function urlParse(url, parseQueryString, slashesDenoteHost) {
                if (url && util.isObject(url) && url instanceof Url) return url;
                var u = new Url;
                u.parse(url, parseQueryString, slashesDenoteHost);
                return u;
            }
            Url.prototype.parse = function (url, parseQueryString, slashesDenoteHost) {
                if (!util.isString(url)) {
                    throw new TypeError("Parameter 'url' must be a string, not " + typeof url);
                }
                var queryIndex = url.indexOf('?'),
                    splitter = (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',
                    uSplit = url.split(splitter),
                    slashRegex = /\\/g;
                uSplit[0] = uSplit[0].replace(slashRegex, '/');
                url = uSplit.join(splitter);
                var rest = url;
                rest = rest.trim();
                if (!slashesDenoteHost && url.split('#').length === 1) {
                    var simplePath = simplePathPattern.exec(rest);
                    if (simplePath) {
                        this.path = rest;
                        this.href = rest;
                        this.pathname = simplePath[1];
                        if (simplePath[2]) {
                            this.search = simplePath[2];
                            if (parseQueryString) {
                                this.query = querystring.parse(this.search.substr(1));
                            } else {
                                this.query = this.search.substr(1);
                            }
                        } else if (parseQueryString) {
                            this.search = '';
                            this.query = {};
                        }
                        return this;
                    }
                }
                var proto = protocolPattern.exec(rest);
                if (proto) {
                    proto = proto[0];
                    var lowerProto = proto.toLowerCase();
                    this.protocol = lowerProto;
                    rest = rest.substr(proto.length);
                }
                if (slashesDenoteHost || proto || rest.match(/^\/\/[^@\/]+@[^@\/]+/)) {
                    var slashes = rest.substr(0, 2) === '//';
                    if (slashes && !(proto && hostlessProtocol[proto])) {
                        rest = rest.substr(2);
                        this.slashes = true;
                    }
                }
                if (!hostlessProtocol[proto] && (slashes || (proto && !slashedProtocol[proto]))) {
                    var hostEnd = -1;
                    for (var i = 0; i < hostEndingChars.length; i++) {
                        var hec = rest.indexOf(hostEndingChars[i]);
                        if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
                            hostEnd = hec;
                    }
                    var auth, atSign;
                    if (hostEnd === -1) {
                        atSign = rest.lastIndexOf('@');
                    } else {
                        atSign = rest.lastIndexOf('@', hostEnd);
                    }
                    if (atSign !== -1) {
                        auth = rest.slice(0, atSign);
                        rest = rest.slice(atSign + 1);
                        this.auth = decodeURIComponent(auth);
                    }
                    hostEnd = -1;
                    for (var i = 0; i < nonHostChars.length; i++) {
                        var hec = rest.indexOf(nonHostChars[i]);
                        if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
                            hostEnd = hec;
                    }
                    if (hostEnd === -1)
                        hostEnd = rest.length;
                    this.host = rest.slice(0, hostEnd);
                    rest = rest.slice(hostEnd);
                    this.parseHost();
                    this.hostname = this.hostname || '';
                    var ipv6Hostname = this.hostname[0] === '[' && this.hostname[this.hostname.length - 1] === ']';
                    if (!ipv6Hostname) {
                        var hostparts = this.hostname.split(/\./);
                        for (var i = 0, l = hostparts.length; i < l; i++) {
                            var part = hostparts[i];
                            if (!part) continue;
                            if (!part.match(hostnamePartPattern)) {
                                var newpart = '';
                                for (var j = 0, k = part.length; j < k; j++) {
                                    if (part.charCodeAt(j) > 127) {
                                        newpart += 'x';
                                    } else {
                                        newpart += part[j];
                                    }
                                }
                                if (!newpart.match(hostnamePartPattern)) {
                                    var validParts = hostparts.slice(0, i);
                                    var notHost = hostparts.slice(i + 1);
                                    var bit = part.match(hostnamePartStart);
                                    if (bit) {
                                        validParts.push(bit[1]);
                                        notHost.unshift(bit[2]);
                                    }
                                    if (notHost.length) {
                                        rest = '/' + notHost.join('.') + rest;
                                    }
                                    this.hostname = validParts.join('.');
                                    break;
                                }
                            }
                        }
                    }
                    if (this.hostname.length > hostnameMaxLen) {
                        this.hostname = '';
                    } else {
                        this.hostname = this.hostname.toLowerCase();
                    }
                    if (!ipv6Hostname) {
                        this.hostname = punycode.toASCII(this.hostname);
                    }
                    var p = this.port ? ':' + this.port : '';
                    var h = this.hostname || '';
                    this.host = h + p;
                    this.href += this.host;
                    if (ipv6Hostname) {
                        this.hostname = this.hostname.substr(1, this.hostname.length - 2);
                        if (rest[0] !== '/') {
                            rest = '/' + rest;
                        }
                    }
                }
                if (!unsafeProtocol[lowerProto]) {
                    for (var i = 0, l = autoEscape.length; i < l; i++) {
                        var ae = autoEscape[i];
                        if (rest.indexOf(ae) === -1)
                            continue;
                        var esc = encodeURIComponent(ae);
                        if (esc === ae) {
                            esc = escape(ae);
                        }
                        rest = rest.split(ae).join(esc);
                    }
                }
                var hash = rest.indexOf('#');
                if (hash !== -1) {
                    this.hash = rest.substr(hash);
                    rest = rest.slice(0, hash);
                }
                var qm = rest.indexOf('?');
                if (qm !== -1) {
                    this.search = rest.substr(qm);
                    this.query = rest.substr(qm + 1);
                    if (parseQueryString) {
                        this.query = querystring.parse(this.query);
                    }
                    rest = rest.slice(0, qm);
                } else if (parseQueryString) {
                    this.search = '';
                    this.query = {};
                }
                if (rest) this.pathname = rest;
                if (slashedProtocol[lowerProto] && this.hostname && !this.pathname) {
                    this.pathname = '/';
                }
                if (this.pathname || this.search) {
                    var p = this.pathname || '';
                    var s = this.search || '';
                    this.path = p + s;
                }
                this.href = this.format();
                return this;
            };

            function urlFormat(obj) {
                if (util.isString(obj)) obj = urlParse(obj);
                if (!(obj instanceof Url)) return Url.prototype.format.call(obj);
                return obj.format();
            }
            Url.prototype.format = function () {
                var auth = this.auth || '';
                if (auth) {
                    auth = encodeURIComponent(auth);
                    auth = auth.replace(/%3A/i, ':');
                    auth += '@';
                }
                var protocol = this.protocol || '',
                    pathname = this.pathname || '',
                    hash = this.hash || '',
                    host = false,
                    query = '';
                if (this.host) {
                    host = auth + this.host;
                } else if (this.hostname) {
                    host = auth + (this.hostname.indexOf(':') === -1 ? this.hostname : '[' + this.hostname + ']');
                    if (this.port) {
                        host += ':' + this.port;
                    }
                }
                if (this.query && util.isObject(this.query) && Object.keys(this.query).length) {
                    query = querystring.stringify(this.query);
                }
                var search = this.search || (query && ('?' + query)) || '';
                if (protocol && protocol.substr(-1) !== ':') protocol += ':';
                if (this.slashes || (!protocol || slashedProtocol[protocol]) && host !== false) {
                    host = '//' + (host || '');
                    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;
                } else if (!host) {
                    host = '';
                }
                if (hash && hash.charAt(0) !== '#') hash = '#' + hash;
                if (search && search.charAt(0) !== '?') search = '?' + search;
                pathname = pathname.replace(/[?#]/g, function (match) {
                    return encodeURIComponent(match);
                });
                search = search.replace('#', '%23');
                return protocol + host + pathname + search + hash;
            };

            function urlResolve(source, relative) {
                return urlParse(source, false, true).resolve(relative);
            }
            Url.prototype.resolve = function (relative) {
                return this.resolveObject(urlParse(relative, false, true)).format();
            };

            function urlResolveObject(source, relative) {
                if (!source) return relative;
                return urlParse(source, false, true).resolveObject(relative);
            }
            Url.prototype.resolveObject = function (relative) {
                if (util.isString(relative)) {
                    var rel = new Url();
                    rel.parse(relative, false, true);
                    relative = rel;
                }
                var result = new Url();
                var tkeys = Object.keys(this);
                for (var tk = 0; tk < tkeys.length; tk++) {
                    var tkey = tkeys[tk];
                    result[tkey] = this[tkey];
                }
                result.hash = relative.hash;
                if (relative.href === '') {
                    result.href = result.format();
                    return result;
                }
                if (relative.slashes && !relative.protocol) {
                    var rkeys = Object.keys(relative);
                    for (var rk = 0; rk < rkeys.length; rk++) {
                        var rkey = rkeys[rk];
                        if (rkey !== 'protocol')
                            result[rkey] = relative[rkey];
                    }
                    if (slashedProtocol[result.protocol] && result.hostname && !result.pathname) {
                        result.path = result.pathname = '/';
                    }
                    result.href = result.format();
                    return result;
                }
                if (relative.protocol && relative.protocol !== result.protocol) {
                    if (!slashedProtocol[relative.protocol]) {
                        var keys = Object.keys(relative);
                        for (var v = 0; v < keys.length; v++) {
                            var k = keys[v];
                            result[k] = relative[k];
                        }
                        result.href = result.format();
                        return result;
                    }
                    result.protocol = relative.protocol;
                    if (!relative.host && !hostlessProtocol[relative.protocol]) {
                        var relPath = (relative.pathname || '').split('/');
                        while (relPath.length && !(relative.host = relPath.shift()));
                        if (!relative.host) relative.host = '';
                        if (!relative.hostname) relative.hostname = '';
                        if (relPath[0] !== '') relPath.unshift('');
                        if (relPath.length < 2) relPath.unshift('');
                        result.pathname = relPath.join('/');
                    } else {
                        result.pathname = relative.pathname;
                    }
                    result.search = relative.search;
                    result.query = relative.query;
                    result.host = relative.host || '';
                    result.auth = relative.auth;
                    result.hostname = relative.hostname || relative.host;
                    result.port = relative.port;
                    if (result.pathname || result.search) {
                        var p = result.pathname || '';
                        var s = result.search || '';
                        result.path = p + s;
                    }
                    result.slashes = result.slashes || relative.slashes;
                    result.href = result.format();
                    return result;
                }
                var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),
                    isRelAbs = (relative.host || relative.pathname && relative.pathname.charAt(0) === '/'),
                    mustEndAbs = (isRelAbs || isSourceAbs || (result.host && relative.pathname)),
                    removeAllDots = mustEndAbs,
                    srcPath = result.pathname && result.pathname.split('/') || [],
                    relPath = relative.pathname && relative.pathname.split('/') || [],
                    psychotic = result.protocol && !slashedProtocol[result.protocol];
                if (psychotic) {
                    result.hostname = '';
                    result.port = null;
                    if (result.host) {
                        if (srcPath[0] === '') srcPath[0] = result.host;
                        else srcPath.unshift(result.host);
                    }
                    result.host = '';
                    if (relative.protocol) {
                        relative.hostname = null;
                        relative.port = null;
                        if (relative.host) {
                            if (relPath[0] === '') relPath[0] = relative.host;
                            else relPath.unshift(relative.host);
                        }
                        relative.host = null;
                    }
                    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');
                }
                if (isRelAbs) {
                    result.host = (relative.host || relative.host === '') ? relative.host : result.host;
                    result.hostname = (relative.hostname || relative.hostname === '') ? relative.hostname : result.hostname;
                    result.search = relative.search;
                    result.query = relative.query;
                    srcPath = relPath;
                } else if (relPath.length) {
                    if (!srcPath) srcPath = [];
                    srcPath.pop();
                    srcPath = srcPath.concat(relPath);
                    result.search = relative.search;
                    result.query = relative.query;
                } else if (!util.isNullOrUndefined(relative.search)) {
                    if (psychotic) {
                        result.hostname = result.host = srcPath.shift();
                        var authInHost = result.host && result.host.indexOf('@') > 0 ? result.host.split('@') : false;
                        if (authInHost) {
                            result.auth = authInHost.shift();
                            result.host = result.hostname = authInHost.shift();
                        }
                    }
                    result.search = relative.search;
                    result.query = relative.query;
                    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
                        result.path = (result.pathname ? result.pathname : '')
                            + (result.search ? result.search : '');
                    }
                    result.href = result.format();
                    return result;
                }
                if (!srcPath.length) {
                    result.pathname = null;
                    if (result.search) {
                        result.path = '/' + result.search;
                    } else {
                        result.path = null;
                    }
                    result.href = result.format();
                    return result;
                }
                var last = srcPath.slice(-1)[0];
                var hasTrailingSlash = ((result.host || relative.host || srcPath.length > 1) && (last === '.' || last === '..') || last === '');
                var up = 0;
                for (var i = srcPath.length; i >= 0; i--) {
                    last = srcPath[i];
                    if (last === '.') {
                        srcPath.splice(i, 1);
                    } else if (last === '..') {
                        srcPath.splice(i, 1);
                        up++;
                    } else if (up) {
                        srcPath.splice(i, 1);
                        up--;
                    }
                }
                if (!mustEndAbs && !removeAllDots) {
                    for (; up--; up) {
                        srcPath.unshift('..');
                    }
                }
                if (mustEndAbs && srcPath[0] !== '' && (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {
                    srcPath.unshift('');
                }
                if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {
                    srcPath.push('');
                }
                var isAbsolute = srcPath[0] === '' || (srcPath[0] && srcPath[0].charAt(0) === '/');
                if (psychotic) {
                    result.hostname = result.host = isAbsolute ? '' : srcPath.length ? srcPath.shift() : '';
                    var authInHost = result.host && result.host.indexOf('@') > 0 ? result.host.split('@') : false;
                    if (authInHost) {
                        result.auth = authInHost.shift();
                        result.host = result.hostname = authInHost.shift();
                    }
                }
                mustEndAbs = mustEndAbs || (result.host && srcPath.length);
                if (mustEndAbs && !isAbsolute) {
                    srcPath.unshift('');
                }
                if (!srcPath.length) {
                    result.pathname = null;
                    result.path = null;
                } else {
                    result.pathname = srcPath.join('/');
                }
                if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
                    result.path = (result.pathname ? result.pathname : '')
                        + (result.search ? result.search : '');
                }
                result.auth = relative.auth || result.auth;
                result.slashes = result.slashes || relative.slashes;
                result.href = result.format();
                return result;
            };
            Url.prototype.parseHost = function () {
                var host = this.host;
                var port = portPattern.exec(host);
                if (port) {
                    port = port[0];
                    if (port !== ':') {
                        this.port = port.substr(1);
                    }
                    host = host.substr(0, host.length - port.length);
                }
                if (host) this.hostname = host;
            };
        }, {
            "./util": 39,
            "punycode": 27,
            "querystring": 30
        }],
        39: [function (require, module, exports) {
            'use strict';
            module.exports = {
                isString: function (arg) {
                    return typeof (arg) === 'string';
                },
                isObject: function (arg) {
                    return typeof (arg) === 'object' && arg !== null;
                },
                isNull: function (arg) {
                    return arg === null;
                },
                isNullOrUndefined: function (arg) {
                    return arg == null;
                }
            };
        }, {}],
        40: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _core = require('../core');
            var core = _interopRequireWildcard(_core);
            var _ismobilejs = require('ismobilejs');
            var _ismobilejs2 = _interopRequireDefault(_ismobilejs);
            var _accessibleTarget = require('./accessibleTarget');
            var _accessibleTarget2 = _interopRequireDefault(_accessibleTarget);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            core.utils.mixins.delayMixin(core.DisplayObject.prototype, _accessibleTarget2.default);
            var KEY_CODE_TAB = 9;
            var DIV_TOUCH_SIZE = 100;
            var DIV_TOUCH_POS_X = 0;
            var DIV_TOUCH_POS_Y = 0;
            var DIV_TOUCH_ZINDEX = 2;
            var DIV_HOOK_SIZE = 1;
            var DIV_HOOK_POS_X = -1000;
            var DIV_HOOK_POS_Y = -1000;
            var DIV_HOOK_ZINDEX = 2;
            var AccessibilityManager = function () {
                function AccessibilityManager(renderer) {
                    _classCallCheck(this, AccessibilityManager);
                    if ((_ismobilejs2.default.tablet || _ismobilejs2.default.phone) && !navigator.isCocoonJS) {
                        this.createTouchHook();
                    }
                    var div = document.createElement('div');
                    div.style.width = DIV_TOUCH_SIZE + 'px';
                    div.style.height = DIV_TOUCH_SIZE + 'px';
                    div.style.position = 'absolute';
                    div.style.top = DIV_TOUCH_POS_X + 'px';
                    div.style.left = DIV_TOUCH_POS_Y + 'px';
                    div.style.zIndex = DIV_TOUCH_ZINDEX;
                    this.div = div;
                    this.pool = [];
                    this.renderId = 0;
                    this.debug = false;
                    this.renderer = renderer;
                    this.children = [];
                    this._onKeyDown = this._onKeyDown.bind(this);
                    this._onMouseMove = this._onMouseMove.bind(this);
                    this.isActive = false;
                    this.isMobileAccessabillity = false;
                    window.addEventListener('keydown', this._onKeyDown, false);
                }
                AccessibilityManager.prototype.createTouchHook = function createTouchHook() {
                    var _this = this;
                    var hookDiv = document.createElement('button');
                    hookDiv.style.width = DIV_HOOK_SIZE + 'px';
                    hookDiv.style.height = DIV_HOOK_SIZE + 'px';
                    hookDiv.style.position = 'absolute';
                    hookDiv.style.top = DIV_HOOK_POS_X + 'px';
                    hookDiv.style.left = DIV_HOOK_POS_Y + 'px';
                    hookDiv.style.zIndex = DIV_HOOK_ZINDEX;
                    hookDiv.style.backgroundColor = '#FF0000';
                    hookDiv.title = 'HOOK DIV';
                    hookDiv.addEventListener('focus', function () {
                        _this.isMobileAccessabillity = true;
                        _this.activate();
                        document.body.removeChild(hookDiv);
                    });
                    document.body.appendChild(hookDiv);
                };
                AccessibilityManager.prototype.activate = function activate() {
                    if (this.isActive) {
                        return;
                    }
                    this.isActive = true;
                    window.document.addEventListener('mousemove', this._onMouseMove, true);
                    window.removeEventListener('keydown', this._onKeyDown, false);
                    this.renderer.on('postrender', this.update, this);
                    if (this.renderer.view.parentNode) {
                        this.renderer.view.parentNode.appendChild(this.div);
                    }
                };
                AccessibilityManager.prototype.deactivate = function deactivate() {
                    if (!this.isActive || this.isMobileAccessabillity) {
                        return;
                    }
                    this.isActive = false;
                    window.document.removeEventListener('mousemove', this._onMouseMove);
                    window.addEventListener('keydown', this._onKeyDown, false);
                    this.renderer.off('postrender', this.update);
                    if (this.div.parentNode) {
                        this.div.parentNode.removeChild(this.div);
                    }
                };
                AccessibilityManager.prototype.updateAccessibleObjects = function updateAccessibleObjects(displayObject) {
                    if (!displayObject.visible) {
                        return;
                    }
                    if (displayObject.accessible && displayObject.interactive) {
                        if (!displayObject._accessibleActive) {
                            this.addChild(displayObject);
                        }
                        displayObject.renderId = this.renderId;
                    }
                    var children = displayObject.children;
                    for (var i = children.length - 1; i >= 0; i--) {
                        this.updateAccessibleObjects(children[i]);
                    }
                };
                AccessibilityManager.prototype.update = function update() {
                    if (!this.renderer.renderingToScreen) {
                        return;
                    }
                    this.updateAccessibleObjects(this.renderer._lastObjectRendered);
                    var rect = this.renderer.view.getBoundingClientRect();
                    var sx = rect.width / this.renderer.width;
                    var sy = rect.height / this.renderer.height;
                    var div = this.div;
                    div.style.left = rect.left + 'px';
                    div.style.top = rect.top + 'px';
                    div.style.width = this.renderer.width + 'px';
                    div.style.height = this.renderer.height + 'px';
                    for (var i = 0; i < this.children.length; i++) {
                        var child = this.children[i];
                        if (child.renderId !== this.renderId) {
                            child._accessibleActive = false;
                            core.utils.removeItems(this.children, i, 1);
                            this.div.removeChild(child._accessibleDiv);
                            this.pool.push(child._accessibleDiv);
                            child._accessibleDiv = null;
                            i--;
                            if (this.children.length === 0) {
                                this.deactivate();
                            }
                        } else {
                            div = child._accessibleDiv;
                            var hitArea = child.hitArea;
                            var wt = child.worldTransform;
                            if (child.hitArea) {
                                div.style.left = (wt.tx + hitArea.x * wt.a) * sx + 'px';
                                div.style.top = (wt.ty + hitArea.y * wt.d) * sy + 'px';
                                div.style.width = hitArea.width * wt.a * sx + 'px';
                                div.style.height = hitArea.height * wt.d * sy + 'px';
                            } else {
                                hitArea = child.getBounds();
                                this.capHitArea(hitArea);
                                div.style.left = hitArea.x * sx + 'px';
                                div.style.top = hitArea.y * sy + 'px';
                                div.style.width = hitArea.width * sx + 'px';
                                div.style.height = hitArea.height * sy + 'px';
                            }
                        }
                    }
                    this.renderId++;
                };
                AccessibilityManager.prototype.capHitArea = function capHitArea(hitArea) {
                    if (hitArea.x < 0) {
                        hitArea.width += hitArea.x;
                        hitArea.x = 0;
                    }
                    if (hitArea.y < 0) {
                        hitArea.height += hitArea.y;
                        hitArea.y = 0;
                    }
                    if (hitArea.x + hitArea.width > this.renderer.width) {
                        hitArea.width = this.renderer.width - hitArea.x;
                    }
                    if (hitArea.y + hitArea.height > this.renderer.height) {
                        hitArea.height = this.renderer.height - hitArea.y;
                    }
                };
                AccessibilityManager.prototype.addChild = function addChild(displayObject) {
                    var div = this.pool.pop();
                    if (!div) {
                        div = document.createElement('button');
                        div.style.width = DIV_TOUCH_SIZE + 'px';
                        div.style.height = DIV_TOUCH_SIZE + 'px';
                        div.style.backgroundColor = this.debug ? 'rgba(255,0,0,0.5)' : 'transparent';
                        div.style.position = 'absolute';
                        div.style.zIndex = DIV_TOUCH_ZINDEX;
                        div.style.borderStyle = 'none';
                        div.addEventListener('click', this._onClick.bind(this));
                        div.addEventListener('focus', this._onFocus.bind(this));
                        div.addEventListener('focusout', this._onFocusOut.bind(this));
                    }
                    if (displayObject.accessibleTitle) {
                        div.title = displayObject.accessibleTitle;
                    } else if (!displayObject.accessibleTitle && !displayObject.accessibleHint) {
                        div.title = 'displayObject ' + this.tabIndex;
                    }
                    if (displayObject.accessibleHint) {
                        div.setAttribute('aria-label', displayObject.accessibleHint);
                    }
                    displayObject._accessibleActive = true;
                    displayObject._accessibleDiv = div;
                    div.displayObject = displayObject;
                    this.children.push(displayObject);
                    this.div.appendChild(displayObject._accessibleDiv);
                    displayObject._accessibleDiv.tabIndex = displayObject.tabIndex;
                };
                AccessibilityManager.prototype._onClick = function _onClick(e) {
                    var interactionManager = this.renderer.plugins.interaction;
                    interactionManager.dispatchEvent(e.target.displayObject, 'click', interactionManager.eventData);
                };
                AccessibilityManager.prototype._onFocus = function _onFocus(e) {
                    var interactionManager = this.renderer.plugins.interaction;
                    interactionManager.dispatchEvent(e.target.displayObject, 'mouseover', interactionManager.eventData);
                };
                AccessibilityManager.prototype._onFocusOut = function _onFocusOut(e) {
                    var interactionManager = this.renderer.plugins.interaction;
                    interactionManager.dispatchEvent(e.target.displayObject, 'mouseout', interactionManager.eventData);
                };
                AccessibilityManager.prototype._onKeyDown = function _onKeyDown(e) {
                    if (e.keyCode !== KEY_CODE_TAB) {
                        return;
                    }
                    this.activate();
                };
                AccessibilityManager.prototype._onMouseMove = function _onMouseMove() {
                    this.deactivate();
                };
                AccessibilityManager.prototype.destroy = function destroy() {
                    this.div = null;
                    for (var i = 0; i < this.children.length; i++) {
                        this.children[i].div = null;
                    }
                    window.document.removeEventListener('mousemove', this._onMouseMove);
                    window.removeEventListener('keydown', this._onKeyDown);
                    this.pool = null;
                    this.children = null;
                    this.renderer = null;
                };
                return AccessibilityManager;
            }();
            exports.default = AccessibilityManager;
            core.WebGLRenderer.registerPlugin('accessibility', AccessibilityManager);
            core.CanvasRenderer.registerPlugin('accessibility', AccessibilityManager);
        }, {
            "../core": 65,
            "./accessibleTarget": 41,
            "ismobilejs": 4
        }],
        41: [function (require, module, exports) {
            "use strict";
            exports.__esModule = true;
            exports.default = {
                accessible: false,
                accessibleTitle: null,
                accessibleHint: null,
                tabIndex: 0,
                _accessibleActive: false,
                _accessibleDiv: false
            };
        }, {}],
        42: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _accessibleTarget = require('./accessibleTarget');
            Object.defineProperty(exports, 'accessibleTarget', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_accessibleTarget).default;
                }
            });
            var _AccessibilityManager = require('./AccessibilityManager');
            Object.defineProperty(exports, 'AccessibilityManager', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_AccessibilityManager).default;
                }
            });

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
        }, {
            "./AccessibilityManager": 40,
            "./accessibleTarget": 41
        }],
        43: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _autoDetectRenderer = require('./autoDetectRenderer');
            var _Container = require('./display/Container');
            var _Container2 = _interopRequireDefault(_Container);
            var _ticker = require('./ticker');
            var _settings = require('./settings');
            var _settings2 = _interopRequireDefault(_settings);
            var _const = require('./const');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var Application = function () {
                function Application(options, arg2, arg3, arg4, arg5) {
                    _classCallCheck(this, Application);
                    if (typeof options === 'number') {
                        options = Object.assign({
                            width: options,
                            height: arg2 || _settings2.default.RENDER_OPTIONS.height,
                            forceCanvas: !!arg4,
                            sharedTicker: !!arg5
                        }, arg3);
                    }
                    this._options = options = Object.assign({
                        autoStart: true,
                        sharedTicker: false,
                        forceCanvas: false,
                        sharedLoader: false
                    }, options);
                    this.renderer = (0, _autoDetectRenderer.autoDetectRenderer)(options);
                    this.stage = new _Container2.default();
                    this._ticker = null;
                    this.ticker = options.sharedTicker ? _ticker.shared : new _ticker.Ticker();
                    if (options.autoStart) {
                        this.start();
                    }
                }
                Application.prototype.render = function render() {
                    this.renderer.render(this.stage);
                };
                Application.prototype.stop = function stop() {
                    this._ticker.stop();
                };
                Application.prototype.start = function start() {
                    this._ticker.start();
                };
                Application.prototype.destroy = function destroy(removeView) {
                    var oldTicker = this._ticker;
                    this.ticker = null;
                    oldTicker.destroy();
                    this.stage.destroy();
                    this.stage = null;
                    this.renderer.destroy(removeView);
                    this.renderer = null;
                    this._options = null;
                };
                _createClass(Application, [{
                    key: 'ticker',
                    set: function set(ticker) {
                        if (this._ticker) {
                            this._ticker.remove(this.render, this);
                        }
                        this._ticker = ticker;
                        if (ticker) {
                            ticker.add(this.render, this, _const.UPDATE_PRIORITY.LOW);
                        }
                    },
                    get: function get() {
                        return this._ticker;
                    }
                }, {
                    key: 'view',
                    get: function get() {
                        return this.renderer.view;
                    }
                }, {
                    key: 'screen',
                    get: function get() {
                        return this.renderer.screen;
                    }
                }]);
                return Application;
            }();
            exports.default = Application;
        }, {
            "./autoDetectRenderer": 45,
            "./const": 46,
            "./display/Container": 48,
            "./settings": 101,
            "./ticker": 121
        }],
        44: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _pixiGlCore = require('pixi-gl-core');
            var _settings = require('./settings');
            var _settings2 = _interopRequireDefault(_settings);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }

            function checkPrecision(src, def) {
                if (src instanceof Array) {
                    if (src[0].substring(0, 9) !== 'precision') {
                        var copy = src.slice(0);
                        copy.unshift('precision ' + def + ' float;');
                        return copy;
                    }
                } else if (src.trim().substring(0, 9) !== 'precision') {
                    return 'precision ' + def + ' float;\n' + src;
                }
                return src;
            }
            var Shader = function (_GLShader) {
                _inherits(Shader, _GLShader);

                function Shader(gl, vertexSrc, fragmentSrc, attributeLocations, precision) {
                    _classCallCheck(this, Shader);
                    return _possibleConstructorReturn(this, _GLShader.call(this, gl, checkPrecision(vertexSrc, precision || _settings2.default.PRECISION_VERTEX), checkPrecision(fragmentSrc, precision || _settings2.default.PRECISION_FRAGMENT), undefined, attributeLocations));
                }
                return Shader;
            }(_pixiGlCore.GLShader);
            exports.default = Shader;
        }, {
            "./settings": 101,
            "pixi-gl-core": 15
        }],
        45: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.autoDetectRenderer = autoDetectRenderer;
            var _utils = require('./utils');
            var utils = _interopRequireWildcard(_utils);
            var _CanvasRenderer = require('./renderers/canvas/CanvasRenderer');
            var _CanvasRenderer2 = _interopRequireDefault(_CanvasRenderer);
            var _WebGLRenderer = require('./renderers/webgl/WebGLRenderer');
            var _WebGLRenderer2 = _interopRequireDefault(_WebGLRenderer);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function autoDetectRenderer(options, arg1, arg2, arg3) {
                var forceCanvas = options && options.forceCanvas;
                if (arg3 !== undefined) {
                    forceCanvas = arg3;
                }
                if (!forceCanvas && utils.isWebGLSupported()) {
                    return new _WebGLRenderer2.default(options, arg1, arg2);
                }
                return new _CanvasRenderer2.default(options, arg1, arg2);
            }
        }, {
            "./renderers/canvas/CanvasRenderer": 77,
            "./renderers/webgl/WebGLRenderer": 84,
            "./utils": 125
        }],
        46: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var VERSION = exports.VERSION = '4.7.0';
            var PI_2 = exports.PI_2 = Math.PI * 2;
            var RAD_TO_DEG = exports.RAD_TO_DEG = 180 / Math.PI;
            var DEG_TO_RAD = exports.DEG_TO_RAD = Math.PI / 180;
            var RENDERER_TYPE = exports.RENDERER_TYPE = {
                UNKNOWN: 0,
                WEBGL: 1,
                CANVAS: 2
            };
            var BLEND_MODES = exports.BLEND_MODES = {
                NORMAL: 0,
                ADD: 1,
                MULTIPLY: 2,
                SCREEN: 3,
                OVERLAY: 4,
                DARKEN: 5,
                LIGHTEN: 6,
                COLOR_DODGE: 7,
                COLOR_BURN: 8,
                HARD_LIGHT: 9,
                SOFT_LIGHT: 10,
                DIFFERENCE: 11,
                EXCLUSION: 12,
                HUE: 13,
                SATURATION: 14,
                COLOR: 15,
                LUMINOSITY: 16,
                NORMAL_NPM: 17,
                ADD_NPM: 18,
                SCREEN_NPM: 19
            };
            var DRAW_MODES = exports.DRAW_MODES = {
                POINTS: 0,
                LINES: 1,
                LINE_LOOP: 2,
                LINE_STRIP: 3,
                TRIANGLES: 4,
                TRIANGLE_STRIP: 5,
                TRIANGLE_FAN: 6
            };
            var SCALE_MODES = exports.SCALE_MODES = {
                LINEAR: 0,
                NEAREST: 1
            };
            var WRAP_MODES = exports.WRAP_MODES = {
                CLAMP: 0,
                REPEAT: 1,
                MIRRORED_REPEAT: 2
            };
            var GC_MODES = exports.GC_MODES = {
                AUTO: 0,
                MANUAL: 1
            };
            var URL_FILE_EXTENSION = exports.URL_FILE_EXTENSION = /\.(\w{3,4})(?:$|\?|#)/i;
            var DATA_URI = exports.DATA_URI = /^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i;
            var SVG_SIZE = exports.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;
            var SHAPES = exports.SHAPES = {
                POLY: 0,
                RECT: 1,
                CIRC: 2,
                ELIP: 3,
                RREC: 4
            };
            var PRECISION = exports.PRECISION = {
                LOW: 'lowp',
                MEDIUM: 'mediump',
                HIGH: 'highp'
            };
            var TRANSFORM_MODE = exports.TRANSFORM_MODE = {
                STATIC: 0,
                DYNAMIC: 1
            };
            var TEXT_GRADIENT = exports.TEXT_GRADIENT = {
                LINEAR_VERTICAL: 0,
                LINEAR_HORIZONTAL: 1
            };
            var UPDATE_PRIORITY = exports.UPDATE_PRIORITY = {
                INTERACTION: 50,
                HIGH: 25,
                NORMAL: 0,
                LOW: -25,
                UTILITY: -50
            };
        }, {}],
        47: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _math = require('../math');

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var Bounds = function () {
                function Bounds() {
                    _classCallCheck(this, Bounds);
                    this.minX = Infinity;
                    this.minY = Infinity;
                    this.maxX = -Infinity;
                    this.maxY = -Infinity;
                    this.rect = null;
                }
                Bounds.prototype.isEmpty = function isEmpty() {
                    return this.minX > this.maxX || this.minY > this.maxY;
                };
                Bounds.prototype.clear = function clear() {
                    this.updateID++;
                    this.minX = Infinity;
                    this.minY = Infinity;
                    this.maxX = -Infinity;
                    this.maxY = -Infinity;
                };
                Bounds.prototype.getRectangle = function getRectangle(rect) {
                    if (this.minX > this.maxX || this.minY > this.maxY) {
                        return _math.Rectangle.EMPTY;
                    }
                    rect = rect || new _math.Rectangle(0, 0, 1, 1);
                    rect.x = this.minX;
                    rect.y = this.minY;
                    rect.width = this.maxX - this.minX;
                    rect.height = this.maxY - this.minY;
                    return rect;
                };
                Bounds.prototype.addPoint = function addPoint(point) {
                    this.minX = Math.min(this.minX, point.x);
                    this.maxX = Math.max(this.maxX, point.x);
                    this.minY = Math.min(this.minY, point.y);
                    this.maxY = Math.max(this.maxY, point.y);
                };
                Bounds.prototype.addQuad = function addQuad(vertices) {
                    var minX = this.minX;
                    var minY = this.minY;
                    var maxX = this.maxX;
                    var maxY = this.maxY;
                    var x = vertices[0];
                    var y = vertices[1];
                    minX = x < minX ? x : minX;
                    minY = y < minY ? y : minY;
                    maxX = x > maxX ? x : maxX;
                    maxY = y > maxY ? y : maxY;
                    x = vertices[2];
                    y = vertices[3];
                    minX = x < minX ? x : minX;
                    minY = y < minY ? y : minY;
                    maxX = x > maxX ? x : maxX;
                    maxY = y > maxY ? y : maxY;
                    x = vertices[4];
                    y = vertices[5];
                    minX = x < minX ? x : minX;
                    minY = y < minY ? y : minY;
                    maxX = x > maxX ? x : maxX;
                    maxY = y > maxY ? y : maxY;
                    x = vertices[6];
                    y = vertices[7];
                    minX = x < minX ? x : minX;
                    minY = y < minY ? y : minY;
                    maxX = x > maxX ? x : maxX;
                    maxY = y > maxY ? y : maxY;
                    this.minX = minX;
                    this.minY = minY;
                    this.maxX = maxX;
                    this.maxY = maxY;
                };
                Bounds.prototype.addFrame = function addFrame(transform, x0, y0, x1, y1) {
                    var matrix = transform.worldTransform;
                    var a = matrix.a;
                    var b = matrix.b;
                    var c = matrix.c;
                    var d = matrix.d;
                    var tx = matrix.tx;
                    var ty = matrix.ty;
                    var minX = this.minX;
                    var minY = this.minY;
                    var maxX = this.maxX;
                    var maxY = this.maxY;
                    var x = a * x0 + c * y0 + tx;
                    var y = b * x0 + d * y0 + ty;
                    minX = x < minX ? x : minX;
                    minY = y < minY ? y : minY;
                    maxX = x > maxX ? x : maxX;
                    maxY = y > maxY ? y : maxY;
                    x = a * x1 + c * y0 + tx;
                    y = b * x1 + d * y0 + ty;
                    minX = x < minX ? x : minX;
                    minY = y < minY ? y : minY;
                    maxX = x > maxX ? x : maxX;
                    maxY = y > maxY ? y : maxY;
                    x = a * x0 + c * y1 + tx;
                    y = b * x0 + d * y1 + ty;
                    minX = x < minX ? x : minX;
                    minY = y < minY ? y : minY;
                    maxX = x > maxX ? x : maxX;
                    maxY = y > maxY ? y : maxY;
                    x = a * x1 + c * y1 + tx;
                    y = b * x1 + d * y1 + ty;
                    minX = x < minX ? x : minX;
                    minY = y < minY ? y : minY;
                    maxX = x > maxX ? x : maxX;
                    maxY = y > maxY ? y : maxY;
                    this.minX = minX;
                    this.minY = minY;
                    this.maxX = maxX;
                    this.maxY = maxY;
                };
                Bounds.prototype.addVertices = function addVertices(transform, vertices, beginOffset, endOffset) {
                    var matrix = transform.worldTransform;
                    var a = matrix.a;
                    var b = matrix.b;
                    var c = matrix.c;
                    var d = matrix.d;
                    var tx = matrix.tx;
                    var ty = matrix.ty;
                    var minX = this.minX;
                    var minY = this.minY;
                    var maxX = this.maxX;
                    var maxY = this.maxY;
                    for (var i = beginOffset; i < endOffset; i += 2) {
                        var rawX = vertices[i];
                        var rawY = vertices[i + 1];
                        var x = a * rawX + c * rawY + tx;
                        var y = d * rawY + b * rawX + ty;
                        minX = x < minX ? x : minX;
                        minY = y < minY ? y : minY;
                        maxX = x > maxX ? x : maxX;
                        maxY = y > maxY ? y : maxY;
                    }
                    this.minX = minX;
                    this.minY = minY;
                    this.maxX = maxX;
                    this.maxY = maxY;
                };
                Bounds.prototype.addBounds = function addBounds(bounds) {
                    var minX = this.minX;
                    var minY = this.minY;
                    var maxX = this.maxX;
                    var maxY = this.maxY;
                    this.minX = bounds.minX < minX ? bounds.minX : minX;
                    this.minY = bounds.minY < minY ? bounds.minY : minY;
                    this.maxX = bounds.maxX > maxX ? bounds.maxX : maxX;
                    this.maxY = bounds.maxY > maxY ? bounds.maxY : maxY;
                };
                Bounds.prototype.addBoundsMask = function addBoundsMask(bounds, mask) {
                    var _minX = bounds.minX > mask.minX ? bounds.minX : mask.minX;
                    var _minY = bounds.minY > mask.minY ? bounds.minY : mask.minY;
                    var _maxX = bounds.maxX < mask.maxX ? bounds.maxX : mask.maxX;
                    var _maxY = bounds.maxY < mask.maxY ? bounds.maxY : mask.maxY;
                    if (_minX <= _maxX && _minY <= _maxY) {
                        var minX = this.minX;
                        var minY = this.minY;
                        var maxX = this.maxX;
                        var maxY = this.maxY;
                        this.minX = _minX < minX ? _minX : minX;
                        this.minY = _minY < minY ? _minY : minY;
                        this.maxX = _maxX > maxX ? _maxX : maxX;
                        this.maxY = _maxY > maxY ? _maxY : maxY;
                    }
                };
                Bounds.prototype.addBoundsArea = function addBoundsArea(bounds, area) {
                    var _minX = bounds.minX > area.x ? bounds.minX : area.x;
                    var _minY = bounds.minY > area.y ? bounds.minY : area.y;
                    var _maxX = bounds.maxX < area.x + area.width ? bounds.maxX : area.x + area.width;
                    var _maxY = bounds.maxY < area.y + area.height ? bounds.maxY : area.y + area.height;
                    if (_minX <= _maxX && _minY <= _maxY) {
                        var minX = this.minX;
                        var minY = this.minY;
                        var maxX = this.maxX;
                        var maxY = this.maxY;
                        this.minX = _minX < minX ? _minX : minX;
                        this.minY = _minY < minY ? _minY : minY;
                        this.maxX = _maxX > maxX ? _maxX : maxX;
                        this.maxY = _maxY > maxY ? _maxY : maxY;
                    }
                };
                return Bounds;
            }();
            exports.default = Bounds;
        }, {
            "../math": 70
        }],
        48: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _utils = require('../utils');
            var _DisplayObject2 = require('./DisplayObject');
            var _DisplayObject3 = _interopRequireDefault(_DisplayObject2);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Container = function (_DisplayObject) {
                _inherits(Container, _DisplayObject);

                function Container() {
                    _classCallCheck(this, Container);
                    var _this = _possibleConstructorReturn(this, _DisplayObject.call(this));
                    _this.children = [];
                    return _this;
                }
                Container.prototype.onChildrenChange = function onChildrenChange() {};
                Container.prototype.addChild = function addChild(child) {
                    var argumentsLength = arguments.length;
                    if (argumentsLength > 1) {
                        for (var i = 0; i < argumentsLength; i++) {
                            this.addChild(arguments[i]);
                        }
                    } else {
                        if (child.parent) {
                            child.parent.removeChild(child);
                        }
                        child.parent = this;
                        child.transform._parentID = -1;
                        this.children.push(child);
                        this._boundsID++;
                        this.onChildrenChange(this.children.length - 1);
                        child.emit('added', this);
                    }
                    return child;
                };
                Container.prototype.addChildAt = function addChildAt(child, index) {
                    if (index < 0 || index > this.children.length) {
                        throw new Error(child + 'addChildAt: The index ' + index + ' supplied is out of bounds ' + this.children.length);
                    }
                    if (child.parent) {
                        child.parent.removeChild(child);
                    }
                    child.parent = this;
                    child.transform._parentID = -1;
                    this.children.splice(index, 0, child);
                    this._boundsID++;
                    this.onChildrenChange(index);
                    child.emit('added', this);
                    return child;
                };
                Container.prototype.swapChildren = function swapChildren(child, child2) {
                    if (child === child2) {
                        return;
                    }
                    var index1 = this.getChildIndex(child);
                    var index2 = this.getChildIndex(child2);
                    this.children[index1] = child2;
                    this.children[index2] = child;
                    this.onChildrenChange(index1 < index2 ? index1 : index2);
                };
                Container.prototype.getChildIndex = function getChildIndex(child) {
                    var index = this.children.indexOf(child);
                    if (index === -1) {
                        throw new Error('The supplied DisplayObject must be a child of the caller');
                    }
                    return index;
                };
                Container.prototype.setChildIndex = function setChildIndex(child, index) {
                    if (index < 0 || index >= this.children.length) {
                        throw new Error('The supplied index is out of bounds');
                    }
                    var currentIndex = this.getChildIndex(child);
                    (0, _utils.removeItems)(this.children, currentIndex, 1);
                    this.children.splice(index, 0, child);
                    this.onChildrenChange(index);
                };
                Container.prototype.getChildAt = function getChildAt(index) {
                    if (index < 0 || index >= this.children.length) {
                        throw new Error('getChildAt: Index (' + index + ') does not exist.');
                    }
                    return this.children[index];
                };
                Container.prototype.removeChild = function removeChild(child) {
                    var argumentsLength = arguments.length;
                    if (argumentsLength > 1) {
                        for (var i = 0; i < argumentsLength; i++) {
                            this.removeChild(arguments[i]);
                        }
                    } else {
                        var index = this.children.indexOf(child);
                        if (index === -1) return null;
                        child.parent = null;
                        child.transform._parentID = -1;
                        (0, _utils.removeItems)(this.children, index, 1);
                        this._boundsID++;
                        this.onChildrenChange(index);
                        child.emit('removed', this);
                    }
                    return child;
                };
                Container.prototype.removeChildAt = function removeChildAt(index) {
                    var child = this.getChildAt(index);
                    child.parent = null;
                    child.transform._parentID = -1;
                    (0, _utils.removeItems)(this.children, index, 1);
                    this._boundsID++;
                    this.onChildrenChange(index);
                    child.emit('removed', this);
                    return child;
                };
                Container.prototype.removeChildren = function removeChildren() {
                    var beginIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    var endIndex = arguments[1];
                    var begin = beginIndex;
                    var end = typeof endIndex === 'number' ? endIndex : this.children.length;
                    var range = end - begin;
                    var removed = void 0;
                    if (range > 0 && range <= end) {
                        removed = this.children.splice(begin, range);
                        for (var i = 0; i < removed.length; ++i) {
                            removed[i].parent = null;
                            if (removed[i].transform) {
                                removed[i].transform._parentID = -1;
                            }
                        }
                        this._boundsID++;
                        this.onChildrenChange(beginIndex);
                        for (var _i = 0; _i < removed.length; ++_i) {
                            removed[_i].emit('removed', this);
                        }
                        return removed;
                    } else if (range === 0 && this.children.length === 0) {
                        return [];
                    }
                    throw new RangeError('removeChildren: numeric values are outside the acceptable range.');
                };
                Container.prototype.updateTransform = function updateTransform() {
                    this._boundsID++;
                    this.transform.updateTransform(this.parent.transform);
                    this.worldAlpha = this.alpha * this.parent.worldAlpha;
                    for (var i = 0, j = this.children.length; i < j; ++i) {
                        var child = this.children[i];
                        if (child.visible) {
                            child.updateTransform();
                        }
                    }
                };
                Container.prototype.calculateBounds = function calculateBounds() {
                    this._bounds.clear();
                    this._calculateBounds();
                    for (var i = 0; i < this.children.length; i++) {
                        var child = this.children[i];
                        if (!child.visible || !child.renderable) {
                            continue;
                        }
                        child.calculateBounds();
                        if (child._mask) {
                            child._mask.calculateBounds();
                            this._bounds.addBoundsMask(child._bounds, child._mask._bounds);
                        } else if (child.filterArea) {
                            this._bounds.addBoundsArea(child._bounds, child.filterArea);
                        } else {
                            this._bounds.addBounds(child._bounds);
                        }
                    }
                    this._lastBoundsID = this._boundsID;
                };
                Container.prototype._calculateBounds = function _calculateBounds() {};
                Container.prototype.renderWebGL = function renderWebGL(renderer) {
                    if (!this.visible || this.worldAlpha <= 0 || !this.renderable) {
                        return;
                    }
                    if (this._mask || this._filters) {
                        this.renderAdvancedWebGL(renderer);
                    } else {
                        this._renderWebGL(renderer);
                        for (var i = 0, j = this.children.length; i < j; ++i) {
                            this.children[i].renderWebGL(renderer);
                        }
                    }
                };
                Container.prototype.renderAdvancedWebGL = function renderAdvancedWebGL(renderer) {
                    renderer.flush();
                    var filters = this._filters;
                    var mask = this._mask;
                    if (filters) {
                        if (!this._enabledFilters) {
                            this._enabledFilters = [];
                        }
                        this._enabledFilters.length = 0;
                        for (var i = 0; i < filters.length; i++) {
                            if (filters[i].enabled) {
                                this._enabledFilters.push(filters[i]);
                            }
                        }
                        if (this._enabledFilters.length) {
                            renderer.filterManager.pushFilter(this, this._enabledFilters);
                        }
                    }
                    if (mask) {
                        renderer.maskManager.pushMask(this, this._mask);
                    }
                    this._renderWebGL(renderer);
                    for (var _i2 = 0, j = this.children.length; _i2 < j; _i2++) {
                        this.children[_i2].renderWebGL(renderer);
                    }
                    renderer.flush();
                    if (mask) {
                        renderer.maskManager.popMask(this, this._mask);
                    }
                    if (filters && this._enabledFilters && this._enabledFilters.length) {
                        renderer.filterManager.popFilter();
                    }
                };
                Container.prototype._renderWebGL = function _renderWebGL(renderer) {};
                Container.prototype._renderCanvas = function _renderCanvas(renderer) {};
                Container.prototype.renderCanvas = function renderCanvas(renderer) {
                    if (!this.visible || this.worldAlpha <= 0 || !this.renderable) {
                        return;
                    }
                    if (this._mask) {
                        renderer.maskManager.pushMask(this._mask);
                    }
                    this._renderCanvas(renderer);
                    for (var i = 0, j = this.children.length; i < j; ++i) {
                        this.children[i].renderCanvas(renderer);
                    }
                    if (this._mask) {
                        renderer.maskManager.popMask(renderer);
                    }
                };
                Container.prototype.destroy = function destroy(options) {
                    _DisplayObject.prototype.destroy.call(this);
                    var destroyChildren = typeof options === 'boolean' ? options : options && options.children;
                    var oldChildren = this.removeChildren(0, this.children.length);
                    if (destroyChildren) {
                        for (var i = 0; i < oldChildren.length; ++i) {
                            oldChildren[i].destroy(options);
                        }
                    }
                };
                _createClass(Container, [{
                    key: 'width',
                    get: function get() {
                        return this.scale.x * this.getLocalBounds().width;
                    },
                    set: function set(value) {
                        var width = this.getLocalBounds().width;
                        if (width !== 0) {
                            this.scale.x = value / width;
                        } else {
                            this.scale.x = 1;
                        }
                        this._width = value;
                    }
                }, {
                    key: 'height',
                    get: function get() {
                        return this.scale.y * this.getLocalBounds().height;
                    },
                    set: function set(value) {
                        var height = this.getLocalBounds().height;
                        if (height !== 0) {
                            this.scale.y = value / height;
                        } else {
                            this.scale.y = 1;
                        }
                        this._height = value;
                    }
                }]);
                return Container;
            }(_DisplayObject3.default);
            exports.default = Container;
            Container.prototype.containerUpdateTransform = Container.prototype.updateTransform;
        }, {
            "../utils": 125,
            "./DisplayObject": 49
        }],
        49: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _eventemitter = require('eventemitter3');
            var _eventemitter2 = _interopRequireDefault(_eventemitter);
            var _const = require('../const');
            var _settings = require('../settings');
            var _settings2 = _interopRequireDefault(_settings);
            var _TransformStatic = require('./TransformStatic');
            var _TransformStatic2 = _interopRequireDefault(_TransformStatic);
            var _Transform = require('./Transform');
            var _Transform2 = _interopRequireDefault(_Transform);
            var _Bounds = require('./Bounds');
            var _Bounds2 = _interopRequireDefault(_Bounds);
            var _math = require('../math');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var DisplayObject = function (_EventEmitter) {
                _inherits(DisplayObject, _EventEmitter);

                function DisplayObject() {
                    _classCallCheck(this, DisplayObject);
                    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));
                    var TransformClass = _settings2.default.TRANSFORM_MODE === _const.TRANSFORM_MODE.STATIC ? _TransformStatic2.default : _Transform2.default;
                    _this.tempDisplayObjectParent = null;
                    _this.transform = new TransformClass();
                    _this.alpha = 1;
                    _this.visible = true;
                    _this.renderable = true;
                    _this.parent = null;
                    _this.worldAlpha = 1;
                    _this.filterArea = null;
                    _this._filters = null;
                    _this._enabledFilters = null;
                    _this._bounds = new _Bounds2.default();
                    _this._boundsID = 0;
                    _this._lastBoundsID = -1;
                    _this._boundsRect = null;
                    _this._localBoundsRect = null;
                    _this._mask = null;
                    _this._destroyed = false;
                    return _this;
                }
                DisplayObject.prototype.updateTransform = function updateTransform() {
                    this.transform.updateTransform(this.parent.transform);
                    this.worldAlpha = this.alpha * this.parent.worldAlpha;
                    this._bounds.updateID++;
                };
                DisplayObject.prototype._recursivePostUpdateTransform = function _recursivePostUpdateTransform() {
                    if (this.parent) {
                        this.parent._recursivePostUpdateTransform();
                        this.transform.updateTransform(this.parent.transform);
                    } else {
                        this.transform.updateTransform(this._tempDisplayObjectParent.transform);
                    }
                };
                DisplayObject.prototype.getBounds = function getBounds(skipUpdate, rect) {
                    if (!skipUpdate) {
                        if (!this.parent) {
                            this.parent = this._tempDisplayObjectParent;
                            this.updateTransform();
                            this.parent = null;
                        } else {
                            this._recursivePostUpdateTransform();
                            this.updateTransform();
                        }
                    }
                    if (this._boundsID !== this._lastBoundsID) {
                        this.calculateBounds();
                    }
                    if (!rect) {
                        if (!this._boundsRect) {
                            this._boundsRect = new _math.Rectangle();
                        }
                        rect = this._boundsRect;
                    }
                    return this._bounds.getRectangle(rect);
                };
                DisplayObject.prototype.getLocalBounds = function getLocalBounds(rect) {
                    var transformRef = this.transform;
                    var parentRef = this.parent;
                    this.parent = null;
                    this.transform = this._tempDisplayObjectParent.transform;
                    if (!rect) {
                        if (!this._localBoundsRect) {
                            this._localBoundsRect = new _math.Rectangle();
                        }
                        rect = this._localBoundsRect;
                    }
                    var bounds = this.getBounds(false, rect);
                    this.parent = parentRef;
                    this.transform = transformRef;
                    return bounds;
                };
                DisplayObject.prototype.toGlobal = function toGlobal(position, point) {
                    var skipUpdate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
                    if (!skipUpdate) {
                        this._recursivePostUpdateTransform();
                        if (!this.parent) {
                            this.parent = this._tempDisplayObjectParent;
                            this.displayObjectUpdateTransform();
                            this.parent = null;
                        } else {
                            this.displayObjectUpdateTransform();
                        }
                    }
                    return this.worldTransform.apply(position, point);
                };
                DisplayObject.prototype.toLocal = function toLocal(position, from, point, skipUpdate) {
                    if (from) {
                        position = from.toGlobal(position, point, skipUpdate);
                    }
                    if (!skipUpdate) {
                        this._recursivePostUpdateTransform();
                        if (!this.parent) {
                            this.parent = this._tempDisplayObjectParent;
                            this.displayObjectUpdateTransform();
                            this.parent = null;
                        } else {
                            this.displayObjectUpdateTransform();
                        }
                    }
                    return this.worldTransform.applyInverse(position, point);
                };
                DisplayObject.prototype.renderWebGL = function renderWebGL(renderer) {};
                DisplayObject.prototype.renderCanvas = function renderCanvas(renderer) {};
                DisplayObject.prototype.setParent = function setParent(container) {
                    if (!container || !container.addChild) {
                        throw new Error('setParent: Argument must be a Container');
                    }
                    container.addChild(this);
                    return container;
                };
                DisplayObject.prototype.setTransform = function setTransform() {
                    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
                    var scaleX = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;
                    var scaleY = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;
                    var rotation = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;
                    var skewX = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;
                    var skewY = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 0;
                    var pivotX = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 0;
                    var pivotY = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : 0;
                    this.position.x = x;
                    this.position.y = y;
                    this.scale.x = !scaleX ? 1 : scaleX;
                    this.scale.y = !scaleY ? 1 : scaleY;
                    this.rotation = rotation;
                    this.skew.x = skewX;
                    this.skew.y = skewY;
                    this.pivot.x = pivotX;
                    this.pivot.y = pivotY;
                    return this;
                };
                DisplayObject.prototype.destroy = function destroy() {
                    this.removeAllListeners();
                    if (this.parent) {
                        this.parent.removeChild(this);
                    }
                    this.transform = null;
                    this.parent = null;
                    this._bounds = null;
                    this._currentBounds = null;
                    this._mask = null;
                    this.filterArea = null;
                    this.interactive = false;
                    this.interactiveChildren = false;
                    this._destroyed = true;
                };
                _createClass(DisplayObject, [{
                    key: '_tempDisplayObjectParent',
                    get: function get() {
                        if (this.tempDisplayObjectParent === null) {
                            this.tempDisplayObjectParent = new DisplayObject();
                        }
                        return this.tempDisplayObjectParent;
                    }
                }, {
                    key: 'x',
                    get: function get() {
                        return this.position.x;
                    },
                    set: function set(value) {
                        this.transform.position.x = value;
                    }
                }, {
                    key: 'y',
                    get: function get() {
                        return this.position.y;
                    },
                    set: function set(value) {
                        this.transform.position.y = value;
                    }
                }, {
                    key: 'worldTransform',
                    get: function get() {
                        return this.transform.worldTransform;
                    }
                }, {
                    key: 'localTransform',
                    get: function get() {
                        return this.transform.localTransform;
                    }
                }, {
                    key: 'position',
                    get: function get() {
                        return this.transform.position;
                    },
                    set: function set(value) {
                        this.transform.position.copy(value);
                    }
                }, {
                    key: 'scale',
                    get: function get() {
                        return this.transform.scale;
                    },
                    set: function set(value) {
                        this.transform.scale.copy(value);
                    }
                }, {
                    key: 'pivot',
                    get: function get() {
                        return this.transform.pivot;
                    },
                    set: function set(value) {
                        this.transform.pivot.copy(value);
                    }
                }, {
                    key: 'skew',
                    get: function get() {
                        return this.transform.skew;
                    },
                    set: function set(value) {
                        this.transform.skew.copy(value);
                    }
                }, {
                    key: 'rotation',
                    get: function get() {
                        return this.transform.rotation;
                    },
                    set: function set(value) {
                        this.transform.rotation = value;
                    }
                }, {
                    key: 'worldVisible',
                    get: function get() {
                        var item = this;
                        do {
                            if (!item.visible) {
                                return false;
                            }
                            item = item.parent;
                        } while (item);
                        return true;
                    }
                }, {
                    key: 'mask',
                    get: function get() {
                        return this._mask;
                    },
                    set: function set(value) {
                        if (this._mask) {
                            this._mask.renderable = true;
                            this._mask.isMask = false;
                        }
                        this._mask = value;
                        if (this._mask) {
                            this._mask.renderable = false;
                            this._mask.isMask = true;
                        }
                    }
                }, {
                    key: 'filters',
                    get: function get() {
                        return this._filters && this._filters.slice();
                    },
                    set: function set(value) {
                        this._filters = value && value.slice();
                    }
                }]);
                return DisplayObject;
            }(_eventemitter2.default);
            exports.default = DisplayObject;
            DisplayObject.prototype.displayObjectUpdateTransform = DisplayObject.prototype.updateTransform;
        }, {
            "../const": 46,
            "../math": 70,
            "../settings": 101,
            "./Bounds": 47,
            "./Transform": 50,
            "./TransformStatic": 52,
            "eventemitter3": 3
        }],
        50: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _math = require('../math');
            var _TransformBase2 = require('./TransformBase');
            var _TransformBase3 = _interopRequireDefault(_TransformBase2);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Transform = function (_TransformBase) {
                _inherits(Transform, _TransformBase);

                function Transform() {
                    _classCallCheck(this, Transform);
                    var _this = _possibleConstructorReturn(this, _TransformBase.call(this));
                    _this.position = new _math.Point(0, 0);
                    _this.scale = new _math.Point(1, 1);
                    _this.skew = new _math.ObservablePoint(_this.updateSkew, _this, 0, 0);
                    _this.pivot = new _math.Point(0, 0);
                    _this._rotation = 0;
                    _this._cx = 1;
                    _this._sx = 0;
                    _this._cy = 0;
                    _this._sy = 1;
                    return _this;
                }
                Transform.prototype.updateSkew = function updateSkew() {
                    this._cx = Math.cos(this._rotation + this.skew._y);
                    this._sx = Math.sin(this._rotation + this.skew._y);
                    this._cy = -Math.sin(this._rotation - this.skew._x);
                    this._sy = Math.cos(this._rotation - this.skew._x);
                };
                Transform.prototype.updateLocalTransform = function updateLocalTransform() {
                    var lt = this.localTransform;
                    lt.a = this._cx * this.scale.x;
                    lt.b = this._sx * this.scale.x;
                    lt.c = this._cy * this.scale.y;
                    lt.d = this._sy * this.scale.y;
                    lt.tx = this.position.x - (this.pivot.x * lt.a + this.pivot.y * lt.c);
                    lt.ty = this.position.y - (this.pivot.x * lt.b + this.pivot.y * lt.d);
                };
                Transform.prototype.updateTransform = function updateTransform(parentTransform) {
                    var lt = this.localTransform;
                    lt.a = this._cx * this.scale.x;
                    lt.b = this._sx * this.scale.x;
                    lt.c = this._cy * this.scale.y;
                    lt.d = this._sy * this.scale.y;
                    lt.tx = this.position.x - (this.pivot.x * lt.a + this.pivot.y * lt.c);
                    lt.ty = this.position.y - (this.pivot.x * lt.b + this.pivot.y * lt.d);
                    var pt = parentTransform.worldTransform;
                    var wt = this.worldTransform;
                    wt.a = lt.a * pt.a + lt.b * pt.c;
                    wt.b = lt.a * pt.b + lt.b * pt.d;
                    wt.c = lt.c * pt.a + lt.d * pt.c;
                    wt.d = lt.c * pt.b + lt.d * pt.d;
                    wt.tx = lt.tx * pt.a + lt.ty * pt.c + pt.tx;
                    wt.ty = lt.tx * pt.b + lt.ty * pt.d + pt.ty;
                    this._worldID++;
                };
                Transform.prototype.setFromMatrix = function setFromMatrix(matrix) {
                    matrix.decompose(this);
                };
                _createClass(Transform, [{
                    key: 'rotation',
                    get: function get() {
                        return this._rotation;
                    },
                    set: function set(value) {
                        this._rotation = value;
                        this.updateSkew();
                    }
                }]);
                return Transform;
            }(_TransformBase3.default);
            exports.default = Transform;
        }, {
            "../math": 70,
            "./TransformBase": 51
        }],
        51: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _math = require('../math');

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var TransformBase = function () {
                function TransformBase() {
                    _classCallCheck(this, TransformBase);
                    this.worldTransform = new _math.Matrix();
                    this.localTransform = new _math.Matrix();
                    this._worldID = 0;
                    this._parentID = 0;
                }
                TransformBase.prototype.updateLocalTransform = function updateLocalTransform() {};
                TransformBase.prototype.updateTransform = function updateTransform(parentTransform) {
                    var pt = parentTransform.worldTransform;
                    var wt = this.worldTransform;
                    var lt = this.localTransform;
                    wt.a = lt.a * pt.a + lt.b * pt.c;
                    wt.b = lt.a * pt.b + lt.b * pt.d;
                    wt.c = lt.c * pt.a + lt.d * pt.c;
                    wt.d = lt.c * pt.b + lt.d * pt.d;
                    wt.tx = lt.tx * pt.a + lt.ty * pt.c + pt.tx;
                    wt.ty = lt.tx * pt.b + lt.ty * pt.d + pt.ty;
                    this._worldID++;
                };
                return TransformBase;
            }();
            exports.default = TransformBase;
            TransformBase.prototype.updateWorldTransform = TransformBase.prototype.updateTransform;
            TransformBase.IDENTITY = new TransformBase();
        }, {
            "../math": 70
        }],
        52: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _math = require('../math');
            var _TransformBase2 = require('./TransformBase');
            var _TransformBase3 = _interopRequireDefault(_TransformBase2);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var TransformStatic = function (_TransformBase) {
                _inherits(TransformStatic, _TransformBase);

                function TransformStatic() {
                    _classCallCheck(this, TransformStatic);
                    var _this = _possibleConstructorReturn(this, _TransformBase.call(this));
                    _this.position = new _math.ObservablePoint(_this.onChange, _this, 0, 0);
                    _this.scale = new _math.ObservablePoint(_this.onChange, _this, 1, 1);
                    _this.pivot = new _math.ObservablePoint(_this.onChange, _this, 0, 0);
                    _this.skew = new _math.ObservablePoint(_this.updateSkew, _this, 0, 0);
                    _this._rotation = 0;
                    _this._cx = 1;
                    _this._sx = 0;
                    _this._cy = 0;
                    _this._sy = 1;
                    _this._localID = 0;
                    _this._currentLocalID = 0;
                    return _this;
                }
                TransformStatic.prototype.onChange = function onChange() {
                    this._localID++;
                };
                TransformStatic.prototype.updateSkew = function updateSkew() {
                    this._cx = Math.cos(this._rotation + this.skew._y);
                    this._sx = Math.sin(this._rotation + this.skew._y);
                    this._cy = -Math.sin(this._rotation - this.skew._x);
                    this._sy = Math.cos(this._rotation - this.skew._x);
                    this._localID++;
                };
                TransformStatic.prototype.updateLocalTransform = function updateLocalTransform() {
                    var lt = this.localTransform;
                    if (this._localID !== this._currentLocalID) {
                        lt.a = this._cx * this.scale._x;
                        lt.b = this._sx * this.scale._x;
                        lt.c = this._cy * this.scale._y;
                        lt.d = this._sy * this.scale._y;
                        lt.tx = this.position._x - (this.pivot._x * lt.a + this.pivot._y * lt.c);
                        lt.ty = this.position._y - (this.pivot._x * lt.b + this.pivot._y * lt.d);
                        this._currentLocalID = this._localID;
                        this._parentID = -1;
                    }
                };
                TransformStatic.prototype.updateTransform = function updateTransform(parentTransform) {
                    var lt = this.localTransform;
                    if (this._localID !== this._currentLocalID) {
                        lt.a = this._cx * this.scale._x;
                        lt.b = this._sx * this.scale._x;
                        lt.c = this._cy * this.scale._y;
                        lt.d = this._sy * this.scale._y;
                        lt.tx = this.position._x - (this.pivot._x * lt.a + this.pivot._y * lt.c);
                        lt.ty = this.position._y - (this.pivot._x * lt.b + this.pivot._y * lt.d);
                        this._currentLocalID = this._localID;
                        this._parentID = -1;
                    }
                    if (this._parentID !== parentTransform._worldID) {
                        var pt = parentTransform.worldTransform;
                        var wt = this.worldTransform;
                        wt.a = lt.a * pt.a + lt.b * pt.c;
                        wt.b = lt.a * pt.b + lt.b * pt.d;
                        wt.c = lt.c * pt.a + lt.d * pt.c;
                        wt.d = lt.c * pt.b + lt.d * pt.d;
                        wt.tx = lt.tx * pt.a + lt.ty * pt.c + pt.tx;
                        wt.ty = lt.tx * pt.b + lt.ty * pt.d + pt.ty;
                        this._parentID = parentTransform._worldID;
                        this._worldID++;
                    }
                };
                TransformStatic.prototype.setFromMatrix = function setFromMatrix(matrix) {
                    matrix.decompose(this);
                    this._localID++;
                };
                _createClass(TransformStatic, [{
                    key: 'rotation',
                    get: function get() {
                        return this._rotation;
                    },
                    set: function set(value) {
                        this._rotation = value;
                        this.updateSkew();
                    }
                }]);
                return TransformStatic;
            }(_TransformBase3.default);
            exports.default = TransformStatic;
        }, {
            "../math": 70,
            "./TransformBase": 51
        }],
        53: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _Container2 = require('../display/Container');
            var _Container3 = _interopRequireDefault(_Container2);
            var _RenderTexture = require('../textures/RenderTexture');
            var _RenderTexture2 = _interopRequireDefault(_RenderTexture);
            var _Texture = require('../textures/Texture');
            var _Texture2 = _interopRequireDefault(_Texture);
            var _GraphicsData = require('./GraphicsData');
            var _GraphicsData2 = _interopRequireDefault(_GraphicsData);
            var _Sprite = require('../sprites/Sprite');
            var _Sprite2 = _interopRequireDefault(_Sprite);
            var _math = require('../math');
            var _utils = require('../utils');
            var _const = require('../const');
            var _Bounds = require('../display/Bounds');
            var _Bounds2 = _interopRequireDefault(_Bounds);
            var _bezierCurveTo2 = require('./utils/bezierCurveTo');
            var _bezierCurveTo3 = _interopRequireDefault(_bezierCurveTo2);
            var _CanvasRenderer = require('../renderers/canvas/CanvasRenderer');
            var _CanvasRenderer2 = _interopRequireDefault(_CanvasRenderer);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var canvasRenderer = void 0;
            var tempMatrix = new _math.Matrix();
            var tempPoint = new _math.Point();
            var tempColor1 = new Float32Array(4);
            var tempColor2 = new Float32Array(4);
            var Graphics = function (_Container) {
                _inherits(Graphics, _Container);

                function Graphics() {
                    var nativeLines = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
                    _classCallCheck(this, Graphics);
                    var _this = _possibleConstructorReturn(this, _Container.call(this));
                    _this.fillAlpha = 1;
                    _this.lineWidth = 0;
                    _this.nativeLines = nativeLines;
                    _this.lineColor = 0;
                    _this.graphicsData = [];
                    _this.tint = 0xFFFFFF;
                    _this._prevTint = 0xFFFFFF;
                    _this.blendMode = _const.BLEND_MODES.NORMAL;
                    _this.currentPath = null;
                    _this._webGL = {};
                    _this.isMask = false;
                    _this.boundsPadding = 0;
                    _this._localBounds = new _Bounds2.default();
                    _this.dirty = 0;
                    _this.fastRectDirty = -1;
                    _this.clearDirty = 0;
                    _this.boundsDirty = -1;
                    _this.cachedSpriteDirty = false;
                    _this._spriteRect = null;
                    _this._fastRect = false;
                    return _this;
                }
                Graphics.prototype.clone = function clone() {
                    var clone = new Graphics();
                    clone.renderable = this.renderable;
                    clone.fillAlpha = this.fillAlpha;
                    clone.lineWidth = this.lineWidth;
                    clone.lineColor = this.lineColor;
                    clone.tint = this.tint;
                    clone.blendMode = this.blendMode;
                    clone.isMask = this.isMask;
                    clone.boundsPadding = this.boundsPadding;
                    clone.dirty = 0;
                    clone.cachedSpriteDirty = this.cachedSpriteDirty;
                    for (var i = 0; i < this.graphicsData.length; ++i) {
                        clone.graphicsData.push(this.graphicsData[i].clone());
                    }
                    clone.currentPath = clone.graphicsData[clone.graphicsData.length - 1];
                    clone.updateLocalBounds();
                    return clone;
                };
                Graphics.prototype.lineStyle = function lineStyle() {
                    var lineWidth = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    var color = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
                    var alpha = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;
                    this.lineWidth = lineWidth;
                    this.lineColor = color;
                    this.lineAlpha = alpha;
                    if (this.currentPath) {
                        if (this.currentPath.shape.points.length) {
                            var shape = new _math.Polygon(this.currentPath.shape.points.slice(-2));
                            shape.closed = false;
                            this.drawShape(shape);
                        } else {
                            this.currentPath.lineWidth = this.lineWidth;
                            this.currentPath.lineColor = this.lineColor;
                            this.currentPath.lineAlpha = this.lineAlpha;
                        }
                    }
                    return this;
                };
                Graphics.prototype.moveTo = function moveTo(x, y) {
                    var shape = new _math.Polygon([x, y]);
                    shape.closed = false;
                    this.drawShape(shape);
                    return this;
                };
                Graphics.prototype.lineTo = function lineTo(x, y) {
                    this.currentPath.shape.points.push(x, y);
                    this.dirty++;
                    return this;
                };
                Graphics.prototype.quadraticCurveTo = function quadraticCurveTo(cpX, cpY, toX, toY) {
                    if (this.currentPath) {
                        if (this.currentPath.shape.points.length === 0) {
                            this.currentPath.shape.points = [0, 0];
                        }
                    } else {
                        this.moveTo(0, 0);
                    }
                    var n = 20;
                    var points = this.currentPath.shape.points;
                    var xa = 0;
                    var ya = 0;
                    if (points.length === 0) {
                        this.moveTo(0, 0);
                    }
                    var fromX = points[points.length - 2];
                    var fromY = points[points.length - 1];
                    for (var i = 1; i <= n; ++i) {
                        var j = i / n;
                        xa = fromX + (cpX - fromX) * j;
                        ya = fromY + (cpY - fromY) * j;
                        points.push(xa + (cpX + (toX - cpX) * j - xa) * j, ya + (cpY + (toY - cpY) * j - ya) * j);
                    }
                    this.dirty++;
                    return this;
                };
                Graphics.prototype.bezierCurveTo = function bezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY) {
                    if (this.currentPath) {
                        if (this.currentPath.shape.points.length === 0) {
                            this.currentPath.shape.points = [0, 0];
                        }
                    } else {
                        this.moveTo(0, 0);
                    }
                    var points = this.currentPath.shape.points;
                    var fromX = points[points.length - 2];
                    var fromY = points[points.length - 1];
                    points.length -= 2;
                    (0, _bezierCurveTo3.default)(fromX, fromY, cpX, cpY, cpX2, cpY2, toX, toY, points);
                    this.dirty++;
                    return this;
                };
                Graphics.prototype.arcTo = function arcTo(x1, y1, x2, y2, radius) {
                    if (this.currentPath) {
                        if (this.currentPath.shape.points.length === 0) {
                            this.currentPath.shape.points.push(x1, y1);
                        }
                    } else {
                        this.moveTo(x1, y1);
                    }
                    var points = this.currentPath.shape.points;
                    var fromX = points[points.length - 2];
                    var fromY = points[points.length - 1];
                    var a1 = fromY - y1;
                    var b1 = fromX - x1;
                    var a2 = y2 - y1;
                    var b2 = x2 - x1;
                    var mm = Math.abs(a1 * b2 - b1 * a2);
                    if (mm < 1.0e-8 || radius === 0) {
                        if (points[points.length - 2] !== x1 || points[points.length - 1] !== y1) {
                            points.push(x1, y1);
                        }
                    } else {
                        var dd = a1 * a1 + b1 * b1;
                        var cc = a2 * a2 + b2 * b2;
                        var tt = a1 * a2 + b1 * b2;
                        var k1 = radius * Math.sqrt(dd) / mm;
                        var k2 = radius * Math.sqrt(cc) / mm;
                        var j1 = k1 * tt / dd;
                        var j2 = k2 * tt / cc;
                        var cx = k1 * b2 + k2 * b1;
                        var cy = k1 * a2 + k2 * a1;
                        var px = b1 * (k2 + j1);
                        var py = a1 * (k2 + j1);
                        var qx = b2 * (k1 + j2);
                        var qy = a2 * (k1 + j2);
                        var startAngle = Math.atan2(py - cy, px - cx);
                        var endAngle = Math.atan2(qy - cy, qx - cx);
                        this.arc(cx + x1, cy + y1, radius, startAngle, endAngle, b1 * a2 > b2 * a1);
                    }
                    this.dirty++;
                    return this;
                };
                Graphics.prototype.arc = function arc(cx, cy, radius, startAngle, endAngle) {
                    var anticlockwise = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;
                    if (startAngle === endAngle) {
                        return this;
                    }
                    if (!anticlockwise && endAngle <= startAngle) {
                        endAngle += _const.PI_2;
                    } else if (anticlockwise && startAngle <= endAngle) {
                        startAngle += _const.PI_2;
                    }
                    var sweep = endAngle - startAngle;
                    var segs = Math.ceil(Math.abs(sweep) / _const.PI_2) * 40;
                    if (sweep === 0) {
                        return this;
                    }
                    var startX = cx + Math.cos(startAngle) * radius;
                    var startY = cy + Math.sin(startAngle) * radius;
                    var points = this.currentPath ? this.currentPath.shape.points : null;
                    if (points) {
                        if (points[points.length - 2] !== startX || points[points.length - 1] !== startY) {
                            points.push(startX, startY);
                        }
                    } else {
                        this.moveTo(startX, startY);
                        points = this.currentPath.shape.points;
                    }
                    var theta = sweep / (segs * 2);
                    var theta2 = theta * 2;
                    var cTheta = Math.cos(theta);
                    var sTheta = Math.sin(theta);
                    var segMinus = segs - 1;
                    var remainder = segMinus % 1 / segMinus;
                    for (var i = 0; i <= segMinus; ++i) {
                        var real = i + remainder * i;
                        var angle = theta + startAngle + theta2 * real;
                        var c = Math.cos(angle);
                        var s = -Math.sin(angle);
                        points.push((cTheta * c + sTheta * s) * radius + cx, (cTheta * -s + sTheta * c) * radius + cy);
                    }
                    this.dirty++;
                    return this;
                };
                Graphics.prototype.beginFill = function beginFill() {
                    var color = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    var alpha = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
                    this.filling = true;
                    this.fillColor = color;
                    this.fillAlpha = alpha;
                    if (this.currentPath) {
                        if (this.currentPath.shape.points.length <= 2) {
                            this.currentPath.fill = this.filling;
                            this.currentPath.fillColor = this.fillColor;
                            this.currentPath.fillAlpha = this.fillAlpha;
                        }
                    }
                    return this;
                };
                Graphics.prototype.endFill = function endFill() {
                    this.filling = false;
                    this.fillColor = null;
                    this.fillAlpha = 1;
                    return this;
                };
                Graphics.prototype.drawRect = function drawRect(x, y, width, height) {
                    this.drawShape(new _math.Rectangle(x, y, width, height));
                    return this;
                };
                Graphics.prototype.drawRoundedRect = function drawRoundedRect(x, y, width, height, radius) {
                    this.drawShape(new _math.RoundedRectangle(x, y, width, height, radius));
                    return this;
                };
                Graphics.prototype.drawCircle = function drawCircle(x, y, radius) {
                    this.drawShape(new _math.Circle(x, y, radius));
                    return this;
                };
                Graphics.prototype.drawEllipse = function drawEllipse(x, y, width, height) {
                    this.drawShape(new _math.Ellipse(x, y, width, height));
                    return this;
                };
                Graphics.prototype.drawPolygon = function drawPolygon(path) {
                    var points = path;
                    var closed = true;
                    if (points instanceof _math.Polygon) {
                        closed = points.closed;
                        points = points.points;
                    }
                    if (!Array.isArray(points)) {
                        points = new Array(arguments.length);
                        for (var i = 0; i < points.length; ++i) {
                            points[i] = arguments[i];
                        }
                    }
                    var shape = new _math.Polygon(points);
                    shape.closed = closed;
                    this.drawShape(shape);
                    return this;
                };
                Graphics.prototype.drawStar = function drawStar(x, y, points, radius, innerRadius) {
                    var rotation = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;
                    innerRadius = innerRadius || radius / 2;
                    var startAngle = -1 * Math.PI / 2 + rotation;
                    var len = points * 2;
                    var delta = _const.PI_2 / len;
                    var polygon = [];
                    for (var i = 0; i < len; i++) {
                        var r = i % 2 ? innerRadius : radius;
                        var angle = i * delta + startAngle;
                        polygon.push(x + r * Math.cos(angle), y + r * Math.sin(angle));
                    }
                    return this.drawPolygon(polygon);
                };
                Graphics.prototype.clear = function clear() {
                    if (this.lineWidth || this.filling || this.graphicsData.length > 0) {
                        this.lineWidth = 0;
                        this.filling = false;
                        this.boundsDirty = -1;
                        this.dirty++;
                        this.clearDirty++;
                        this.graphicsData.length = 0;
                    }
                    this.currentPath = null;
                    this._spriteRect = null;
                    return this;
                };
                Graphics.prototype.isFastRect = function isFastRect() {
                    return this.graphicsData.length === 1 && this.graphicsData[0].shape.type === _const.SHAPES.RECT && !this.graphicsData[0].lineWidth;
                };
                Graphics.prototype._renderWebGL = function _renderWebGL(renderer) {
                    if (this.dirty !== this.fastRectDirty) {
                        this.fastRectDirty = this.dirty;
                        this._fastRect = this.isFastRect();
                    }
                    if (this._fastRect) {
                        this._renderSpriteRect(renderer);
                    } else {
                        renderer.setObjectRenderer(renderer.plugins.graphics);
                        renderer.plugins.graphics.render(this);
                    }
                };
                Graphics.prototype._renderSpriteRect = function _renderSpriteRect(renderer) {
                    var rect = this.graphicsData[0].shape;
                    if (!this._spriteRect) {
                        this._spriteRect = new _Sprite2.default(new _Texture2.default(_Texture2.default.WHITE));
                    }
                    var sprite = this._spriteRect;
                    if (this.tint === 0xffffff) {
                        sprite.tint = this.graphicsData[0].fillColor;
                    } else {
                        var t1 = tempColor1;
                        var t2 = tempColor2;
                        (0, _utils.hex2rgb)(this.graphicsData[0].fillColor, t1);
                        (0, _utils.hex2rgb)(this.tint, t2);
                        t1[0] *= t2[0];
                        t1[1] *= t2[1];
                        t1[2] *= t2[2];
                        sprite.tint = (0, _utils.rgb2hex)(t1);
                    }
                    sprite.alpha = this.graphicsData[0].fillAlpha;
                    sprite.worldAlpha = this.worldAlpha * sprite.alpha;
                    sprite.blendMode = this.blendMode;
                    sprite._texture._frame.width = rect.width;
                    sprite._texture._frame.height = rect.height;
                    sprite.transform.worldTransform = this.transform.worldTransform;
                    sprite.anchor.set(-rect.x / rect.width, -rect.y / rect.height);
                    sprite._onAnchorUpdate();
                    sprite._renderWebGL(renderer);
                };
                Graphics.prototype._renderCanvas = function _renderCanvas(renderer) {
                    if (this.isMask === true) {
                        return;
                    }
                    renderer.plugins.graphics.render(this);
                };
                Graphics.prototype._calculateBounds = function _calculateBounds() {
                    if (this.boundsDirty !== this.dirty) {
                        this.boundsDirty = this.dirty;
                        this.updateLocalBounds();
                        this.cachedSpriteDirty = true;
                    }
                    var lb = this._localBounds;
                    this._bounds.addFrame(this.transform, lb.minX, lb.minY, lb.maxX, lb.maxY);
                };
                Graphics.prototype.containsPoint = function containsPoint(point) {
                    this.worldTransform.applyInverse(point, tempPoint);
                    var graphicsData = this.graphicsData;
                    for (var i = 0; i < graphicsData.length; ++i) {
                        var data = graphicsData[i];
                        if (!data.fill) {
                            continue;
                        }
                        if (data.shape) {
                            if (data.shape.contains(tempPoint.x, tempPoint.y)) {
                                if (data.holes) {
                                    for (var _i = 0; _i < data.holes.length; _i++) {
                                        var hole = data.holes[_i];
                                        if (hole.contains(tempPoint.x, tempPoint.y)) {
                                            return false;
                                        }
                                    }
                                }
                                return true;
                            }
                        }
                    }
                    return false;
                };
                Graphics.prototype.updateLocalBounds = function updateLocalBounds() {
                    var minX = Infinity;
                    var maxX = -Infinity;
                    var minY = Infinity;
                    var maxY = -Infinity;
                    if (this.graphicsData.length) {
                        var shape = 0;
                        var x = 0;
                        var y = 0;
                        var w = 0;
                        var h = 0;
                        for (var i = 0; i < this.graphicsData.length; i++) {
                            var data = this.graphicsData[i];
                            var type = data.type;
                            var lineWidth = data.lineWidth;
                            shape = data.shape;
                            if (type === _const.SHAPES.RECT || type === _const.SHAPES.RREC) {
                                x = shape.x - lineWidth / 2;
                                y = shape.y - lineWidth / 2;
                                w = shape.width + lineWidth;
                                h = shape.height + lineWidth;
                                minX = x < minX ? x : minX;
                                maxX = x + w > maxX ? x + w : maxX;
                                minY = y < minY ? y : minY;
                                maxY = y + h > maxY ? y + h : maxY;
                            } else if (type === _const.SHAPES.CIRC) {
                                x = shape.x;
                                y = shape.y;
                                w = shape.radius + lineWidth / 2;
                                h = shape.radius + lineWidth / 2;
                                minX = x - w < minX ? x - w : minX;
                                maxX = x + w > maxX ? x + w : maxX;
                                minY = y - h < minY ? y - h : minY;
                                maxY = y + h > maxY ? y + h : maxY;
                            } else if (type === _const.SHAPES.ELIP) {
                                x = shape.x;
                                y = shape.y;
                                w = shape.width + lineWidth / 2;
                                h = shape.height + lineWidth / 2;
                                minX = x - w < minX ? x - w : minX;
                                maxX = x + w > maxX ? x + w : maxX;
                                minY = y - h < minY ? y - h : minY;
                                maxY = y + h > maxY ? y + h : maxY;
                            } else {
                                var points = shape.points;
                                var x2 = 0;
                                var y2 = 0;
                                var dx = 0;
                                var dy = 0;
                                var rw = 0;
                                var rh = 0;
                                var cx = 0;
                                var cy = 0;
                                for (var j = 0; j + 2 < points.length; j += 2) {
                                    x = points[j];
                                    y = points[j + 1];
                                    x2 = points[j + 2];
                                    y2 = points[j + 3];
                                    dx = Math.abs(x2 - x);
                                    dy = Math.abs(y2 - y);
                                    h = lineWidth;
                                    w = Math.sqrt(dx * dx + dy * dy);
                                    if (w < 1e-9) {
                                        continue;
                                    }
                                    rw = (h / w * dy + dx) / 2;
                                    rh = (h / w * dx + dy) / 2;
                                    cx = (x2 + x) / 2;
                                    cy = (y2 + y) / 2;
                                    minX = cx - rw < minX ? cx - rw : minX;
                                    maxX = cx + rw > maxX ? cx + rw : maxX;
                                    minY = cy - rh < minY ? cy - rh : minY;
                                    maxY = cy + rh > maxY ? cy + rh : maxY;
                                }
                            }
                        }
                    } else {
                        minX = 0;
                        maxX = 0;
                        minY = 0;
                        maxY = 0;
                    }
                    var padding = this.boundsPadding;
                    this._localBounds.minX = minX - padding;
                    this._localBounds.maxX = maxX + padding;
                    this._localBounds.minY = minY - padding;
                    this._localBounds.maxY = maxY + padding;
                };
                Graphics.prototype.drawShape = function drawShape(shape) {
                    if (this.currentPath) {
                        if (this.currentPath.shape.points.length <= 2) {
                            this.graphicsData.pop();
                        }
                    }
                    this.currentPath = null;
                    var data = new _GraphicsData2.default(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.filling, this.nativeLines, shape);
                    this.graphicsData.push(data);
                    if (data.type === _const.SHAPES.POLY) {
                        data.shape.closed = data.shape.closed || this.filling;
                        this.currentPath = data;
                    }
                    this.dirty++;
                    return data;
                };
                Graphics.prototype.generateCanvasTexture = function generateCanvasTexture(scaleMode) {
                    var resolution = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
                    var bounds = this.getLocalBounds();
                    var canvasBuffer = _RenderTexture2.default.create(bounds.width, bounds.height, scaleMode, resolution);
                    if (!canvasRenderer) {
                        canvasRenderer = new _CanvasRenderer2.default();
                    }
                    this.transform.updateLocalTransform();
                    this.transform.localTransform.copy(tempMatrix);
                    tempMatrix.invert();
                    tempMatrix.tx -= bounds.x;
                    tempMatrix.ty -= bounds.y;
                    canvasRenderer.render(this, canvasBuffer, true, tempMatrix);
                    var texture = _Texture2.default.fromCanvas(canvasBuffer.baseTexture._canvasRenderTarget.canvas, scaleMode, 'graphics');
                    texture.baseTexture.resolution = resolution;
                    texture.baseTexture.update();
                    return texture;
                };
                Graphics.prototype.closePath = function closePath() {
                    var currentPath = this.currentPath;
                    if (currentPath && currentPath.shape) {
                        currentPath.shape.close();
                    }
                    return this;
                };
                Graphics.prototype.addHole = function addHole() {
                    var hole = this.graphicsData.pop();
                    this.currentPath = this.graphicsData[this.graphicsData.length - 1];
                    this.currentPath.addHole(hole.shape);
                    this.currentPath = null;
                    return this;
                };
                Graphics.prototype.destroy = function destroy(options) {
                    _Container.prototype.destroy.call(this, options);
                    for (var i = 0; i < this.graphicsData.length; ++i) {
                        this.graphicsData[i].destroy();
                    }
                    for (var id in this._webgl) {
                        for (var j = 0; j < this._webgl[id].data.length; ++j) {
                            this._webgl[id].data[j].destroy();
                        }
                    }
                    if (this._spriteRect) {
                        this._spriteRect.destroy();
                    }
                    this.graphicsData = null;
                    this.currentPath = null;
                    this._webgl = null;
                    this._localBounds = null;
                };
                return Graphics;
            }(_Container3.default);
            exports.default = Graphics;
            Graphics._SPRITE_TEXTURE = null;
        }, {
            "../const": 46,
            "../display/Bounds": 47,
            "../display/Container": 48,
            "../math": 70,
            "../renderers/canvas/CanvasRenderer": 77,
            "../sprites/Sprite": 102,
            "../textures/RenderTexture": 113,
            "../textures/Texture": 115,
            "../utils": 125,
            "./GraphicsData": 54,
            "./utils/bezierCurveTo": 56
        }],
        54: [function (require, module, exports) {
            "use strict";
            exports.__esModule = true;

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var GraphicsData = function () {
                function GraphicsData(lineWidth, lineColor, lineAlpha, fillColor, fillAlpha, fill, nativeLines, shape) {
                    _classCallCheck(this, GraphicsData);
                    this.lineWidth = lineWidth;
                    this.nativeLines = nativeLines;
                    this.lineColor = lineColor;
                    this.lineAlpha = lineAlpha;
                    this._lineTint = lineColor;
                    this.fillColor = fillColor;
                    this.fillAlpha = fillAlpha;
                    this._fillTint = fillColor;
                    this.fill = fill;
                    this.holes = [];
                    this.shape = shape;
                    this.type = shape.type;
                }
                GraphicsData.prototype.clone = function clone() {
                    return new GraphicsData(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.fill, this.nativeLines, this.shape);
                };
                GraphicsData.prototype.addHole = function addHole(shape) {
                    this.holes.push(shape);
                };
                GraphicsData.prototype.destroy = function destroy() {
                    this.shape = null;
                    this.holes = null;
                };
                return GraphicsData;
            }();
            exports.default = GraphicsData;
        }, {}],
        55: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _CanvasRenderer = require('../../renderers/canvas/CanvasRenderer');
            var _CanvasRenderer2 = _interopRequireDefault(_CanvasRenderer);
            var _const = require('../../const');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var CanvasGraphicsRenderer = function () {
                function CanvasGraphicsRenderer(renderer) {
                    _classCallCheck(this, CanvasGraphicsRenderer);
                    this.renderer = renderer;
                }
                CanvasGraphicsRenderer.prototype.render = function render(graphics) {
                    var renderer = this.renderer;
                    var context = renderer.context;
                    var worldAlpha = graphics.worldAlpha;
                    var transform = graphics.transform.worldTransform;
                    var resolution = renderer.resolution;
                    if (this._prevTint !== this.tint) {
                        this.dirty = true;
                    }
                    context.setTransform(transform.a * resolution, transform.b * resolution, transform.c * resolution, transform.d * resolution, transform.tx * resolution, transform.ty * resolution);
                    if (graphics.dirty) {
                        this.updateGraphicsTint(graphics);
                        graphics.dirty = false;
                    }
                    renderer.setBlendMode(graphics.blendMode);
                    for (var i = 0; i < graphics.graphicsData.length; i++) {
                        var data = graphics.graphicsData[i];
                        var shape = data.shape;
                        var fillColor = data._fillTint;
                        var lineColor = data._lineTint;
                        context.lineWidth = data.lineWidth;
                        if (data.type === _const.SHAPES.POLY) {
                            context.beginPath();
                            this.renderPolygon(shape.points, shape.closed, context);
                            for (var j = 0; j < data.holes.length; j++) {
                                this.renderPolygon(data.holes[j].points, true, context);
                            }
                            if (data.fill) {
                                context.globalAlpha = data.fillAlpha * worldAlpha;
                                context.fillStyle = '#' + ('00000' + (fillColor | 0).toString(16)).substr(-6);
                                context.fill();
                            }
                            if (data.lineWidth) {
                                context.globalAlpha = data.lineAlpha * worldAlpha;
                                context.strokeStyle = '#' + ('00000' + (lineColor | 0).toString(16)).substr(-6);
                                context.stroke();
                            }
                        } else if (data.type === _const.SHAPES.RECT) {
                            if (data.fillColor || data.fillColor === 0) {
                                context.globalAlpha = data.fillAlpha * worldAlpha;
                                context.fillStyle = '#' + ('00000' + (fillColor | 0).toString(16)).substr(-6);
                                context.fillRect(shape.x, shape.y, shape.width, shape.height);
                            }
                            if (data.lineWidth) {
                                context.globalAlpha = data.lineAlpha * worldAlpha;
                                context.strokeStyle = '#' + ('00000' + (lineColor | 0).toString(16)).substr(-6);
                                context.strokeRect(shape.x, shape.y, shape.width, shape.height);
                            }
                        } else if (data.type === _const.SHAPES.CIRC) {
                            context.beginPath();
                            context.arc(shape.x, shape.y, shape.radius, 0, 2 * Math.PI);
                            context.closePath();
                            if (data.fill) {
                                context.globalAlpha = data.fillAlpha * worldAlpha;
                                context.fillStyle = '#' + ('00000' + (fillColor | 0).toString(16)).substr(-6);
                                context.fill();
                            }
                            if (data.lineWidth) {
                                context.globalAlpha = data.lineAlpha * worldAlpha;
                                context.strokeStyle = '#' + ('00000' + (lineColor | 0).toString(16)).substr(-6);
                                context.stroke();
                            }
                        } else if (data.type === _const.SHAPES.ELIP) {
                            var w = shape.width * 2;
                            var h = shape.height * 2;
                            var x = shape.x - w / 2;
                            var y = shape.y - h / 2;
                            context.beginPath();
                            var kappa = 0.5522848;
                            var ox = w / 2 * kappa;
                            var oy = h / 2 * kappa;
                            var xe = x + w;
                            var ye = y + h;
                            var xm = x + w / 2;
                            var ym = y + h / 2;
                            context.moveTo(x, ym);
                            context.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);
                            context.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);
                            context.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);
                            context.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);
                            context.closePath();
                            if (data.fill) {
                                context.globalAlpha = data.fillAlpha * worldAlpha;
                                context.fillStyle = '#' + ('00000' + (fillColor | 0).toString(16)).substr(-6);
                                context.fill();
                            }
                            if (data.lineWidth) {
                                context.globalAlpha = data.lineAlpha * worldAlpha;
                                context.strokeStyle = '#' + ('00000' + (lineColor | 0).toString(16)).substr(-6);
                                context.stroke();
                            }
                        } else if (data.type === _const.SHAPES.RREC) {
                            var rx = shape.x;
                            var ry = shape.y;
                            var width = shape.width;
                            var height = shape.height;
                            var radius = shape.radius;
                            var maxRadius = Math.min(width, height) / 2 | 0;
                            radius = radius > maxRadius ? maxRadius : radius;
                            context.beginPath();
                            context.moveTo(rx, ry + radius);
                            context.lineTo(rx, ry + height - radius);
                            context.quadraticCurveTo(rx, ry + height, rx + radius, ry + height);
                            context.lineTo(rx + width - radius, ry + height);
                            context.quadraticCurveTo(rx + width, ry + height, rx + width, ry + height - radius);
                            context.lineTo(rx + width, ry + radius);
                            context.quadraticCurveTo(rx + width, ry, rx + width - radius, ry);
                            context.lineTo(rx + radius, ry);
                            context.quadraticCurveTo(rx, ry, rx, ry + radius);
                            context.closePath();
                            if (data.fillColor || data.fillColor === 0) {
                                context.globalAlpha = data.fillAlpha * worldAlpha;
                                context.fillStyle = '#' + ('00000' + (fillColor | 0).toString(16)).substr(-6);
                                context.fill();
                            }
                            if (data.lineWidth) {
                                context.globalAlpha = data.lineAlpha * worldAlpha;
                                context.strokeStyle = '#' + ('00000' + (lineColor | 0).toString(16)).substr(-6);
                                context.stroke();
                            }
                        }
                    }
                };
                CanvasGraphicsRenderer.prototype.updateGraphicsTint = function updateGraphicsTint(graphics) {
                    graphics._prevTint = graphics.tint;
                    var tintR = (graphics.tint >> 16 & 0xFF) / 255;
                    var tintG = (graphics.tint >> 8 & 0xFF) / 255;
                    var tintB = (graphics.tint & 0xFF) / 255;
                    for (var i = 0; i < graphics.graphicsData.length; ++i) {
                        var data = graphics.graphicsData[i];
                        var fillColor = data.fillColor | 0;
                        var lineColor = data.lineColor | 0;
                        data._fillTint = ((fillColor >> 16 & 0xFF) / 255 * tintR * 255 << 16) + ((fillColor >> 8 & 0xFF) / 255 * tintG * 255 << 8) + (fillColor & 0xFF) / 255 * tintB * 255;
                        data._lineTint = ((lineColor >> 16 & 0xFF) / 255 * tintR * 255 << 16) + ((lineColor >> 8 & 0xFF) / 255 * tintG * 255 << 8) + (lineColor & 0xFF) / 255 * tintB * 255;
                    }
                };
                CanvasGraphicsRenderer.prototype.renderPolygon = function renderPolygon(points, close, context) {
                    context.moveTo(points[0], points[1]);
                    for (var j = 1; j < points.length / 2; ++j) {
                        context.lineTo(points[j * 2], points[j * 2 + 1]);
                    }
                    if (close) {
                        context.closePath();
                    }
                };
                CanvasGraphicsRenderer.prototype.destroy = function destroy() {
                    this.renderer = null;
                };
                return CanvasGraphicsRenderer;
            }();
            exports.default = CanvasGraphicsRenderer;
            _CanvasRenderer2.default.registerPlugin('graphics', CanvasGraphicsRenderer);
        }, {
            "../../const": 46,
            "../../renderers/canvas/CanvasRenderer": 77
        }],
        56: [function (require, module, exports) {
            "use strict";
            exports.__esModule = true;
            exports.default = bezierCurveTo;

            function bezierCurveTo(fromX, fromY, cpX, cpY, cpX2, cpY2, toX, toY) {
                var path = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : [];
                var n = 20;
                var dt = 0;
                var dt2 = 0;
                var dt3 = 0;
                var t2 = 0;
                var t3 = 0;
                path.push(fromX, fromY);
                for (var i = 1, j = 0; i <= n; ++i) {
                    j = i / n;
                    dt = 1 - j;
                    dt2 = dt * dt;
                    dt3 = dt2 * dt;
                    t2 = j * j;
                    t3 = t2 * j;
                    path.push(dt3 * fromX + 3 * dt2 * j * cpX + 3 * dt * t2 * cpX2 + t3 * toX, dt3 * fromY + 3 * dt2 * j * cpY + 3 * dt * t2 * cpY2 + t3 * toY);
                }
                return path;
            }
        }, {}],
        57: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _utils = require('../../utils');
            var _const = require('../../const');
            var _ObjectRenderer2 = require('../../renderers/webgl/utils/ObjectRenderer');
            var _ObjectRenderer3 = _interopRequireDefault(_ObjectRenderer2);
            var _WebGLRenderer = require('../../renderers/webgl/WebGLRenderer');
            var _WebGLRenderer2 = _interopRequireDefault(_WebGLRenderer);
            var _WebGLGraphicsData = require('./WebGLGraphicsData');
            var _WebGLGraphicsData2 = _interopRequireDefault(_WebGLGraphicsData);
            var _PrimitiveShader = require('./shaders/PrimitiveShader');
            var _PrimitiveShader2 = _interopRequireDefault(_PrimitiveShader);
            var _buildPoly = require('./utils/buildPoly');
            var _buildPoly2 = _interopRequireDefault(_buildPoly);
            var _buildRectangle = require('./utils/buildRectangle');
            var _buildRectangle2 = _interopRequireDefault(_buildRectangle);
            var _buildRoundedRectangle = require('./utils/buildRoundedRectangle');
            var _buildRoundedRectangle2 = _interopRequireDefault(_buildRoundedRectangle);
            var _buildCircle = require('./utils/buildCircle');
            var _buildCircle2 = _interopRequireDefault(_buildCircle);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var GraphicsRenderer = function (_ObjectRenderer) {
                _inherits(GraphicsRenderer, _ObjectRenderer);

                function GraphicsRenderer(renderer) {
                    _classCallCheck(this, GraphicsRenderer);
                    var _this = _possibleConstructorReturn(this, _ObjectRenderer.call(this, renderer));
                    _this.graphicsDataPool = [];
                    _this.primitiveShader = null;
                    _this.gl = renderer.gl;
                    _this.CONTEXT_UID = 0;
                    return _this;
                }
                GraphicsRenderer.prototype.onContextChange = function onContextChange() {
                    this.gl = this.renderer.gl;
                    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
                    this.primitiveShader = new _PrimitiveShader2.default(this.gl);
                };
                GraphicsRenderer.prototype.destroy = function destroy() {
                    _ObjectRenderer3.default.prototype.destroy.call(this);
                    for (var i = 0; i < this.graphicsDataPool.length; ++i) {
                        this.graphicsDataPool[i].destroy();
                    }
                    this.graphicsDataPool = null;
                };
                GraphicsRenderer.prototype.render = function render(graphics) {
                    var renderer = this.renderer;
                    var gl = renderer.gl;
                    var webGLData = void 0;
                    var webGL = graphics._webGL[this.CONTEXT_UID];
                    if (!webGL || graphics.dirty !== webGL.dirty) {
                        this.updateGraphics(graphics);
                        webGL = graphics._webGL[this.CONTEXT_UID];
                    }
                    var shader = this.primitiveShader;
                    renderer.bindShader(shader);
                    renderer.state.setBlendMode(graphics.blendMode);
                    for (var i = 0, n = webGL.data.length; i < n; i++) {
                        webGLData = webGL.data[i];
                        var shaderTemp = webGLData.shader;
                        renderer.bindShader(shaderTemp);
                        shaderTemp.uniforms.translationMatrix = graphics.transform.worldTransform.toArray(true);
                        shaderTemp.uniforms.tint = (0, _utils.hex2rgb)(graphics.tint);
                        shaderTemp.uniforms.alpha = graphics.worldAlpha;
                        renderer.bindVao(webGLData.vao);
                        if (webGLData.nativeLines) {
                            gl.drawArrays(gl.LINES, 0, webGLData.points.length / 6);
                        } else {
                            webGLData.vao.draw(gl.TRIANGLE_STRIP, webGLData.indices.length);
                        }
                    }
                };
                GraphicsRenderer.prototype.updateGraphics = function updateGraphics(graphics) {
                    var gl = this.renderer.gl;
                    var webGL = graphics._webGL[this.CONTEXT_UID];
                    if (!webGL) {
                        webGL = graphics._webGL[this.CONTEXT_UID] = {
                            lastIndex: 0,
                            data: [],
                            gl: gl,
                            clearDirty: -1,
                            dirty: -1
                        };
                    }
                    webGL.dirty = graphics.dirty;
                    if (graphics.clearDirty !== webGL.clearDirty) {
                        webGL.clearDirty = graphics.clearDirty;
                        for (var i = 0; i < webGL.data.length; i++) {
                            this.graphicsDataPool.push(webGL.data[i]);
                        }
                        webGL.data.length = 0;
                        webGL.lastIndex = 0;
                    }
                    var webGLData = void 0;
                    var webGLDataNativeLines = void 0;
                    for (var _i = webGL.lastIndex; _i < graphics.graphicsData.length; _i++) {
                        var data = graphics.graphicsData[_i];
                        webGLData = this.getWebGLData(webGL, 0);
                        if (data.nativeLines && data.lineWidth) {
                            webGLDataNativeLines = this.getWebGLData(webGL, 0, true);
                            webGL.lastIndex++;
                        }
                        if (data.type === _const.SHAPES.POLY) {
                            (0, _buildPoly2.default)(data, webGLData, webGLDataNativeLines);
                        }
                        if (data.type === _const.SHAPES.RECT) {
                            (0, _buildRectangle2.default)(data, webGLData, webGLDataNativeLines);
                        } else if (data.type === _const.SHAPES.CIRC || data.type === _const.SHAPES.ELIP) {
                            (0, _buildCircle2.default)(data, webGLData, webGLDataNativeLines);
                        } else if (data.type === _const.SHAPES.RREC) {
                            (0, _buildRoundedRectangle2.default)(data, webGLData, webGLDataNativeLines);
                        }
                        webGL.lastIndex++;
                    }
                    this.renderer.bindVao(null);
                    for (var _i2 = 0; _i2 < webGL.data.length; _i2++) {
                        webGLData = webGL.data[_i2];
                        if (webGLData.dirty) {
                            webGLData.upload();
                        }
                    }
                };
                GraphicsRenderer.prototype.getWebGLData = function getWebGLData(gl, type, nativeLines) {
                    var webGLData = gl.data[gl.data.length - 1];
                    if (!webGLData || webGLData.nativeLines !== nativeLines || webGLData.points.length > 320000) {
                        webGLData = this.graphicsDataPool.pop() || new _WebGLGraphicsData2.default(this.renderer.gl, this.primitiveShader, this.renderer.state.attribsState);
                        webGLData.nativeLines = nativeLines;
                        webGLData.reset(type);
                        gl.data.push(webGLData);
                    }
                    webGLData.dirty = true;
                    return webGLData;
                };
                return GraphicsRenderer;
            }(_ObjectRenderer3.default);
            exports.default = GraphicsRenderer;
            _WebGLRenderer2.default.registerPlugin('graphics', GraphicsRenderer);
        }, {
            "../../const": 46,
            "../../renderers/webgl/WebGLRenderer": 84,
            "../../renderers/webgl/utils/ObjectRenderer": 94,
            "../../utils": 125,
            "./WebGLGraphicsData": 58,
            "./shaders/PrimitiveShader": 59,
            "./utils/buildCircle": 60,
            "./utils/buildPoly": 62,
            "./utils/buildRectangle": 63,
            "./utils/buildRoundedRectangle": 64
        }],
        58: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _pixiGlCore = require('pixi-gl-core');
            var _pixiGlCore2 = _interopRequireDefault(_pixiGlCore);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var WebGLGraphicsData = function () {
                function WebGLGraphicsData(gl, shader, attribsState) {
                    _classCallCheck(this, WebGLGraphicsData);
                    this.gl = gl;
                    this.color = [0, 0, 0];
                    this.points = [];
                    this.indices = [];
                    this.buffer = _pixiGlCore2.default.GLBuffer.createVertexBuffer(gl);
                    this.indexBuffer = _pixiGlCore2.default.GLBuffer.createIndexBuffer(gl);
                    this.dirty = true;
                    this.nativeLines = false;
                    this.glPoints = null;
                    this.glIndices = null;
                    this.shader = shader;
                    this.vao = new _pixiGlCore2.default.VertexArrayObject(gl, attribsState).addIndex(this.indexBuffer).addAttribute(this.buffer, shader.attributes.aVertexPosition, gl.FLOAT, false, 4 * 6, 0).addAttribute(this.buffer, shader.attributes.aColor, gl.FLOAT, false, 4 * 6, 2 * 4);
                }
                WebGLGraphicsData.prototype.reset = function reset() {
                    this.points.length = 0;
                    this.indices.length = 0;
                };
                WebGLGraphicsData.prototype.upload = function upload() {
                    this.glPoints = new Float32Array(this.points);
                    this.buffer.upload(this.glPoints);
                    this.glIndices = new Uint16Array(this.indices);
                    this.indexBuffer.upload(this.glIndices);
                    this.dirty = false;
                };
                WebGLGraphicsData.prototype.destroy = function destroy() {
                    this.color = null;
                    this.points = null;
                    this.indices = null;
                    this.vao.destroy();
                    this.buffer.destroy();
                    this.indexBuffer.destroy();
                    this.gl = null;
                    this.buffer = null;
                    this.indexBuffer = null;
                    this.glPoints = null;
                    this.glIndices = null;
                };
                return WebGLGraphicsData;
            }();
            exports.default = WebGLGraphicsData;
        }, {
            "pixi-gl-core": 15
        }],
        59: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _Shader2 = require('../../../Shader');
            var _Shader3 = _interopRequireDefault(_Shader2);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var PrimitiveShader = function (_Shader) {
                _inherits(PrimitiveShader, _Shader);

                function PrimitiveShader(gl) {
                    _classCallCheck(this, PrimitiveShader);
                    return _possibleConstructorReturn(this, _Shader.call(this, gl, ['attribute vec2 aVertexPosition;', 'attribute vec4 aColor;', 'uniform mat3 translationMatrix;', 'uniform mat3 projectionMatrix;', 'uniform float alpha;', 'uniform vec3 tint;', 'varying vec4 vColor;', 'void main(void){', '   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);', '   vColor = aColor * vec4(tint * alpha, alpha);', '}'].join('\n'), ['varying vec4 vColor;', 'void main(void){', '   gl_FragColor = vColor;', '}'].join('\n')));
                }
                return PrimitiveShader;
            }(_Shader3.default);
            exports.default = PrimitiveShader;
        }, {
            "../../../Shader": 44
        }],
        60: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = buildCircle;
            var _buildLine = require('./buildLine');
            var _buildLine2 = _interopRequireDefault(_buildLine);
            var _const = require('../../../const');
            var _utils = require('../../../utils');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function buildCircle(graphicsData, webGLData, webGLDataNativeLines) {
                var circleData = graphicsData.shape;
                var x = circleData.x;
                var y = circleData.y;
                var width = void 0;
                var height = void 0;
                if (graphicsData.type === _const.SHAPES.CIRC) {
                    width = circleData.radius;
                    height = circleData.radius;
                } else {
                    width = circleData.width;
                    height = circleData.height;
                }
                if (width === 0 || height === 0) {
                    return;
                }
                var totalSegs = Math.floor(30 * Math.sqrt(circleData.radius)) || Math.floor(15 * Math.sqrt(circleData.width + circleData.height));
                var seg = Math.PI * 2 / totalSegs;
                if (graphicsData.fill) {
                    var color = (0, _utils.hex2rgb)(graphicsData.fillColor);
                    var alpha = graphicsData.fillAlpha;
                    var r = color[0] * alpha;
                    var g = color[1] * alpha;
                    var b = color[2] * alpha;
                    var verts = webGLData.points;
                    var indices = webGLData.indices;
                    var vecPos = verts.length / 6;
                    indices.push(vecPos);
                    for (var i = 0; i < totalSegs + 1; i++) {
                        verts.push(x, y, r, g, b, alpha);
                        verts.push(x + Math.sin(seg * i) * width, y + Math.cos(seg * i) * height, r, g, b, alpha);
                        indices.push(vecPos++, vecPos++);
                    }
                    indices.push(vecPos - 1);
                }
                if (graphicsData.lineWidth) {
                    var tempPoints = graphicsData.points;
                    graphicsData.points = [];
                    for (var _i = 0; _i < totalSegs + 1; _i++) {
                        graphicsData.points.push(x + Math.sin(seg * _i) * width, y + Math.cos(seg * _i) * height);
                    }
                    (0, _buildLine2.default)(graphicsData, webGLData, webGLDataNativeLines);
                    graphicsData.points = tempPoints;
                }
            }
        }, {
            "../../../const": 46,
            "../../../utils": 125,
            "./buildLine": 61
        }],
        61: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = function (graphicsData, webGLData, webGLDataNativeLines) {
                if (graphicsData.nativeLines) {
                    buildNativeLine(graphicsData, webGLDataNativeLines);
                } else {
                    buildLine(graphicsData, webGLData);
                }
            };
            var _math = require('../../../math');
            var _utils = require('../../../utils');

            function buildLine(graphicsData, webGLData) {
                var points = graphicsData.points;
                if (points.length === 0) {
                    return;
                }
                var firstPoint = new _math.Point(points[0], points[1]);
                var lastPoint = new _math.Point(points[points.length - 2], points[points.length - 1]);
                if (firstPoint.x === lastPoint.x && firstPoint.y === lastPoint.y) {
                    points = points.slice();
                    points.pop();
                    points.pop();
                    lastPoint = new _math.Point(points[points.length - 2], points[points.length - 1]);
                    var midPointX = lastPoint.x + (firstPoint.x - lastPoint.x) * 0.5;
                    var midPointY = lastPoint.y + (firstPoint.y - lastPoint.y) * 0.5;
                    points.unshift(midPointX, midPointY);
                    points.push(midPointX, midPointY);
                }
                var verts = webGLData.points;
                var indices = webGLData.indices;
                var length = points.length / 2;
                var indexCount = points.length;
                var indexStart = verts.length / 6;
                var width = graphicsData.lineWidth / 2;
                var color = (0, _utils.hex2rgb)(graphicsData.lineColor);
                var alpha = graphicsData.lineAlpha;
                var r = color[0] * alpha;
                var g = color[1] * alpha;
                var b = color[2] * alpha;
                var p1x = points[0];
                var p1y = points[1];
                var p2x = points[2];
                var p2y = points[3];
                var p3x = 0;
                var p3y = 0;
                var perpx = -(p1y - p2y);
                var perpy = p1x - p2x;
                var perp2x = 0;
                var perp2y = 0;
                var perp3x = 0;
                var perp3y = 0;
                var dist = Math.sqrt(perpx * perpx + perpy * perpy);
                perpx /= dist;
                perpy /= dist;
                perpx *= width;
                perpy *= width;
                verts.push(p1x - perpx, p1y - perpy, r, g, b, alpha);
                verts.push(p1x + perpx, p1y + perpy, r, g, b, alpha);
                for (var i = 1; i < length - 1; ++i) {
                    p1x = points[(i - 1) * 2];
                    p1y = points[(i - 1) * 2 + 1];
                    p2x = points[i * 2];
                    p2y = points[i * 2 + 1];
                    p3x = points[(i + 1) * 2];
                    p3y = points[(i + 1) * 2 + 1];
                    perpx = -(p1y - p2y);
                    perpy = p1x - p2x;
                    dist = Math.sqrt(perpx * perpx + perpy * perpy);
                    perpx /= dist;
                    perpy /= dist;
                    perpx *= width;
                    perpy *= width;
                    perp2x = -(p2y - p3y);
                    perp2y = p2x - p3x;
                    dist = Math.sqrt(perp2x * perp2x + perp2y * perp2y);
                    perp2x /= dist;
                    perp2y /= dist;
                    perp2x *= width;
                    perp2y *= width;
                    var a1 = -perpy + p1y - (-perpy + p2y);
                    var b1 = -perpx + p2x - (-perpx + p1x);
                    var c1 = (-perpx + p1x) * (-perpy + p2y) - (-perpx + p2x) * (-perpy + p1y);
                    var a2 = -perp2y + p3y - (-perp2y + p2y);
                    var b2 = -perp2x + p2x - (-perp2x + p3x);
                    var c2 = (-perp2x + p3x) * (-perp2y + p2y) - (-perp2x + p2x) * (-perp2y + p3y);
                    var denom = a1 * b2 - a2 * b1;
                    if (Math.abs(denom) < 0.1) {
                        denom += 10.1;
                        verts.push(p2x - perpx, p2y - perpy, r, g, b, alpha);
                        verts.push(p2x + perpx, p2y + perpy, r, g, b, alpha);
                        continue;
                    }
                    var px = (b1 * c2 - b2 * c1) / denom;
                    var py = (a2 * c1 - a1 * c2) / denom;
                    var pdist = (px - p2x) * (px - p2x) + (py - p2y) * (py - p2y);
                    if (pdist > 196 * width * width) {
                        perp3x = perpx - perp2x;
                        perp3y = perpy - perp2y;
                        dist = Math.sqrt(perp3x * perp3x + perp3y * perp3y);
                        perp3x /= dist;
                        perp3y /= dist;
                        perp3x *= width;
                        perp3y *= width;
                        verts.push(p2x - perp3x, p2y - perp3y);
                        verts.push(r, g, b, alpha);
                        verts.push(p2x + perp3x, p2y + perp3y);
                        verts.push(r, g, b, alpha);
                        verts.push(p2x - perp3x, p2y - perp3y);
                        verts.push(r, g, b, alpha);
                        indexCount++;
                    } else {
                        verts.push(px, py);
                        verts.push(r, g, b, alpha);
                        verts.push(p2x - (px - p2x), p2y - (py - p2y));
                        verts.push(r, g, b, alpha);
                    }
                }
                p1x = points[(length - 2) * 2];
                p1y = points[(length - 2) * 2 + 1];
                p2x = points[(length - 1) * 2];
                p2y = points[(length - 1) * 2 + 1];
                perpx = -(p1y - p2y);
                perpy = p1x - p2x;
                dist = Math.sqrt(perpx * perpx + perpy * perpy);
                perpx /= dist;
                perpy /= dist;
                perpx *= width;
                perpy *= width;
                verts.push(p2x - perpx, p2y - perpy);
                verts.push(r, g, b, alpha);
                verts.push(p2x + perpx, p2y + perpy);
                verts.push(r, g, b, alpha);
                indices.push(indexStart);
                for (var _i = 0; _i < indexCount; ++_i) {
                    indices.push(indexStart++);
                }
                indices.push(indexStart - 1);
            }

            function buildNativeLine(graphicsData, webGLData) {
                var i = 0;
                var points = graphicsData.points;
                if (points.length === 0) return;
                var verts = webGLData.points;
                var length = points.length / 2;
                var color = (0, _utils.hex2rgb)(graphicsData.lineColor);
                var alpha = graphicsData.lineAlpha;
                var r = color[0] * alpha;
                var g = color[1] * alpha;
                var b = color[2] * alpha;
                for (i = 1; i < length; i++) {
                    var p1x = points[(i - 1) * 2];
                    var p1y = points[(i - 1) * 2 + 1];
                    var p2x = points[i * 2];
                    var p2y = points[i * 2 + 1];
                    verts.push(p1x, p1y);
                    verts.push(r, g, b, alpha);
                    verts.push(p2x, p2y);
                    verts.push(r, g, b, alpha);
                }
            }
        }, {
            "../../../math": 70,
            "../../../utils": 125
        }],
        62: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = buildPoly;
            var _buildLine = require('./buildLine');
            var _buildLine2 = _interopRequireDefault(_buildLine);
            var _utils = require('../../../utils');
            var _earcut = require('earcut');
            var _earcut2 = _interopRequireDefault(_earcut);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function buildPoly(graphicsData, webGLData, webGLDataNativeLines) {
                graphicsData.points = graphicsData.shape.points.slice();
                var points = graphicsData.points;
                if (graphicsData.fill && points.length >= 6) {
                    var holeArray = [];
                    var holes = graphicsData.holes;
                    for (var i = 0; i < holes.length; i++) {
                        var hole = holes[i];
                        holeArray.push(points.length / 2);
                        points = points.concat(hole.points);
                    }
                    var verts = webGLData.points;
                    var indices = webGLData.indices;
                    var length = points.length / 2;
                    var color = (0, _utils.hex2rgb)(graphicsData.fillColor);
                    var alpha = graphicsData.fillAlpha;
                    var r = color[0] * alpha;
                    var g = color[1] * alpha;
                    var b = color[2] * alpha;
                    var triangles = (0, _earcut2.default)(points, holeArray, 2);
                    if (!triangles) {
                        return;
                    }
                    var vertPos = verts.length / 6;
                    for (var _i = 0; _i < triangles.length; _i += 3) {
                        indices.push(triangles[_i] + vertPos);
                        indices.push(triangles[_i] + vertPos);
                        indices.push(triangles[_i + 1] + vertPos);
                        indices.push(triangles[_i + 2] + vertPos);
                        indices.push(triangles[_i + 2] + vertPos);
                    }
                    for (var _i2 = 0; _i2 < length; _i2++) {
                        verts.push(points[_i2 * 2], points[_i2 * 2 + 1], r, g, b, alpha);
                    }
                }
                if (graphicsData.lineWidth > 0) {
                    (0, _buildLine2.default)(graphicsData, webGLData, webGLDataNativeLines);
                }
            }
        }, {
            "../../../utils": 125,
            "./buildLine": 61,
            "earcut": 2
        }],
        63: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = buildRectangle;
            var _buildLine = require('./buildLine');
            var _buildLine2 = _interopRequireDefault(_buildLine);
            var _utils = require('../../../utils');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function buildRectangle(graphicsData, webGLData, webGLDataNativeLines) {
                var rectData = graphicsData.shape;
                var x = rectData.x;
                var y = rectData.y;
                var width = rectData.width;
                var height = rectData.height;
                if (graphicsData.fill) {
                    var color = (0, _utils.hex2rgb)(graphicsData.fillColor);
                    var alpha = graphicsData.fillAlpha;
                    var r = color[0] * alpha;
                    var g = color[1] * alpha;
                    var b = color[2] * alpha;
                    var verts = webGLData.points;
                    var indices = webGLData.indices;
                    var vertPos = verts.length / 6;
                    verts.push(x, y);
                    verts.push(r, g, b, alpha);
                    verts.push(x + width, y);
                    verts.push(r, g, b, alpha);
                    verts.push(x, y + height);
                    verts.push(r, g, b, alpha);
                    verts.push(x + width, y + height);
                    verts.push(r, g, b, alpha);
                    indices.push(vertPos, vertPos, vertPos + 1, vertPos + 2, vertPos + 3, vertPos + 3);
                }
                if (graphicsData.lineWidth) {
                    var tempPoints = graphicsData.points;
                    graphicsData.points = [x, y, x + width, y, x + width, y + height, x, y + height, x, y];
                    (0, _buildLine2.default)(graphicsData, webGLData, webGLDataNativeLines);
                    graphicsData.points = tempPoints;
                }
            }
        }, {
            "../../../utils": 125,
            "./buildLine": 61
        }],
        64: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = buildRoundedRectangle;
            var _earcut = require('earcut');
            var _earcut2 = _interopRequireDefault(_earcut);
            var _buildLine = require('./buildLine');
            var _buildLine2 = _interopRequireDefault(_buildLine);
            var _utils = require('../../../utils');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function buildRoundedRectangle(graphicsData, webGLData, webGLDataNativeLines) {
                var rrectData = graphicsData.shape;
                var x = rrectData.x;
                var y = rrectData.y;
                var width = rrectData.width;
                var height = rrectData.height;
                var radius = rrectData.radius;
                var recPoints = [];
                recPoints.push(x, y + radius);
                quadraticBezierCurve(x, y + height - radius, x, y + height, x + radius, y + height, recPoints);
                quadraticBezierCurve(x + width - radius, y + height, x + width, y + height, x + width, y + height - radius, recPoints);
                quadraticBezierCurve(x + width, y + radius, x + width, y, x + width - radius, y, recPoints);
                quadraticBezierCurve(x + radius, y, x, y, x, y + radius + 0.0000000001, recPoints);
                if (graphicsData.fill) {
                    var color = (0, _utils.hex2rgb)(graphicsData.fillColor);
                    var alpha = graphicsData.fillAlpha;
                    var r = color[0] * alpha;
                    var g = color[1] * alpha;
                    var b = color[2] * alpha;
                    var verts = webGLData.points;
                    var indices = webGLData.indices;
                    var vecPos = verts.length / 6;
                    var triangles = (0, _earcut2.default)(recPoints, null, 2);
                    for (var i = 0, j = triangles.length; i < j; i += 3) {
                        indices.push(triangles[i] + vecPos);
                        indices.push(triangles[i] + vecPos);
                        indices.push(triangles[i + 1] + vecPos);
                        indices.push(triangles[i + 2] + vecPos);
                        indices.push(triangles[i + 2] + vecPos);
                    }
                    for (var _i = 0, _j = recPoints.length; _i < _j; _i++) {
                        verts.push(recPoints[_i], recPoints[++_i], r, g, b, alpha);
                    }
                }
                if (graphicsData.lineWidth) {
                    var tempPoints = graphicsData.points;
                    graphicsData.points = recPoints;
                    (0, _buildLine2.default)(graphicsData, webGLData, webGLDataNativeLines);
                    graphicsData.points = tempPoints;
                }
            }

            function getPt(n1, n2, perc) {
                var diff = n2 - n1;
                return n1 + diff * perc;
            }

            function quadraticBezierCurve(fromX, fromY, cpX, cpY, toX, toY) {
                var out = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : [];
                var n = 20;
                var points = out;
                var xa = 0;
                var ya = 0;
                var xb = 0;
                var yb = 0;
                var x = 0;
                var y = 0;
                for (var i = 0, j = 0; i <= n; ++i) {
                    j = i / n;
                    xa = getPt(fromX, cpX, j);
                    ya = getPt(fromY, cpY, j);
                    xb = getPt(cpX, toX, j);
                    yb = getPt(cpY, toY, j);
                    x = getPt(xa, xb, j);
                    y = getPt(ya, yb, j);
                    points.push(x, y);
                }
                return points;
            }
        }, {
            "../../../utils": 125,
            "./buildLine": 61,
            "earcut": 2
        }],
        65: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.autoDetectRenderer = exports.Application = exports.Filter = exports.SpriteMaskFilter = exports.Quad = exports.RenderTarget = exports.ObjectRenderer = exports.WebGLManager = exports.Shader = exports.CanvasRenderTarget = exports.TextureUvs = exports.VideoBaseTexture = exports.BaseRenderTexture = exports.RenderTexture = exports.BaseTexture = exports.TextureMatrix = exports.Texture = exports.Spritesheet = exports.CanvasGraphicsRenderer = exports.GraphicsRenderer = exports.GraphicsData = exports.Graphics = exports.TextMetrics = exports.TextStyle = exports.Text = exports.SpriteRenderer = exports.CanvasTinter = exports.CanvasSpriteRenderer = exports.Sprite = exports.TransformBase = exports.TransformStatic = exports.Transform = exports.Container = exports.DisplayObject = exports.Bounds = exports.glCore = exports.WebGLRenderer = exports.CanvasRenderer = exports.ticker = exports.utils = exports.settings = undefined;
            var _const = require('./const');
            Object.keys(_const).forEach(function (key) {
                if (key === "default" || key === "__esModule") return;
                Object.defineProperty(exports, key, {
                    enumerable: true,
                    get: function get() {
                        return _const[key];
                    }
                });
            });
            var _math = require('./math');
            Object.keys(_math).forEach(function (key) {
                if (key === "default" || key === "__esModule") return;
                Object.defineProperty(exports, key, {
                    enumerable: true,
                    get: function get() {
                        return _math[key];
                    }
                });
            });
            var _pixiGlCore = require('pixi-gl-core');
            Object.defineProperty(exports, 'glCore', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_pixiGlCore).default;
                }
            });
            var _Bounds = require('./display/Bounds');
            Object.defineProperty(exports, 'Bounds', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Bounds).default;
                }
            });
            var _DisplayObject = require('./display/DisplayObject');
            Object.defineProperty(exports, 'DisplayObject', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_DisplayObject).default;
                }
            });
            var _Container = require('./display/Container');
            Object.defineProperty(exports, 'Container', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Container).default;
                }
            });
            var _Transform = require('./display/Transform');
            Object.defineProperty(exports, 'Transform', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Transform).default;
                }
            });
            var _TransformStatic = require('./display/TransformStatic');
            Object.defineProperty(exports, 'TransformStatic', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_TransformStatic).default;
                }
            });
            var _TransformBase = require('./display/TransformBase');
            Object.defineProperty(exports, 'TransformBase', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_TransformBase).default;
                }
            });
            var _Sprite = require('./sprites/Sprite');
            Object.defineProperty(exports, 'Sprite', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Sprite).default;
                }
            });
            var _CanvasSpriteRenderer = require('./sprites/canvas/CanvasSpriteRenderer');
            Object.defineProperty(exports, 'CanvasSpriteRenderer', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_CanvasSpriteRenderer).default;
                }
            });
            var _CanvasTinter = require('./sprites/canvas/CanvasTinter');
            Object.defineProperty(exports, 'CanvasTinter', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_CanvasTinter).default;
                }
            });
            var _SpriteRenderer = require('./sprites/webgl/SpriteRenderer');
            Object.defineProperty(exports, 'SpriteRenderer', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_SpriteRenderer).default;
                }
            });
            var _Text = require('./text/Text');
            Object.defineProperty(exports, 'Text', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Text).default;
                }
            });
            var _TextStyle = require('./text/TextStyle');
            Object.defineProperty(exports, 'TextStyle', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_TextStyle).default;
                }
            });
            var _TextMetrics = require('./text/TextMetrics');
            Object.defineProperty(exports, 'TextMetrics', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_TextMetrics).default;
                }
            });
            var _Graphics = require('./graphics/Graphics');
            Object.defineProperty(exports, 'Graphics', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Graphics).default;
                }
            });
            var _GraphicsData = require('./graphics/GraphicsData');
            Object.defineProperty(exports, 'GraphicsData', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_GraphicsData).default;
                }
            });
            var _GraphicsRenderer = require('./graphics/webgl/GraphicsRenderer');
            Object.defineProperty(exports, 'GraphicsRenderer', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_GraphicsRenderer).default;
                }
            });
            var _CanvasGraphicsRenderer = require('./graphics/canvas/CanvasGraphicsRenderer');
            Object.defineProperty(exports, 'CanvasGraphicsRenderer', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_CanvasGraphicsRenderer).default;
                }
            });
            var _Spritesheet = require('./textures/Spritesheet');
            Object.defineProperty(exports, 'Spritesheet', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Spritesheet).default;
                }
            });
            var _Texture = require('./textures/Texture');
            Object.defineProperty(exports, 'Texture', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Texture).default;
                }
            });
            var _TextureMatrix = require('./textures/TextureMatrix');
            Object.defineProperty(exports, 'TextureMatrix', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_TextureMatrix).default;
                }
            });
            var _BaseTexture = require('./textures/BaseTexture');
            Object.defineProperty(exports, 'BaseTexture', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_BaseTexture).default;
                }
            });
            var _RenderTexture = require('./textures/RenderTexture');
            Object.defineProperty(exports, 'RenderTexture', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_RenderTexture).default;
                }
            });
            var _BaseRenderTexture = require('./textures/BaseRenderTexture');
            Object.defineProperty(exports, 'BaseRenderTexture', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_BaseRenderTexture).default;
                }
            });
            var _VideoBaseTexture = require('./textures/VideoBaseTexture');
            Object.defineProperty(exports, 'VideoBaseTexture', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_VideoBaseTexture).default;
                }
            });
            var _TextureUvs = require('./textures/TextureUvs');
            Object.defineProperty(exports, 'TextureUvs', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_TextureUvs).default;
                }
            });
            var _CanvasRenderTarget = require('./renderers/canvas/utils/CanvasRenderTarget');
            Object.defineProperty(exports, 'CanvasRenderTarget', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_CanvasRenderTarget).default;
                }
            });
            var _Shader = require('./Shader');
            Object.defineProperty(exports, 'Shader', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Shader).default;
                }
            });
            var _WebGLManager = require('./renderers/webgl/managers/WebGLManager');
            Object.defineProperty(exports, 'WebGLManager', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_WebGLManager).default;
                }
            });
            var _ObjectRenderer = require('./renderers/webgl/utils/ObjectRenderer');
            Object.defineProperty(exports, 'ObjectRenderer', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_ObjectRenderer).default;
                }
            });
            var _RenderTarget = require('./renderers/webgl/utils/RenderTarget');
            Object.defineProperty(exports, 'RenderTarget', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_RenderTarget).default;
                }
            });
            var _Quad = require('./renderers/webgl/utils/Quad');
            Object.defineProperty(exports, 'Quad', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Quad).default;
                }
            });
            var _SpriteMaskFilter = require('./renderers/webgl/filters/spriteMask/SpriteMaskFilter');
            Object.defineProperty(exports, 'SpriteMaskFilter', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_SpriteMaskFilter).default;
                }
            });
            var _Filter = require('./renderers/webgl/filters/Filter');
            Object.defineProperty(exports, 'Filter', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Filter).default;
                }
            });
            var _Application = require('./Application');
            Object.defineProperty(exports, 'Application', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Application).default;
                }
            });
            var _autoDetectRenderer = require('./autoDetectRenderer');
            Object.defineProperty(exports, 'autoDetectRenderer', {
                enumerable: true,
                get: function get() {
                    return _autoDetectRenderer.autoDetectRenderer;
                }
            });
            var _utils = require('./utils');
            var utils = _interopRequireWildcard(_utils);
            var _ticker = require('./ticker');
            var ticker = _interopRequireWildcard(_ticker);
            var _settings = require('./settings');
            var _settings2 = _interopRequireDefault(_settings);
            var _CanvasRenderer = require('./renderers/canvas/CanvasRenderer');
            var _CanvasRenderer2 = _interopRequireDefault(_CanvasRenderer);
            var _WebGLRenderer = require('./renderers/webgl/WebGLRenderer');
            var _WebGLRenderer2 = _interopRequireDefault(_WebGLRenderer);

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
            exports.settings = _settings2.default;
            exports.utils = utils;
            exports.ticker = ticker;
            exports.CanvasRenderer = _CanvasRenderer2.default;
            exports.WebGLRenderer = _WebGLRenderer2.default;
        }, {
            "./Application": 43,
            "./Shader": 44,
            "./autoDetectRenderer": 45,
            "./const": 46,
            "./display/Bounds": 47,
            "./display/Container": 48,
            "./display/DisplayObject": 49,
            "./display/Transform": 50,
            "./display/TransformBase": 51,
            "./display/TransformStatic": 52,
            "./graphics/Graphics": 53,
            "./graphics/GraphicsData": 54,
            "./graphics/canvas/CanvasGraphicsRenderer": 55,
            "./graphics/webgl/GraphicsRenderer": 57,
            "./math": 70,
            "./renderers/canvas/CanvasRenderer": 77,
            "./renderers/canvas/utils/CanvasRenderTarget": 79,
            "./renderers/webgl/WebGLRenderer": 84,
            "./renderers/webgl/filters/Filter": 86,
            "./renderers/webgl/filters/spriteMask/SpriteMaskFilter": 89,
            "./renderers/webgl/managers/WebGLManager": 93,
            "./renderers/webgl/utils/ObjectRenderer": 94,
            "./renderers/webgl/utils/Quad": 95,
            "./renderers/webgl/utils/RenderTarget": 96,
            "./settings": 101,
            "./sprites/Sprite": 102,
            "./sprites/canvas/CanvasSpriteRenderer": 103,
            "./sprites/canvas/CanvasTinter": 104,
            "./sprites/webgl/SpriteRenderer": 106,
            "./text/Text": 108,
            "./text/TextMetrics": 109,
            "./text/TextStyle": 110,
            "./textures/BaseRenderTexture": 111,
            "./textures/BaseTexture": 112,
            "./textures/RenderTexture": 113,
            "./textures/Spritesheet": 114,
            "./textures/Texture": 115,
            "./textures/TextureMatrix": 116,
            "./textures/TextureUvs": 117,
            "./textures/VideoBaseTexture": 118,
            "./ticker": 121,
            "./utils": 125,
            "pixi-gl-core": 15
        }],
        66: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _Matrix = require('./Matrix');
            var _Matrix2 = _interopRequireDefault(_Matrix);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
            var ux = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1];
            var uy = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1];
            var vx = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1];
            var vy = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1];
            var tempMatrices = [];
            var mul = [];

            function signum(x) {
                if (x < 0) {
                    return -1;
                }
                if (x > 0) {
                    return 1;
                }
                return 0;
            }

            function init() {
                for (var i = 0; i < 16; i++) {
                    var row = [];
                    mul.push(row);
                    for (var j = 0; j < 16; j++) {
                        var _ux = signum(ux[i] * ux[j] + vx[i] * uy[j]);
                        var _uy = signum(uy[i] * ux[j] + vy[i] * uy[j]);
                        var _vx = signum(ux[i] * vx[j] + vx[i] * vy[j]);
                        var _vy = signum(uy[i] * vx[j] + vy[i] * vy[j]);
                        for (var k = 0; k < 16; k++) {
                            if (ux[k] === _ux && uy[k] === _uy && vx[k] === _vx && vy[k] === _vy) {
                                row.push(k);
                                break;
                            }
                        }
                    }
                }
                for (var _i = 0; _i < 16; _i++) {
                    var mat = new _Matrix2.default();
                    mat.set(ux[_i], uy[_i], vx[_i], vy[_i], 0, 0);
                    tempMatrices.push(mat);
                }
            }
            init();
            var GroupD8 = {
                E: 0,
                SE: 1,
                S: 2,
                SW: 3,
                W: 4,
                NW: 5,
                N: 6,
                NE: 7,
                MIRROR_VERTICAL: 8,
                MIRROR_HORIZONTAL: 12,
                uX: function uX(ind) {
                    return ux[ind];
                },
                uY: function uY(ind) {
                    return uy[ind];
                },
                vX: function vX(ind) {
                    return vx[ind];
                },
                vY: function vY(ind) {
                    return vy[ind];
                },
                inv: function inv(rotation) {
                    if (rotation & 8) {
                        return rotation & 15;
                    }
                    return -rotation & 7;
                },
                add: function add(rotationSecond, rotationFirst) {
                    return mul[rotationSecond][rotationFirst];
                },
                sub: function sub(rotationSecond, rotationFirst) {
                    return mul[rotationSecond][GroupD8.inv(rotationFirst)];
                },
                rotate180: function rotate180(rotation) {
                    return rotation ^ 4;
                },
                isVertical: function isVertical(rotation) {
                    return (rotation & 3) === 2;
                },
                byDirection: function byDirection(dx, dy) {
                    if (Math.abs(dx) * 2 <= Math.abs(dy)) {
                        if (dy >= 0) {
                            return GroupD8.S;
                        }
                        return GroupD8.N;
                    } else if (Math.abs(dy) * 2 <= Math.abs(dx)) {
                        if (dx > 0) {
                            return GroupD8.E;
                        }
                        return GroupD8.W;
                    } else if (dy > 0) {
                        if (dx > 0) {
                            return GroupD8.SE;
                        }
                        return GroupD8.SW;
                    } else if (dx > 0) {
                        return GroupD8.NE;
                    }
                    return GroupD8.NW;
                },
                matrixAppendRotationInv: function matrixAppendRotationInv(matrix, rotation) {
                    var tx = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
                    var ty = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
                    var mat = tempMatrices[GroupD8.inv(rotation)];
                    mat.tx = tx;
                    mat.ty = ty;
                    matrix.append(mat);
                }
            };
            exports.default = GroupD8;
        }, {
            "./Matrix": 67
        }],
        67: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _Point = require('./Point');
            var _Point2 = _interopRequireDefault(_Point);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var Matrix = function () {
                function Matrix() {
                    var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
                    var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
                    var c = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
                    var d = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;
                    var tx = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;
                    var ty = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;
                    _classCallCheck(this, Matrix);
                    this.a = a;
                    this.b = b;
                    this.c = c;
                    this.d = d;
                    this.tx = tx;
                    this.ty = ty;
                    this.array = null;
                }
                Matrix.prototype.fromArray = function fromArray(array) {
                    this.a = array[0];
                    this.b = array[1];
                    this.c = array[3];
                    this.d = array[4];
                    this.tx = array[2];
                    this.ty = array[5];
                };
                Matrix.prototype.set = function set(a, b, c, d, tx, ty) {
                    this.a = a;
                    this.b = b;
                    this.c = c;
                    this.d = d;
                    this.tx = tx;
                    this.ty = ty;
                    return this;
                };
                Matrix.prototype.toArray = function toArray(transpose, out) {
                    if (!this.array) {
                        this.array = new Float32Array(9);
                    }
                    var array = out || this.array;
                    if (transpose) {
                        array[0] = this.a;
                        array[1] = this.b;
                        array[2] = 0;
                        array[3] = this.c;
                        array[4] = this.d;
                        array[5] = 0;
                        array[6] = this.tx;
                        array[7] = this.ty;
                        array[8] = 1;
                    } else {
                        array[0] = this.a;
                        array[1] = this.c;
                        array[2] = this.tx;
                        array[3] = this.b;
                        array[4] = this.d;
                        array[5] = this.ty;
                        array[6] = 0;
                        array[7] = 0;
                        array[8] = 1;
                    }
                    return array;
                };
                Matrix.prototype.apply = function apply(pos, newPos) {
                    newPos = newPos || new _Point2.default();
                    var x = pos.x;
                    var y = pos.y;
                    newPos.x = this.a * x + this.c * y + this.tx;
                    newPos.y = this.b * x + this.d * y + this.ty;
                    return newPos;
                };
                Matrix.prototype.applyInverse = function applyInverse(pos, newPos) {
                    newPos = newPos || new _Point2.default();
                    var id = 1 / (this.a * this.d + this.c * -this.b);
                    var x = pos.x;
                    var y = pos.y;
                    newPos.x = this.d * id * x + -this.c * id * y + (this.ty * this.c - this.tx * this.d) * id;
                    newPos.y = this.a * id * y + -this.b * id * x + (-this.ty * this.a + this.tx * this.b) * id;
                    return newPos;
                };
                Matrix.prototype.translate = function translate(x, y) {
                    this.tx += x;
                    this.ty += y;
                    return this;
                };
                Matrix.prototype.scale = function scale(x, y) {
                    this.a *= x;
                    this.d *= y;
                    this.c *= x;
                    this.b *= y;
                    this.tx *= x;
                    this.ty *= y;
                    return this;
                };
                Matrix.prototype.rotate = function rotate(angle) {
                    var cos = Math.cos(angle);
                    var sin = Math.sin(angle);
                    var a1 = this.a;
                    var c1 = this.c;
                    var tx1 = this.tx;
                    this.a = a1 * cos - this.b * sin;
                    this.b = a1 * sin + this.b * cos;
                    this.c = c1 * cos - this.d * sin;
                    this.d = c1 * sin + this.d * cos;
                    this.tx = tx1 * cos - this.ty * sin;
                    this.ty = tx1 * sin + this.ty * cos;
                    return this;
                };
                Matrix.prototype.append = function append(matrix) {
                    var a1 = this.a;
                    var b1 = this.b;
                    var c1 = this.c;
                    var d1 = this.d;
                    this.a = matrix.a * a1 + matrix.b * c1;
                    this.b = matrix.a * b1 + matrix.b * d1;
                    this.c = matrix.c * a1 + matrix.d * c1;
                    this.d = matrix.c * b1 + matrix.d * d1;
                    this.tx = matrix.tx * a1 + matrix.ty * c1 + this.tx;
                    this.ty = matrix.tx * b1 + matrix.ty * d1 + this.ty;
                    return this;
                };
                Matrix.prototype.setTransform = function setTransform(x, y, pivotX, pivotY, scaleX, scaleY, rotation, skewX, skewY) {
                    var sr = Math.sin(rotation);
                    var cr = Math.cos(rotation);
                    var cy = Math.cos(skewY);
                    var sy = Math.sin(skewY);
                    var nsx = -Math.sin(skewX);
                    var cx = Math.cos(skewX);
                    var a = cr * scaleX;
                    var b = sr * scaleX;
                    var c = -sr * scaleY;
                    var d = cr * scaleY;
                    this.a = cy * a + sy * c;
                    this.b = cy * b + sy * d;
                    this.c = nsx * a + cx * c;
                    this.d = nsx * b + cx * d;
                    this.tx = x + (pivotX * a + pivotY * c);
                    this.ty = y + (pivotX * b + pivotY * d);
                    return this;
                };
                Matrix.prototype.prepend = function prepend(matrix) {
                    var tx1 = this.tx;
                    if (matrix.a !== 1 || matrix.b !== 0 || matrix.c !== 0 || matrix.d !== 1) {
                        var a1 = this.a;
                        var c1 = this.c;
                        this.a = a1 * matrix.a + this.b * matrix.c;
                        this.b = a1 * matrix.b + this.b * matrix.d;
                        this.c = c1 * matrix.a + this.d * matrix.c;
                        this.d = c1 * matrix.b + this.d * matrix.d;
                    }
                    this.tx = tx1 * matrix.a + this.ty * matrix.c + matrix.tx;
                    this.ty = tx1 * matrix.b + this.ty * matrix.d + matrix.ty;
                    return this;
                };
                Matrix.prototype.decompose = function decompose(transform) {
                    var a = this.a;
                    var b = this.b;
                    var c = this.c;
                    var d = this.d;
                    var skewX = -Math.atan2(-c, d);
                    var skewY = Math.atan2(b, a);
                    var delta = Math.abs(skewX + skewY);
                    if (delta < 0.00001) {
                        transform.rotation = skewY;
                        if (a < 0 && d >= 0) {
                            transform.rotation += transform.rotation <= 0 ? Math.PI : -Math.PI;
                        }
                        transform.skew.x = transform.skew.y = 0;
                    } else {
                        transform.skew.x = skewX;
                        transform.skew.y = skewY;
                    }
                    transform.scale.x = Math.sqrt(a * a + b * b);
                    transform.scale.y = Math.sqrt(c * c + d * d);
                    transform.position.x = this.tx;
                    transform.position.y = this.ty;
                    return transform;
                };
                Matrix.prototype.invert = function invert() {
                    var a1 = this.a;
                    var b1 = this.b;
                    var c1 = this.c;
                    var d1 = this.d;
                    var tx1 = this.tx;
                    var n = a1 * d1 - b1 * c1;
                    this.a = d1 / n;
                    this.b = -b1 / n;
                    this.c = -c1 / n;
                    this.d = a1 / n;
                    this.tx = (c1 * this.ty - d1 * tx1) / n;
                    this.ty = -(a1 * this.ty - b1 * tx1) / n;
                    return this;
                };
                Matrix.prototype.identity = function identity() {
                    this.a = 1;
                    this.b = 0;
                    this.c = 0;
                    this.d = 1;
                    this.tx = 0;
                    this.ty = 0;
                    return this;
                };
                Matrix.prototype.clone = function clone() {
                    var matrix = new Matrix();
                    matrix.a = this.a;
                    matrix.b = this.b;
                    matrix.c = this.c;
                    matrix.d = this.d;
                    matrix.tx = this.tx;
                    matrix.ty = this.ty;
                    return matrix;
                };
                Matrix.prototype.copy = function copy(matrix) {
                    matrix.a = this.a;
                    matrix.b = this.b;
                    matrix.c = this.c;
                    matrix.d = this.d;
                    matrix.tx = this.tx;
                    matrix.ty = this.ty;
                    return matrix;
                };
                _createClass(Matrix, null, [{
                    key: 'IDENTITY',
                    get: function get() {
                        return new Matrix();
                    }
                }, {
                    key: 'TEMP_MATRIX',
                    get: function get() {
                        return new Matrix();
                    }
                }]);
                return Matrix;
            }();
            exports.default = Matrix;
        }, {
            "./Point": 69
        }],
        68: [function (require, module, exports) {
            "use strict";
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var ObservablePoint = function () {
                function ObservablePoint(cb, scope) {
                    var x = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
                    var y = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
                    _classCallCheck(this, ObservablePoint);
                    this._x = x;
                    this._y = y;
                    this.cb = cb;
                    this.scope = scope;
                }
                ObservablePoint.prototype.set = function set(x, y) {
                    var _x = x || 0;
                    var _y = y || (y !== 0 ? _x : 0);
                    if (this._x !== _x || this._y !== _y) {
                        this._x = _x;
                        this._y = _y;
                        this.cb.call(this.scope);
                    }
                };
                ObservablePoint.prototype.copy = function copy(point) {
                    if (this._x !== point.x || this._y !== point.y) {
                        this._x = point.x;
                        this._y = point.y;
                        this.cb.call(this.scope);
                    }
                };
                _createClass(ObservablePoint, [{
                    key: "x",
                    get: function get() {
                        return this._x;
                    },
                    set: function set(value) {
                        if (this._x !== value) {
                            this._x = value;
                            this.cb.call(this.scope);
                        }
                    }
                }, {
                    key: "y",
                    get: function get() {
                        return this._y;
                    },
                    set: function set(value) {
                        if (this._y !== value) {
                            this._y = value;
                            this.cb.call(this.scope);
                        }
                    }
                }]);
                return ObservablePoint;
            }();
            exports.default = ObservablePoint;
        }, {}],
        69: [function (require, module, exports) {
            "use strict";
            exports.__esModule = true;

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var Point = function () {
                function Point() {
                    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
                    _classCallCheck(this, Point);
                    this.x = x;
                    this.y = y;
                }
                Point.prototype.clone = function clone() {
                    return new Point(this.x, this.y);
                };
                Point.prototype.copy = function copy(p) {
                    this.set(p.x, p.y);
                };
                Point.prototype.equals = function equals(p) {
                    return p.x === this.x && p.y === this.y;
                };
                Point.prototype.set = function set(x, y) {
                    this.x = x || 0;
                    this.y = y || (y !== 0 ? this.x : 0);
                };
                return Point;
            }();
            exports.default = Point;
        }, {}],
        70: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _Point = require('./Point');
            Object.defineProperty(exports, 'Point', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Point).default;
                }
            });
            var _ObservablePoint = require('./ObservablePoint');
            Object.defineProperty(exports, 'ObservablePoint', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_ObservablePoint).default;
                }
            });
            var _Matrix = require('./Matrix');
            Object.defineProperty(exports, 'Matrix', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Matrix).default;
                }
            });
            var _GroupD = require('./GroupD8');
            Object.defineProperty(exports, 'GroupD8', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_GroupD).default;
                }
            });
            var _Circle = require('./shapes/Circle');
            Object.defineProperty(exports, 'Circle', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Circle).default;
                }
            });
            var _Ellipse = require('./shapes/Ellipse');
            Object.defineProperty(exports, 'Ellipse', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Ellipse).default;
                }
            });
            var _Polygon = require('./shapes/Polygon');
            Object.defineProperty(exports, 'Polygon', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Polygon).default;
                }
            });
            var _Rectangle = require('./shapes/Rectangle');
            Object.defineProperty(exports, 'Rectangle', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Rectangle).default;
                }
            });
            var _RoundedRectangle = require('./shapes/RoundedRectangle');
            Object.defineProperty(exports, 'RoundedRectangle', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_RoundedRectangle).default;
                }
            });

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
        }, {
            "./GroupD8": 66,
            "./Matrix": 67,
            "./ObservablePoint": 68,
            "./Point": 69,
            "./shapes/Circle": 71,
            "./shapes/Ellipse": 72,
            "./shapes/Polygon": 73,
            "./shapes/Rectangle": 74,
            "./shapes/RoundedRectangle": 75
        }],
        71: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _Rectangle = require('./Rectangle');
            var _Rectangle2 = _interopRequireDefault(_Rectangle);
            var _const = require('../../const');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var Circle = function () {
                function Circle() {
                    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
                    var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
                    _classCallCheck(this, Circle);
                    this.x = x;
                    this.y = y;
                    this.radius = radius;
                    this.type = _const.SHAPES.CIRC;
                }
                Circle.prototype.clone = function clone() {
                    return new Circle(this.x, this.y, this.radius);
                };
                Circle.prototype.contains = function contains(x, y) {
                    if (this.radius <= 0) {
                        return false;
                    }
                    var r2 = this.radius * this.radius;
                    var dx = this.x - x;
                    var dy = this.y - y;
                    dx *= dx;
                    dy *= dy;
                    return dx + dy <= r2;
                };
                Circle.prototype.getBounds = function getBounds() {
                    return new _Rectangle2.default(this.x - this.radius, this.y - this.radius, this.radius * 2, this.radius * 2);
                };
                return Circle;
            }();
            exports.default = Circle;
        }, {
            "../../const": 46,
            "./Rectangle": 74
        }],
        72: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _Rectangle = require('./Rectangle');
            var _Rectangle2 = _interopRequireDefault(_Rectangle);
            var _const = require('../../const');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var Ellipse = function () {
                function Ellipse() {
                    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
                    var width = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
                    var height = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
                    _classCallCheck(this, Ellipse);
                    this.x = x;
                    this.y = y;
                    this.width = width;
                    this.height = height;
                    this.type = _const.SHAPES.ELIP;
                }
                Ellipse.prototype.clone = function clone() {
                    return new Ellipse(this.x, this.y, this.width, this.height);
                };
                Ellipse.prototype.contains = function contains(x, y) {
                    if (this.width <= 0 || this.height <= 0) {
                        return false;
                    }
                    var normx = (x - this.x) / this.width;
                    var normy = (y - this.y) / this.height;
                    normx *= normx;
                    normy *= normy;
                    return normx + normy <= 1;
                };
                Ellipse.prototype.getBounds = function getBounds() {
                    return new _Rectangle2.default(this.x - this.width, this.y - this.height, this.width, this.height);
                };
                return Ellipse;
            }();
            exports.default = Ellipse;
        }, {
            "../../const": 46,
            "./Rectangle": 74
        }],
        73: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _Point = require('../Point');
            var _Point2 = _interopRequireDefault(_Point);
            var _const = require('../../const');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var Polygon = function () {
                function Polygon() {
                    for (var _len = arguments.length, points = Array(_len), _key = 0; _key < _len; _key++) {
                        points[_key] = arguments[_key];
                    }
                    _classCallCheck(this, Polygon);
                    if (Array.isArray(points[0])) {
                        points = points[0];
                    }
                    if (points[0] instanceof _Point2.default) {
                        var p = [];
                        for (var i = 0, il = points.length; i < il; i++) {
                            p.push(points[i].x, points[i].y);
                        }
                        points = p;
                    }
                    this.closed = true;
                    this.points = points;
                    this.type = _const.SHAPES.POLY;
                }
                Polygon.prototype.clone = function clone() {
                    return new Polygon(this.points.slice());
                };
                Polygon.prototype.close = function close() {
                    var points = this.points;
                    if (points[0] !== points[points.length - 2] || points[1] !== points[points.length - 1]) {
                        points.push(points[0], points[1]);
                    }
                };
                Polygon.prototype.contains = function contains(x, y) {
                    var inside = false;
                    var length = this.points.length / 2;
                    for (var i = 0, j = length - 1; i < length; j = i++) {
                        var xi = this.points[i * 2];
                        var yi = this.points[i * 2 + 1];
                        var xj = this.points[j * 2];
                        var yj = this.points[j * 2 + 1];
                        var intersect = yi > y !== yj > y && x < (xj - xi) * ((y - yi) / (yj - yi)) + xi;
                        if (intersect) {
                            inside = !inside;
                        }
                    }
                    return inside;
                };
                return Polygon;
            }();
            exports.default = Polygon;
        }, {
            "../../const": 46,
            "../Point": 69
        }],
        74: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _const = require('../../const');

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var Rectangle = function () {
                function Rectangle() {
                    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
                    var width = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
                    var height = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
                    _classCallCheck(this, Rectangle);
                    this.x = Number(x);
                    this.y = Number(y);
                    this.width = Number(width);
                    this.height = Number(height);
                    this.type = _const.SHAPES.RECT;
                }
                Rectangle.prototype.clone = function clone() {
                    return new Rectangle(this.x, this.y, this.width, this.height);
                };
                Rectangle.prototype.copy = function copy(rectangle) {
                    this.x = rectangle.x;
                    this.y = rectangle.y;
                    this.width = rectangle.width;
                    this.height = rectangle.height;
                    return this;
                };
                Rectangle.prototype.contains = function contains(x, y) {
                    if (this.width <= 0 || this.height <= 0) {
                        return false;
                    }
                    if (x >= this.x && x < this.x + this.width) {
                        if (y >= this.y && y < this.y + this.height) {
                            return true;
                        }
                    }
                    return false;
                };
                Rectangle.prototype.pad = function pad(paddingX, paddingY) {
                    paddingX = paddingX || 0;
                    paddingY = paddingY || (paddingY !== 0 ? paddingX : 0);
                    this.x -= paddingX;
                    this.y -= paddingY;
                    this.width += paddingX * 2;
                    this.height += paddingY * 2;
                };
                Rectangle.prototype.fit = function fit(rectangle) {
                    if (this.x < rectangle.x) {
                        this.width += this.x;
                        if (this.width < 0) {
                            this.width = 0;
                        }
                        this.x = rectangle.x;
                    }
                    if (this.y < rectangle.y) {
                        this.height += this.y;
                        if (this.height < 0) {
                            this.height = 0;
                        }
                        this.y = rectangle.y;
                    }
                    if (this.x + this.width > rectangle.x + rectangle.width) {
                        this.width = rectangle.width - this.x;
                        if (this.width < 0) {
                            this.width = 0;
                        }
                    }
                    if (this.y + this.height > rectangle.y + rectangle.height) {
                        this.height = rectangle.height - this.y;
                        if (this.height < 0) {
                            this.height = 0;
                        }
                    }
                };
                Rectangle.prototype.enlarge = function enlarge(rectangle) {
                    var x1 = Math.min(this.x, rectangle.x);
                    var x2 = Math.max(this.x + this.width, rectangle.x + rectangle.width);
                    var y1 = Math.min(this.y, rectangle.y);
                    var y2 = Math.max(this.y + this.height, rectangle.y + rectangle.height);
                    this.x = x1;
                    this.width = x2 - x1;
                    this.y = y1;
                    this.height = y2 - y1;
                };
                _createClass(Rectangle, [{
                    key: 'left',
                    get: function get() {
                        return this.x;
                    }
                }, {
                    key: 'right',
                    get: function get() {
                        return this.x + this.width;
                    }
                }, {
                    key: 'top',
                    get: function get() {
                        return this.y;
                    }
                }, {
                    key: 'bottom',
                    get: function get() {
                        return this.y + this.height;
                    }
                }], [{
                    key: 'EMPTY',
                    get: function get() {
                        return new Rectangle(0, 0, 0, 0);
                    }
                }]);
                return Rectangle;
            }();
            exports.default = Rectangle;
        }, {
            "../../const": 46
        }],
        75: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _const = require('../../const');

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var RoundedRectangle = function () {
                function RoundedRectangle() {
                    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
                    var width = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
                    var height = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
                    var radius = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 20;
                    _classCallCheck(this, RoundedRectangle);
                    this.x = x;
                    this.y = y;
                    this.width = width;
                    this.height = height;
                    this.radius = radius;
                    this.type = _const.SHAPES.RREC;
                }
                RoundedRectangle.prototype.clone = function clone() {
                    return new RoundedRectangle(this.x, this.y, this.width, this.height, this.radius);
                };
                RoundedRectangle.prototype.contains = function contains(x, y) {
                    if (this.width <= 0 || this.height <= 0) {
                        return false;
                    }
                    if (x >= this.x && x <= this.x + this.width) {
                        if (y >= this.y && y <= this.y + this.height) {
                            if (y >= this.y + this.radius && y <= this.y + this.height - this.radius || x >= this.x + this.radius && x <= this.x + this.width - this.radius) {
                                return true;
                            }
                            var dx = x - (this.x + this.radius);
                            var dy = y - (this.y + this.radius);
                            var radius2 = this.radius * this.radius;
                            if (dx * dx + dy * dy <= radius2) {
                                return true;
                            }
                            dx = x - (this.x + this.width - this.radius);
                            if (dx * dx + dy * dy <= radius2) {
                                return true;
                            }
                            dy = y - (this.y + this.height - this.radius);
                            if (dx * dx + dy * dy <= radius2) {
                                return true;
                            }
                            dx = x - (this.x + this.radius);
                            if (dx * dx + dy * dy <= radius2) {
                                return true;
                            }
                        }
                    }
                    return false;
                };
                return RoundedRectangle;
            }();
            exports.default = RoundedRectangle;
        }, {
            "../../const": 46
        }],
        76: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _utils = require('../utils');
            var _math = require('../math');
            var _const = require('../const');
            var _settings = require('../settings');
            var _settings2 = _interopRequireDefault(_settings);
            var _Container = require('../display/Container');
            var _Container2 = _interopRequireDefault(_Container);
            var _RenderTexture = require('../textures/RenderTexture');
            var _RenderTexture2 = _interopRequireDefault(_RenderTexture);
            var _eventemitter = require('eventemitter3');
            var _eventemitter2 = _interopRequireDefault(_eventemitter);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var tempMatrix = new _math.Matrix();
            var SystemRenderer = function (_EventEmitter) {
                _inherits(SystemRenderer, _EventEmitter);

                function SystemRenderer(system, options, arg2, arg3) {
                    _classCallCheck(this, SystemRenderer);
                    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));
                    (0, _utils.sayHello)(system);
                    if (typeof options === 'number') {
                        options = Object.assign({
                            width: options,
                            height: arg2 || _settings2.default.RENDER_OPTIONS.height
                        }, arg3);
                    }
                    options = Object.assign({}, _settings2.default.RENDER_OPTIONS, options);
                    _this.options = options;
                    _this.type = _const.RENDERER_TYPE.UNKNOWN;
                    _this.screen = new _math.Rectangle(0, 0, options.width, options.height);
                    _this.view = options.view || document.createElement('canvas');
                    _this.resolution = options.resolution || _settings2.default.RESOLUTION;
                    _this.transparent = options.transparent;
                    _this.autoResize = options.autoResize || false;
                    _this.blendModes = null;
                    _this.preserveDrawingBuffer = options.preserveDrawingBuffer;
                    _this.clearBeforeRender = options.clearBeforeRender;
                    _this.roundPixels = options.roundPixels;
                    _this._backgroundColor = 0x000000;
                    _this._backgroundColorRgba = [0, 0, 0, 0];
                    _this._backgroundColorString = '#000000';
                    _this.backgroundColor = options.backgroundColor || _this._backgroundColor;
                    _this._tempDisplayObjectParent = new _Container2.default();
                    _this._lastObjectRendered = _this._tempDisplayObjectParent;
                    return _this;
                }
                SystemRenderer.prototype.resize = function resize(screenWidth, screenHeight) {
                    this.screen.width = screenWidth;
                    this.screen.height = screenHeight;
                    this.view.width = screenWidth * this.resolution;
                    this.view.height = screenHeight * this.resolution;
                    if (this.autoResize) {
                        this.view.style.width = screenWidth + 'px';
                        this.view.style.height = screenHeight + 'px';
                    }
                };
                SystemRenderer.prototype.generateTexture = function generateTexture(displayObject, scaleMode, resolution, region) {
                    region = region || displayObject.getLocalBounds();
                    var renderTexture = _RenderTexture2.default.create(region.width | 0, region.height | 0, scaleMode, resolution);
                    tempMatrix.tx = -region.x;
                    tempMatrix.ty = -region.y;
                    this.render(displayObject, renderTexture, false, tempMatrix, true);
                    return renderTexture;
                };
                SystemRenderer.prototype.destroy = function destroy(removeView) {
                    if (removeView && this.view.parentNode) {
                        this.view.parentNode.removeChild(this.view);
                    }
                    this.type = _const.RENDERER_TYPE.UNKNOWN;
                    this.view = null;
                    this.screen = null;
                    this.resolution = 0;
                    this.transparent = false;
                    this.autoResize = false;
                    this.blendModes = null;
                    this.options = null;
                    this.preserveDrawingBuffer = false;
                    this.clearBeforeRender = false;
                    this.roundPixels = false;
                    this._backgroundColor = 0;
                    this._backgroundColorRgba = null;
                    this._backgroundColorString = null;
                    this._tempDisplayObjectParent = null;
                    this._lastObjectRendered = null;
                };
                _createClass(SystemRenderer, [{
                    key: 'width',
                    get: function get() {
                        return this.view.width;
                    }
                }, {
                    key: 'height',
                    get: function get() {
                        return this.view.height;
                    }
                }, {
                    key: 'backgroundColor',
                    get: function get() {
                        return this._backgroundColor;
                    },
                    set: function set(value) {
                        this._backgroundColor = value;
                        this._backgroundColorString = (0, _utils.hex2string)(value);
                        (0, _utils.hex2rgb)(value, this._backgroundColorRgba);
                    }
                }]);
                return SystemRenderer;
            }(_eventemitter2.default);
            exports.default = SystemRenderer;
        }, {
            "../const": 46,
            "../display/Container": 48,
            "../math": 70,
            "../settings": 101,
            "../textures/RenderTexture": 113,
            "../utils": 125,
            "eventemitter3": 3
        }],
        77: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _SystemRenderer2 = require('../SystemRenderer');
            var _SystemRenderer3 = _interopRequireDefault(_SystemRenderer2);
            var _CanvasMaskManager = require('./utils/CanvasMaskManager');
            var _CanvasMaskManager2 = _interopRequireDefault(_CanvasMaskManager);
            var _CanvasRenderTarget = require('./utils/CanvasRenderTarget');
            var _CanvasRenderTarget2 = _interopRequireDefault(_CanvasRenderTarget);
            var _mapCanvasBlendModesToPixi = require('./utils/mapCanvasBlendModesToPixi');
            var _mapCanvasBlendModesToPixi2 = _interopRequireDefault(_mapCanvasBlendModesToPixi);
            var _utils = require('../../utils');
            var _const = require('../../const');
            var _settings = require('../../settings');
            var _settings2 = _interopRequireDefault(_settings);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var CanvasRenderer = function (_SystemRenderer) {
                _inherits(CanvasRenderer, _SystemRenderer);

                function CanvasRenderer(options, arg2, arg3) {
                    _classCallCheck(this, CanvasRenderer);
                    var _this = _possibleConstructorReturn(this, _SystemRenderer.call(this, 'Canvas', options, arg2, arg3));
                    _this.type = _const.RENDERER_TYPE.CANVAS;
                    _this.rootContext = _this.view.getContext('2d', {
                        alpha: _this.transparent
                    });
                    _this.context = _this.rootContext;
                    _this.refresh = true;
                    _this.maskManager = new _CanvasMaskManager2.default(_this);
                    _this.smoothProperty = 'imageSmoothingEnabled';
                    if (!_this.rootContext.imageSmoothingEnabled) {
                        if (_this.rootContext.webkitImageSmoothingEnabled) {
                            _this.smoothProperty = 'webkitImageSmoothingEnabled';
                        } else if (_this.rootContext.mozImageSmoothingEnabled) {
                            _this.smoothProperty = 'mozImageSmoothingEnabled';
                        } else if (_this.rootContext.oImageSmoothingEnabled) {
                            _this.smoothProperty = 'oImageSmoothingEnabled';
                        } else if (_this.rootContext.msImageSmoothingEnabled) {
                            _this.smoothProperty = 'msImageSmoothingEnabled';
                        }
                    }
                    _this.initPlugins();
                    _this.blendModes = (0, _mapCanvasBlendModesToPixi2.default)();
                    _this._activeBlendMode = null;
                    _this.renderingToScreen = false;
                    _this.resize(_this.options.width, _this.options.height);
                    return _this;
                }
                CanvasRenderer.prototype.render = function render(displayObject, renderTexture, clear, transform, skipUpdateTransform) {
                    if (!this.view) {
                        return;
                    }
                    this.renderingToScreen = !renderTexture;
                    this.emit('prerender');
                    var rootResolution = this.resolution;
                    if (renderTexture) {
                        renderTexture = renderTexture.baseTexture || renderTexture;
                        if (!renderTexture._canvasRenderTarget) {
                            renderTexture._canvasRenderTarget = new _CanvasRenderTarget2.default(renderTexture.width, renderTexture.height, renderTexture.resolution);
                            renderTexture.source = renderTexture._canvasRenderTarget.canvas;
                            renderTexture.valid = true;
                        }
                        this.context = renderTexture._canvasRenderTarget.context;
                        this.resolution = renderTexture._canvasRenderTarget.resolution;
                    } else {
                        this.context = this.rootContext;
                    }
                    var context = this.context;
                    if (!renderTexture) {
                        this._lastObjectRendered = displayObject;
                    }
                    if (!skipUpdateTransform) {
                        var cacheParent = displayObject.parent;
                        var tempWt = this._tempDisplayObjectParent.transform.worldTransform;
                        if (transform) {
                            transform.copy(tempWt);
                            this._tempDisplayObjectParent.transform._worldID = -1;
                        } else {
                            tempWt.identity();
                        }
                        displayObject.parent = this._tempDisplayObjectParent;
                        displayObject.updateTransform();
                        displayObject.parent = cacheParent;
                    }
                    context.save();
                    context.setTransform(1, 0, 0, 1, 0, 0);
                    context.globalAlpha = 1;
                    this._activeBlendMode = _const.BLEND_MODES.NORMAL;
                    context.globalCompositeOperation = this.blendModes[_const.BLEND_MODES.NORMAL];
                    if (navigator.isCocoonJS && this.view.screencanvas) {
                        context.fillStyle = 'black';
                        context.clear();
                    }
                    if (clear !== undefined ? clear : this.clearBeforeRender) {
                        if (this.renderingToScreen) {
                            if (this.transparent) {
                                context.clearRect(0, 0, this.width, this.height);
                            } else {
                                context.fillStyle = this._backgroundColorString;
                                context.fillRect(0, 0, this.width, this.height);
                            }
                        }
                    }
                    var tempContext = this.context;
                    this.context = context;
                    displayObject.renderCanvas(this);
                    this.context = tempContext;
                    context.restore();
                    this.resolution = rootResolution;
                    this.emit('postrender');
                };
                CanvasRenderer.prototype.clear = function clear(clearColor) {
                    var context = this.context;
                    clearColor = clearColor || this._backgroundColorString;
                    if (!this.transparent && clearColor) {
                        context.fillStyle = clearColor;
                        context.fillRect(0, 0, this.width, this.height);
                    } else {
                        context.clearRect(0, 0, this.width, this.height);
                    }
                };
                CanvasRenderer.prototype.setBlendMode = function setBlendMode(blendMode) {
                    if (this._activeBlendMode === blendMode) {
                        return;
                    }
                    this._activeBlendMode = blendMode;
                    this.context.globalCompositeOperation = this.blendModes[blendMode];
                };
                CanvasRenderer.prototype.destroy = function destroy(removeView) {
                    this.destroyPlugins();
                    _SystemRenderer.prototype.destroy.call(this, removeView);
                    this.context = null;
                    this.refresh = true;
                    this.maskManager.destroy();
                    this.maskManager = null;
                    this.smoothProperty = null;
                };
                CanvasRenderer.prototype.resize = function resize(screenWidth, screenHeight) {
                    _SystemRenderer.prototype.resize.call(this, screenWidth, screenHeight);
                    if (this.smoothProperty) {
                        this.rootContext[this.smoothProperty] = _settings2.default.SCALE_MODE === _const.SCALE_MODES.LINEAR;
                    }
                };
                CanvasRenderer.prototype.invalidateBlendMode = function invalidateBlendMode() {
                    this._activeBlendMode = this.blendModes.indexOf(this.context.globalCompositeOperation);
                };
                return CanvasRenderer;
            }(_SystemRenderer3.default);
            exports.default = CanvasRenderer;
            _utils.pluginTarget.mixin(CanvasRenderer);
        }, {
            "../../const": 46,
            "../../settings": 101,
            "../../utils": 125,
            "../SystemRenderer": 76,
            "./utils/CanvasMaskManager": 78,
            "./utils/CanvasRenderTarget": 79,
            "./utils/mapCanvasBlendModesToPixi": 81
        }],
        78: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _const = require('../../../const');

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var CanvasMaskManager = function () {
                function CanvasMaskManager(renderer) {
                    _classCallCheck(this, CanvasMaskManager);
                    this.renderer = renderer;
                }
                CanvasMaskManager.prototype.pushMask = function pushMask(maskData) {
                    var renderer = this.renderer;
                    renderer.context.save();
                    var cacheAlpha = maskData.alpha;
                    var transform = maskData.transform.worldTransform;
                    var resolution = renderer.resolution;
                    renderer.context.setTransform(transform.a * resolution, transform.b * resolution, transform.c * resolution, transform.d * resolution, transform.tx * resolution, transform.ty * resolution);
                    if (!maskData._texture) {
                        this.renderGraphicsShape(maskData);
                        renderer.context.clip();
                    }
                    maskData.worldAlpha = cacheAlpha;
                };
                CanvasMaskManager.prototype.renderGraphicsShape = function renderGraphicsShape(graphics) {
                    var context = this.renderer.context;
                    var len = graphics.graphicsData.length;
                    if (len === 0) {
                        return;
                    }
                    context.beginPath();
                    for (var i = 0; i < len; i++) {
                        var data = graphics.graphicsData[i];
                        var shape = data.shape;
                        if (data.type === _const.SHAPES.POLY) {
                            var points = shape.points;
                            context.moveTo(points[0], points[1]);
                            for (var j = 1; j < points.length / 2; j++) {
                                context.lineTo(points[j * 2], points[j * 2 + 1]);
                            }
                            if (points[0] === points[points.length - 2] && points[1] === points[points.length - 1]) {
                                context.closePath();
                            }
                        } else if (data.type === _const.SHAPES.RECT) {
                            context.rect(shape.x, shape.y, shape.width, shape.height);
                            context.closePath();
                        } else if (data.type === _const.SHAPES.CIRC) {
                            context.arc(shape.x, shape.y, shape.radius, 0, 2 * Math.PI);
                            context.closePath();
                        } else if (data.type === _const.SHAPES.ELIP) {
                            var w = shape.width * 2;
                            var h = shape.height * 2;
                            var x = shape.x - w / 2;
                            var y = shape.y - h / 2;
                            var kappa = 0.5522848;
                            var ox = w / 2 * kappa;
                            var oy = h / 2 * kappa;
                            var xe = x + w;
                            var ye = y + h;
                            var xm = x + w / 2;
                            var ym = y + h / 2;
                            context.moveTo(x, ym);
                            context.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);
                            context.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);
                            context.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);
                            context.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);
                            context.closePath();
                        } else if (data.type === _const.SHAPES.RREC) {
                            var rx = shape.x;
                            var ry = shape.y;
                            var width = shape.width;
                            var height = shape.height;
                            var radius = shape.radius;
                            var maxRadius = Math.min(width, height) / 2 | 0;
                            radius = radius > maxRadius ? maxRadius : radius;
                            context.moveTo(rx, ry + radius);
                            context.lineTo(rx, ry + height - radius);
                            context.quadraticCurveTo(rx, ry + height, rx + radius, ry + height);
                            context.lineTo(rx + width - radius, ry + height);
                            context.quadraticCurveTo(rx + width, ry + height, rx + width, ry + height - radius);
                            context.lineTo(rx + width, ry + radius);
                            context.quadraticCurveTo(rx + width, ry, rx + width - radius, ry);
                            context.lineTo(rx + radius, ry);
                            context.quadraticCurveTo(rx, ry, rx, ry + radius);
                            context.closePath();
                        }
                    }
                };
                CanvasMaskManager.prototype.popMask = function popMask(renderer) {
                    renderer.context.restore();
                    renderer.invalidateBlendMode();
                };
                CanvasMaskManager.prototype.destroy = function destroy() {};
                return CanvasMaskManager;
            }();
            exports.default = CanvasMaskManager;
        }, {
            "../../../const": 46
        }],
        79: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _settings = require('../../../settings');
            var _settings2 = _interopRequireDefault(_settings);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var CanvasRenderTarget = function () {
                function CanvasRenderTarget(width, height, resolution) {
                    _classCallCheck(this, CanvasRenderTarget);
                    this.canvas = document.createElement('canvas');
                    this.context = this.canvas.getContext('2d');
                    this.resolution = resolution || _settings2.default.RESOLUTION;
                    this.resize(width, height);
                }
                CanvasRenderTarget.prototype.clear = function clear() {
                    this.context.setTransform(1, 0, 0, 1, 0, 0);
                    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
                };
                CanvasRenderTarget.prototype.resize = function resize(width, height) {
                    this.canvas.width = width * this.resolution;
                    this.canvas.height = height * this.resolution;
                };
                CanvasRenderTarget.prototype.destroy = function destroy() {
                    this.context = null;
                    this.canvas = null;
                };
                _createClass(CanvasRenderTarget, [{
                    key: 'width',
                    get: function get() {
                        return this.canvas.width;
                    },
                    set: function set(val) {
                        this.canvas.width = val;
                    }
                }, {
                    key: 'height',
                    get: function get() {
                        return this.canvas.height;
                    },
                    set: function set(val) {
                        this.canvas.height = val;
                    }
                }]);
                return CanvasRenderTarget;
            }();
            exports.default = CanvasRenderTarget;
        }, {
            "../../../settings": 101
        }],
        80: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = canUseNewCanvasBlendModes;

            function createColoredCanvas(color) {
                var canvas = document.createElement('canvas');
                canvas.width = 6;
                canvas.height = 1;
                var context = canvas.getContext('2d');
                context.fillStyle = color;
                context.fillRect(0, 0, 6, 1);
                return canvas;
            }

            function canUseNewCanvasBlendModes() {
                if (typeof document === 'undefined') {
                    return false;
                }
                var magenta = createColoredCanvas('#ff00ff');
                var yellow = createColoredCanvas('#ffff00');
                var canvas = document.createElement('canvas');
                canvas.width = 6;
                canvas.height = 1;
                var context = canvas.getContext('2d');
                context.globalCompositeOperation = 'multiply';
                context.drawImage(magenta, 0, 0);
                context.drawImage(yellow, 2, 0);
                var imageData = context.getImageData(2, 0, 1, 1);
                if (!imageData) {
                    return false;
                }
                var data = imageData.data;
                return data[0] === 255 && data[1] === 0 && data[2] === 0;
            }
        }, {}],
        81: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = mapCanvasBlendModesToPixi;
            var _const = require('../../../const');
            var _canUseNewCanvasBlendModes = require('./canUseNewCanvasBlendModes');
            var _canUseNewCanvasBlendModes2 = _interopRequireDefault(_canUseNewCanvasBlendModes);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function mapCanvasBlendModesToPixi() {
                var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
                if ((0, _canUseNewCanvasBlendModes2.default)()) {
                    array[_const.BLEND_MODES.NORMAL] = 'source-over';
                    array[_const.BLEND_MODES.ADD] = 'lighter';
                    array[_const.BLEND_MODES.MULTIPLY] = 'multiply';
                    array[_const.BLEND_MODES.SCREEN] = 'screen';
                    array[_const.BLEND_MODES.OVERLAY] = 'overlay';
                    array[_const.BLEND_MODES.DARKEN] = 'darken';
                    array[_const.BLEND_MODES.LIGHTEN] = 'lighten';
                    array[_const.BLEND_MODES.COLOR_DODGE] = 'color-dodge';
                    array[_const.BLEND_MODES.COLOR_BURN] = 'color-burn';
                    array[_const.BLEND_MODES.HARD_LIGHT] = 'hard-light';
                    array[_const.BLEND_MODES.SOFT_LIGHT] = 'soft-light';
                    array[_const.BLEND_MODES.DIFFERENCE] = 'difference';
                    array[_const.BLEND_MODES.EXCLUSION] = 'exclusion';
                    array[_const.BLEND_MODES.HUE] = 'hue';
                    array[_const.BLEND_MODES.SATURATION] = 'saturate';
                    array[_const.BLEND_MODES.COLOR] = 'color';
                    array[_const.BLEND_MODES.LUMINOSITY] = 'luminosity';
                } else {
                    array[_const.BLEND_MODES.NORMAL] = 'source-over';
                    array[_const.BLEND_MODES.ADD] = 'lighter';
                    array[_const.BLEND_MODES.MULTIPLY] = 'source-over';
                    array[_const.BLEND_MODES.SCREEN] = 'source-over';
                    array[_const.BLEND_MODES.OVERLAY] = 'source-over';
                    array[_const.BLEND_MODES.DARKEN] = 'source-over';
                    array[_const.BLEND_MODES.LIGHTEN] = 'source-over';
                    array[_const.BLEND_MODES.COLOR_DODGE] = 'source-over';
                    array[_const.BLEND_MODES.COLOR_BURN] = 'source-over';
                    array[_const.BLEND_MODES.HARD_LIGHT] = 'source-over';
                    array[_const.BLEND_MODES.SOFT_LIGHT] = 'source-over';
                    array[_const.BLEND_MODES.DIFFERENCE] = 'source-over';
                    array[_const.BLEND_MODES.EXCLUSION] = 'source-over';
                    array[_const.BLEND_MODES.HUE] = 'source-over';
                    array[_const.BLEND_MODES.SATURATION] = 'source-over';
                    array[_const.BLEND_MODES.COLOR] = 'source-over';
                    array[_const.BLEND_MODES.LUMINOSITY] = 'source-over';
                }
                array[_const.BLEND_MODES.NORMAL_NPM] = array[_const.BLEND_MODES.NORMAL];
                array[_const.BLEND_MODES.ADD_NPM] = array[_const.BLEND_MODES.ADD];
                array[_const.BLEND_MODES.SCREEN_NPM] = array[_const.BLEND_MODES.SCREEN];
                return array;
            }
        }, {
            "../../../const": 46,
            "./canUseNewCanvasBlendModes": 80
        }],
        82: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _const = require('../../const');
            var _settings = require('../../settings');
            var _settings2 = _interopRequireDefault(_settings);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var TextureGarbageCollector = function () {
                function TextureGarbageCollector(renderer) {
                    _classCallCheck(this, TextureGarbageCollector);
                    this.renderer = renderer;
                    this.count = 0;
                    this.checkCount = 0;
                    this.maxIdle = _settings2.default.GC_MAX_IDLE;
                    this.checkCountMax = _settings2.default.GC_MAX_CHECK_COUNT;
                    this.mode = _settings2.default.GC_MODE;
                }
                TextureGarbageCollector.prototype.update = function update() {
                    this.count++;
                    if (this.mode === _const.GC_MODES.MANUAL) {
                        return;
                    }
                    this.checkCount++;
                    if (this.checkCount > this.checkCountMax) {
                        this.checkCount = 0;
                        this.run();
                    }
                };
                TextureGarbageCollector.prototype.run = function run() {
                    var tm = this.renderer.textureManager;
                    var managedTextures = tm._managedTextures;
                    var wasRemoved = false;
                    for (var i = 0; i < managedTextures.length; i++) {
                        var texture = managedTextures[i];
                        if (!texture._glRenderTargets && this.count - texture.touched > this.maxIdle) {
                            tm.destroyTexture(texture, true);
                            managedTextures[i] = null;
                            wasRemoved = true;
                        }
                    }
                    if (wasRemoved) {
                        var j = 0;
                        for (var _i = 0; _i < managedTextures.length; _i++) {
                            if (managedTextures[_i] !== null) {
                                managedTextures[j++] = managedTextures[_i];
                            }
                        }
                        managedTextures.length = j;
                    }
                };
                TextureGarbageCollector.prototype.unload = function unload(displayObject) {
                    var tm = this.renderer.textureManager;
                    if (displayObject._texture && displayObject._texture._glRenderTargets) {
                        tm.destroyTexture(displayObject._texture, true);
                    }
                    for (var i = displayObject.children.length - 1; i >= 0; i--) {
                        this.unload(displayObject.children[i]);
                    }
                };
                return TextureGarbageCollector;
            }();
            exports.default = TextureGarbageCollector;
        }, {
            "../../const": 46,
            "../../settings": 101
        }],
        83: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _pixiGlCore = require('pixi-gl-core');
            var _const = require('../../const');
            var _RenderTarget = require('./utils/RenderTarget');
            var _RenderTarget2 = _interopRequireDefault(_RenderTarget);
            var _utils = require('../../utils');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var TextureManager = function () {
                function TextureManager(renderer) {
                    _classCallCheck(this, TextureManager);
                    this.renderer = renderer;
                    this.gl = renderer.gl;
                    this._managedTextures = [];
                }
                TextureManager.prototype.bindTexture = function bindTexture() {};
                TextureManager.prototype.getTexture = function getTexture() {};
                TextureManager.prototype.updateTexture = function updateTexture(texture, location) {
                    var gl = this.gl;
                    var isRenderTexture = !!texture._glRenderTargets;
                    if (!texture.hasLoaded) {
                        return null;
                    }
                    var boundTextures = this.renderer.boundTextures;
                    if (location === undefined) {
                        location = 0;
                        for (var i = 0; i < boundTextures.length; ++i) {
                            if (boundTextures[i] === texture) {
                                location = i;
                                break;
                            }
                        }
                    }
                    boundTextures[location] = texture;
                    gl.activeTexture(gl.TEXTURE0 + location);
                    var glTexture = texture._glTextures[this.renderer.CONTEXT_UID];
                    if (!glTexture) {
                        if (isRenderTexture) {
                            var renderTarget = new _RenderTarget2.default(this.gl, texture.width, texture.height, texture.scaleMode, texture.resolution);
                            renderTarget.resize(texture.width, texture.height);
                            texture._glRenderTargets[this.renderer.CONTEXT_UID] = renderTarget;
                            glTexture = renderTarget.texture;
                        } else {
                            glTexture = new _pixiGlCore.GLTexture(this.gl, null, null, null, null);
                            glTexture.bind(location);
                            glTexture.premultiplyAlpha = true;
                            glTexture.upload(texture.source);
                        }
                        texture._glTextures[this.renderer.CONTEXT_UID] = glTexture;
                        texture.on('update', this.updateTexture, this);
                        texture.on('dispose', this.destroyTexture, this);
                        this._managedTextures.push(texture);
                        if (texture.isPowerOfTwo) {
                            if (texture.mipmap) {
                                glTexture.enableMipmap();
                            }
                            if (texture.wrapMode === _const.WRAP_MODES.CLAMP) {
                                glTexture.enableWrapClamp();
                            } else if (texture.wrapMode === _const.WRAP_MODES.REPEAT) {
                                glTexture.enableWrapRepeat();
                            } else {
                                glTexture.enableWrapMirrorRepeat();
                            }
                        } else {
                            glTexture.enableWrapClamp();
                        }
                        if (texture.scaleMode === _const.SCALE_MODES.NEAREST) {
                            glTexture.enableNearestScaling();
                        } else {
                            glTexture.enableLinearScaling();
                        }
                    } else if (isRenderTexture) {
                        texture._glRenderTargets[this.renderer.CONTEXT_UID].resize(texture.width, texture.height);
                    } else {
                        glTexture.upload(texture.source);
                    }
                    return glTexture;
                };
                TextureManager.prototype.destroyTexture = function destroyTexture(texture, skipRemove) {
                    texture = texture.baseTexture || texture;
                    if (!texture.hasLoaded) {
                        return;
                    }
                    var uid = this.renderer.CONTEXT_UID;
                    var glTextures = texture._glTextures;
                    var glRenderTargets = texture._glRenderTargets;
                    if (glTextures[uid]) {
                        this.renderer.unbindTexture(texture);
                        glTextures[uid].destroy();
                        texture.off('update', this.updateTexture, this);
                        texture.off('dispose', this.destroyTexture, this);
                        delete glTextures[uid];
                        if (!skipRemove) {
                            var i = this._managedTextures.indexOf(texture);
                            if (i !== -1) {
                                (0, _utils.removeItems)(this._managedTextures, i, 1);
                            }
                        }
                    }
                    if (glRenderTargets && glRenderTargets[uid]) {
                        glRenderTargets[uid].destroy();
                        delete glRenderTargets[uid];
                    }
                };
                TextureManager.prototype.removeAll = function removeAll() {
                    for (var i = 0; i < this._managedTextures.length; ++i) {
                        var texture = this._managedTextures[i];
                        if (texture._glTextures[this.renderer.CONTEXT_UID]) {
                            delete texture._glTextures[this.renderer.CONTEXT_UID];
                        }
                    }
                };
                TextureManager.prototype.destroy = function destroy() {
                    for (var i = 0; i < this._managedTextures.length; ++i) {
                        var texture = this._managedTextures[i];
                        this.destroyTexture(texture, true);
                        texture.off('update', this.updateTexture, this);
                        texture.off('dispose', this.destroyTexture, this);
                    }
                    this._managedTextures = null;
                };
                return TextureManager;
            }();
            exports.default = TextureManager;
        }, {
            "../../const": 46,
            "../../utils": 125,
            "./utils/RenderTarget": 96,
            "pixi-gl-core": 15
        }],
        84: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _SystemRenderer2 = require('../SystemRenderer');
            var _SystemRenderer3 = _interopRequireDefault(_SystemRenderer2);
            var _MaskManager = require('./managers/MaskManager');
            var _MaskManager2 = _interopRequireDefault(_MaskManager);
            var _StencilManager = require('./managers/StencilManager');
            var _StencilManager2 = _interopRequireDefault(_StencilManager);
            var _FilterManager = require('./managers/FilterManager');
            var _FilterManager2 = _interopRequireDefault(_FilterManager);
            var _RenderTarget = require('./utils/RenderTarget');
            var _RenderTarget2 = _interopRequireDefault(_RenderTarget);
            var _ObjectRenderer = require('./utils/ObjectRenderer');
            var _ObjectRenderer2 = _interopRequireDefault(_ObjectRenderer);
            var _TextureManager = require('./TextureManager');
            var _TextureManager2 = _interopRequireDefault(_TextureManager);
            var _BaseTexture = require('../../textures/BaseTexture');
            var _BaseTexture2 = _interopRequireDefault(_BaseTexture);
            var _TextureGarbageCollector = require('./TextureGarbageCollector');
            var _TextureGarbageCollector2 = _interopRequireDefault(_TextureGarbageCollector);
            var _WebGLState = require('./WebGLState');
            var _WebGLState2 = _interopRequireDefault(_WebGLState);
            var _mapWebGLDrawModesToPixi = require('./utils/mapWebGLDrawModesToPixi');
            var _mapWebGLDrawModesToPixi2 = _interopRequireDefault(_mapWebGLDrawModesToPixi);
            var _validateContext = require('./utils/validateContext');
            var _validateContext2 = _interopRequireDefault(_validateContext);
            var _utils = require('../../utils');
            var _pixiGlCore = require('pixi-gl-core');
            var _pixiGlCore2 = _interopRequireDefault(_pixiGlCore);
            var _const = require('../../const');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var CONTEXT_UID = 0;
            var WebGLRenderer = function (_SystemRenderer) {
                _inherits(WebGLRenderer, _SystemRenderer);

                function WebGLRenderer(options, arg2, arg3) {
                    _classCallCheck(this, WebGLRenderer);
                    var _this = _possibleConstructorReturn(this, _SystemRenderer.call(this, 'WebGL', options, arg2, arg3));
                    _this.legacy = _this.options.legacy;
                    if (_this.legacy) {
                        _pixiGlCore2.default.VertexArrayObject.FORCE_NATIVE = true;
                    }
                    _this.type = _const.RENDERER_TYPE.WEBGL;
                    _this.handleContextLost = _this.handleContextLost.bind(_this);
                    _this.handleContextRestored = _this.handleContextRestored.bind(_this);
                    _this.view.addEventListener('webglcontextlost', _this.handleContextLost, false);
                    _this.view.addEventListener('webglcontextrestored', _this.handleContextRestored, false);
                    _this._contextOptions = {
                        alpha: _this.transparent,
                        antialias: _this.options.antialias,
                        premultipliedAlpha: _this.transparent && _this.transparent !== 'notMultiplied',
                        stencil: true,
                        preserveDrawingBuffer: _this.options.preserveDrawingBuffer,
                        powerPreference: _this.options.powerPreference
                    };
                    _this._backgroundColorRgba[3] = _this.transparent ? 0 : 1;
                    _this.maskManager = new _MaskManager2.default(_this);
                    _this.stencilManager = new _StencilManager2.default(_this);
                    _this.emptyRenderer = new _ObjectRenderer2.default(_this);
                    _this.currentRenderer = _this.emptyRenderer;
                    _this.textureManager = null;
                    _this.filterManager = null;
                    _this.initPlugins();
                    if (_this.options.context) {
                        (0, _validateContext2.default)(_this.options.context);
                    }
                    _this.gl = _this.options.context || _pixiGlCore2.default.createContext(_this.view, _this._contextOptions);
                    _this.CONTEXT_UID = CONTEXT_UID++;
                    _this.state = new _WebGLState2.default(_this.gl);
                    _this.renderingToScreen = true;
                    _this.boundTextures = null;
                    _this._activeShader = null;
                    _this._activeVao = null;
                    _this._activeRenderTarget = null;
                    _this._initContext();
                    _this.drawModes = (0, _mapWebGLDrawModesToPixi2.default)(_this.gl);
                    _this._nextTextureLocation = 0;
                    _this.setBlendMode(0);
                    return _this;
                }
                WebGLRenderer.prototype._initContext = function _initContext() {
                    var gl = this.gl;
                    if (gl.isContextLost() && gl.getExtension('WEBGL_lose_context')) {
                        gl.getExtension('WEBGL_lose_context').restoreContext();
                    }
                    var maxTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);
                    this._activeShader = null;
                    this._activeVao = null;
                    this.boundTextures = new Array(maxTextures);
                    this.emptyTextures = new Array(maxTextures);
                    this.textureManager = new _TextureManager2.default(this);
                    this.filterManager = new _FilterManager2.default(this);
                    this.textureGC = new _TextureGarbageCollector2.default(this);
                    this.state.resetToDefault();
                    this.rootRenderTarget = new _RenderTarget2.default(gl, this.width, this.height, null, this.resolution, true);
                    this.rootRenderTarget.clearColor = this._backgroundColorRgba;
                    this.bindRenderTarget(this.rootRenderTarget);
                    var emptyGLTexture = new _pixiGlCore2.default.GLTexture.fromData(gl, null, 1, 1);
                    var tempObj = {
                        _glTextures: {}
                    };
                    tempObj._glTextures[this.CONTEXT_UID] = {};
                    for (var i = 0; i < maxTextures; i++) {
                        var empty = new _BaseTexture2.default();
                        empty._glTextures[this.CONTEXT_UID] = emptyGLTexture;
                        this.boundTextures[i] = tempObj;
                        this.emptyTextures[i] = empty;
                        this.bindTexture(null, i);
                    }
                    this.emit('context', gl);
                    this.resize(this.screen.width, this.screen.height);
                };
                WebGLRenderer.prototype.render = function render(displayObject, renderTexture, clear, transform, skipUpdateTransform) {
                    this.renderingToScreen = !renderTexture;
                    this.emit('prerender');
                    if (!this.gl || this.gl.isContextLost()) {
                        return;
                    }
                    this._nextTextureLocation = 0;
                    if (!renderTexture) {
                        this._lastObjectRendered = displayObject;
                    }
                    if (!skipUpdateTransform) {
                        var cacheParent = displayObject.parent;
                        displayObject.parent = this._tempDisplayObjectParent;
                        displayObject.updateTransform();
                        displayObject.parent = cacheParent;
                    }
                    this.bindRenderTexture(renderTexture, transform);
                    this.currentRenderer.start();
                    if (clear !== undefined ? clear : this.clearBeforeRender) {
                        this._activeRenderTarget.clear();
                    }
                    displayObject.renderWebGL(this);
                    this.currentRenderer.flush();
                    this.textureGC.update();
                    this.emit('postrender');
                };
                WebGLRenderer.prototype.setObjectRenderer = function setObjectRenderer(objectRenderer) {
                    if (this.currentRenderer === objectRenderer) {
                        return;
                    }
                    this.currentRenderer.stop();
                    this.currentRenderer = objectRenderer;
                    this.currentRenderer.start();
                };
                WebGLRenderer.prototype.flush = function flush() {
                    this.setObjectRenderer(this.emptyRenderer);
                };
                WebGLRenderer.prototype.resize = function resize(screenWidth, screenHeight) {
                    _SystemRenderer3.default.prototype.resize.call(this, screenWidth, screenHeight);
                    this.rootRenderTarget.resize(screenWidth, screenHeight);
                    if (this._activeRenderTarget === this.rootRenderTarget) {
                        this.rootRenderTarget.activate();
                        if (this._activeShader) {
                            this._activeShader.uniforms.projectionMatrix = this.rootRenderTarget.projectionMatrix.toArray(true);
                        }
                    }
                };
                WebGLRenderer.prototype.setBlendMode = function setBlendMode(blendMode) {
                    this.state.setBlendMode(blendMode);
                };
                WebGLRenderer.prototype.clear = function clear(clearColor) {
                    this._activeRenderTarget.clear(clearColor);
                };
                WebGLRenderer.prototype.setTransform = function setTransform(matrix) {
                    this._activeRenderTarget.transform = matrix;
                };
                WebGLRenderer.prototype.clearRenderTexture = function clearRenderTexture(renderTexture, clearColor) {
                    var baseTexture = renderTexture.baseTexture;
                    var renderTarget = baseTexture._glRenderTargets[this.CONTEXT_UID];
                    if (renderTarget) {
                        renderTarget.clear(clearColor);
                    }
                    return this;
                };
                WebGLRenderer.prototype.bindRenderTexture = function bindRenderTexture(renderTexture, transform) {
                    var renderTarget = void 0;
                    if (renderTexture) {
                        var baseTexture = renderTexture.baseTexture;
                        if (!baseTexture._glRenderTargets[this.CONTEXT_UID]) {
                            this.textureManager.updateTexture(baseTexture, 0);
                        }
                        this.unbindTexture(baseTexture);
                        renderTarget = baseTexture._glRenderTargets[this.CONTEXT_UID];
                        renderTarget.setFrame(renderTexture.frame);
                    } else {
                        renderTarget = this.rootRenderTarget;
                    }
                    renderTarget.transform = transform;
                    this.bindRenderTarget(renderTarget);
                    return this;
                };
                WebGLRenderer.prototype.bindRenderTarget = function bindRenderTarget(renderTarget) {
                    if (renderTarget !== this._activeRenderTarget) {
                        this._activeRenderTarget = renderTarget;
                        renderTarget.activate();
                        if (this._activeShader) {
                            this._activeShader.uniforms.projectionMatrix = renderTarget.projectionMatrix.toArray(true);
                        }
                        this.stencilManager.setMaskStack(renderTarget.stencilMaskStack);
                    }
                    return this;
                };
                WebGLRenderer.prototype.bindShader = function bindShader(shader, autoProject) {
                    if (this._activeShader !== shader) {
                        this._activeShader = shader;
                        shader.bind();
                        if (autoProject !== false) {
                            shader.uniforms.projectionMatrix = this._activeRenderTarget.projectionMatrix.toArray(true);
                        }
                    }
                    return this;
                };
                WebGLRenderer.prototype.bindTexture = function bindTexture(texture, location, forceLocation) {
                    texture = texture || this.emptyTextures[location];
                    texture = texture.baseTexture || texture;
                    texture.touched = this.textureGC.count;
                    if (!forceLocation) {
                        for (var i = 0; i < this.boundTextures.length; i++) {
                            if (this.boundTextures[i] === texture) {
                                return i;
                            }
                        }
                        if (location === undefined) {
                            this._nextTextureLocation++;
                            this._nextTextureLocation %= this.boundTextures.length;
                            location = this.boundTextures.length - this._nextTextureLocation - 1;
                        }
                    } else {
                        location = location || 0;
                    }
                    var gl = this.gl;
                    var glTexture = texture._glTextures[this.CONTEXT_UID];
                    if (!glTexture) {
                        this.textureManager.updateTexture(texture, location);
                    } else {
                        this.boundTextures[location] = texture;
                        gl.activeTexture(gl.TEXTURE0 + location);
                        gl.bindTexture(gl.TEXTURE_2D, glTexture.texture);
                    }
                    return location;
                };
                WebGLRenderer.prototype.unbindTexture = function unbindTexture(texture) {
                    var gl = this.gl;
                    texture = texture.baseTexture || texture;
                    for (var i = 0; i < this.boundTextures.length; i++) {
                        if (this.boundTextures[i] === texture) {
                            this.boundTextures[i] = this.emptyTextures[i];
                            gl.activeTexture(gl.TEXTURE0 + i);
                            gl.bindTexture(gl.TEXTURE_2D, this.emptyTextures[i]._glTextures[this.CONTEXT_UID].texture);
                        }
                    }
                    return this;
                };
                WebGLRenderer.prototype.createVao = function createVao() {
                    return new _pixiGlCore2.default.VertexArrayObject(this.gl, this.state.attribState);
                };
                WebGLRenderer.prototype.bindVao = function bindVao(vao) {
                    if (this._activeVao === vao) {
                        return this;
                    }
                    if (vao) {
                        vao.bind();
                    } else if (this._activeVao) {
                        this._activeVao.unbind();
                    }
                    this._activeVao = vao;
                    return this;
                };
                WebGLRenderer.prototype.reset = function reset() {
                    this.setObjectRenderer(this.emptyRenderer);
                    this.bindVao(null);
                    this._activeShader = null;
                    this._activeRenderTarget = this.rootRenderTarget;
                    for (var i = 0; i < this.boundTextures.length; i++) {
                        this.boundTextures[i] = this.emptyTextures[i];
                    }
                    this.rootRenderTarget.activate();
                    this.state.resetToDefault();
                    return this;
                };
                WebGLRenderer.prototype.handleContextLost = function handleContextLost(event) {
                    event.preventDefault();
                };
                WebGLRenderer.prototype.handleContextRestored = function handleContextRestored() {
                    this.textureManager.removeAll();
                    this.filterManager.destroy(true);
                    this._initContext();
                };
                WebGLRenderer.prototype.destroy = function destroy(removeView) {
                    this.destroyPlugins();
                    this.view.removeEventListener('webglcontextlost', this.handleContextLost);
                    this.view.removeEventListener('webglcontextrestored', this.handleContextRestored);
                    this.textureManager.destroy();
                    _SystemRenderer.prototype.destroy.call(this, removeView);
                    this.uid = 0;
                    this.maskManager.destroy();
                    this.stencilManager.destroy();
                    this.filterManager.destroy();
                    this.maskManager = null;
                    this.filterManager = null;
                    this.textureManager = null;
                    this.currentRenderer = null;
                    this.handleContextLost = null;
                    this.handleContextRestored = null;
                    this._contextOptions = null;
                    this.gl.useProgram(null);
                    if (this.gl.getExtension('WEBGL_lose_context')) {
                        this.gl.getExtension('WEBGL_lose_context').loseContext();
                    }
                    this.gl = null;
                };
                return WebGLRenderer;
            }(_SystemRenderer3.default);
            exports.default = WebGLRenderer;
            _utils.pluginTarget.mixin(WebGLRenderer);
        }, {
            "../../const": 46,
            "../../textures/BaseTexture": 112,
            "../../utils": 125,
            "../SystemRenderer": 76,
            "./TextureGarbageCollector": 82,
            "./TextureManager": 83,
            "./WebGLState": 85,
            "./managers/FilterManager": 90,
            "./managers/MaskManager": 91,
            "./managers/StencilManager": 92,
            "./utils/ObjectRenderer": 94,
            "./utils/RenderTarget": 96,
            "./utils/mapWebGLDrawModesToPixi": 99,
            "./utils/validateContext": 100,
            "pixi-gl-core": 15
        }],
        85: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _mapWebGLBlendModesToPixi = require('./utils/mapWebGLBlendModesToPixi');
            var _mapWebGLBlendModesToPixi2 = _interopRequireDefault(_mapWebGLBlendModesToPixi);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var BLEND = 0;
            var DEPTH_TEST = 1;
            var FRONT_FACE = 2;
            var CULL_FACE = 3;
            var BLEND_FUNC = 4;
            var WebGLState = function () {
                function WebGLState(gl) {
                    _classCallCheck(this, WebGLState);
                    this.activeState = new Uint8Array(16);
                    this.defaultState = new Uint8Array(16);
                    this.defaultState[0] = 1;
                    this.stackIndex = 0;
                    this.stack = [];
                    this.gl = gl;
                    this.maxAttribs = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);
                    this.attribState = {
                        tempAttribState: new Array(this.maxAttribs),
                        attribState: new Array(this.maxAttribs)
                    };
                    this.blendModes = (0, _mapWebGLBlendModesToPixi2.default)(gl);
                    this.nativeVaoExtension = gl.getExtension('OES_vertex_array_object') || gl.getExtension('MOZ_OES_vertex_array_object') || gl.getExtension('WEBKIT_OES_vertex_array_object');
                }
                WebGLState.prototype.push = function push() {
                    var state = this.stack[this.stackIndex];
                    if (!state) {
                        state = this.stack[this.stackIndex] = new Uint8Array(16);
                    }
                    ++this.stackIndex;
                    for (var i = 0; i < this.activeState.length; i++) {
                        state[i] = this.activeState[i];
                    }
                };
                WebGLState.prototype.pop = function pop() {
                    var state = this.stack[--this.stackIndex];
                    this.setState(state);
                };
                WebGLState.prototype.setState = function setState(state) {
                    this.setBlend(state[BLEND]);
                    this.setDepthTest(state[DEPTH_TEST]);
                    this.setFrontFace(state[FRONT_FACE]);
                    this.setCullFace(state[CULL_FACE]);
                    this.setBlendMode(state[BLEND_FUNC]);
                };
                WebGLState.prototype.setBlend = function setBlend(value) {
                    value = value ? 1 : 0;
                    if (this.activeState[BLEND] === value) {
                        return;
                    }
                    this.activeState[BLEND] = value;
                    this.gl[value ? 'enable' : 'disable'](this.gl.BLEND);
                };
                WebGLState.prototype.setBlendMode = function setBlendMode(value) {
                    if (value === this.activeState[BLEND_FUNC]) {
                        return;
                    }
                    this.activeState[BLEND_FUNC] = value;
                    var mode = this.blendModes[value];
                    if (mode.length === 2) {
                        this.gl.blendFunc(mode[0], mode[1]);
                    } else {
                        this.gl.blendFuncSeparate(mode[0], mode[1], mode[2], mode[3]);
                    }
                };
                WebGLState.prototype.setDepthTest = function setDepthTest(value) {
                    value = value ? 1 : 0;
                    if (this.activeState[DEPTH_TEST] === value) {
                        return;
                    }
                    this.activeState[DEPTH_TEST] = value;
                    this.gl[value ? 'enable' : 'disable'](this.gl.DEPTH_TEST);
                };
                WebGLState.prototype.setCullFace = function setCullFace(value) {
                    value = value ? 1 : 0;
                    if (this.activeState[CULL_FACE] === value) {
                        return;
                    }
                    this.activeState[CULL_FACE] = value;
                    this.gl[value ? 'enable' : 'disable'](this.gl.CULL_FACE);
                };
                WebGLState.prototype.setFrontFace = function setFrontFace(value) {
                    value = value ? 1 : 0;
                    if (this.activeState[FRONT_FACE] === value) {
                        return;
                    }
                    this.activeState[FRONT_FACE] = value;
                    this.gl.frontFace(this.gl[value ? 'CW' : 'CCW']);
                };
                WebGLState.prototype.resetAttributes = function resetAttributes() {
                    for (var i = 0; i < this.attribState.tempAttribState.length; i++) {
                        this.attribState.tempAttribState[i] = 0;
                    }
                    for (var _i = 0; _i < this.attribState.attribState.length; _i++) {
                        this.attribState.attribState[_i] = 0;
                    }
                    for (var _i2 = 1; _i2 < this.maxAttribs; _i2++) {
                        this.gl.disableVertexAttribArray(_i2);
                    }
                };
                WebGLState.prototype.resetToDefault = function resetToDefault() {
                    if (this.nativeVaoExtension) {
                        this.nativeVaoExtension.bindVertexArrayOES(null);
                    }
                    this.resetAttributes();
                    for (var i = 0; i < this.activeState.length; ++i) {
                        this.activeState[i] = 32;
                    }
                    this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, false);
                    this.setState(this.defaultState);
                };
                return WebGLState;
            }();
            exports.default = WebGLState;
        }, {
            "./utils/mapWebGLBlendModesToPixi": 98
        }],
        86: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _extractUniformsFromSrc = require('./extractUniformsFromSrc');
            var _extractUniformsFromSrc2 = _interopRequireDefault(_extractUniformsFromSrc);
            var _utils = require('../../../utils');
            var _const = require('../../../const');
            var _settings = require('../../../settings');
            var _settings2 = _interopRequireDefault(_settings);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var SOURCE_KEY_MAP = {};
            var Filter = function () {
                function Filter(vertexSrc, fragmentSrc, uniforms) {
                    _classCallCheck(this, Filter);
                    this.vertexSrc = vertexSrc || Filter.defaultVertexSrc;
                    this.fragmentSrc = fragmentSrc || Filter.defaultFragmentSrc;
                    this._blendMode = _const.BLEND_MODES.NORMAL;
                    this.uniformData = uniforms || (0, _extractUniformsFromSrc2.default)(this.vertexSrc, this.fragmentSrc, 'projectionMatrix|uSampler');
                    this.uniforms = {};
                    for (var i in this.uniformData) {
                        this.uniforms[i] = this.uniformData[i].value;
                        if (this.uniformData[i].type) {
                            this.uniformData[i].type = this.uniformData[i].type.toLowerCase();
                        }
                    }
                    this.glShaders = {};
                    if (!SOURCE_KEY_MAP[this.vertexSrc + this.fragmentSrc]) {
                        SOURCE_KEY_MAP[this.vertexSrc + this.fragmentSrc] = (0, _utils.uid)();
                    }
                    this.glShaderKey = SOURCE_KEY_MAP[this.vertexSrc + this.fragmentSrc];
                    this.padding = 4;
                    this.resolution = _settings2.default.RESOLUTION;
                    this.enabled = true;
                    this.autoFit = true;
                }
                Filter.prototype.apply = function apply(filterManager, input, output, clear, currentState) {
                    filterManager.applyFilter(this, input, output, clear);
                };
                _createClass(Filter, [{
                    key: 'blendMode',
                    get: function get() {
                        return this._blendMode;
                    },
                    set: function set(value) {
                        this._blendMode = value;
                    }
                }], [{
                    key: 'defaultVertexSrc',
                    get: function get() {
                        return ['attribute vec2 aVertexPosition;', 'attribute vec2 aTextureCoord;', 'uniform mat3 projectionMatrix;', 'uniform mat3 filterMatrix;', 'varying vec2 vTextureCoord;', 'varying vec2 vFilterCoord;', 'void main(void){', '   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);', '   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;', '   vTextureCoord = aTextureCoord ;', '}'].join('\n');
                    }
                }, {
                    key: 'defaultFragmentSrc',
                    get: function get() {
                        return ['varying vec2 vTextureCoord;', 'varying vec2 vFilterCoord;', 'uniform sampler2D uSampler;', 'uniform sampler2D filterSampler;', 'void main(void){', '   vec4 masky = texture2D(filterSampler, vFilterCoord);', '   vec4 sample = texture2D(uSampler, vTextureCoord);', '   vec4 color;', '   if(mod(vFilterCoord.x, 1.0) > 0.5)', '   {', '     color = vec4(1.0, 0.0, 0.0, 1.0);', '   }', '   else', '   {', '     color = vec4(0.0, 1.0, 0.0, 1.0);', '   }', '   gl_FragColor = mix(sample, masky, 0.5);', '   gl_FragColor *= sample.a;', '}'].join('\n');
                    }
                }]);
                return Filter;
            }();
            exports.default = Filter;
        }, {
            "../../../const": 46,
            "../../../settings": 101,
            "../../../utils": 125,
            "./extractUniformsFromSrc": 87
        }],
        87: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = extractUniformsFromSrc;
            var _pixiGlCore = require('pixi-gl-core');
            var _pixiGlCore2 = _interopRequireDefault(_pixiGlCore);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
            var defaultValue = _pixiGlCore2.default.shader.defaultValue;

            function extractUniformsFromSrc(vertexSrc, fragmentSrc, mask) {
                var vertUniforms = extractUniformsFromString(vertexSrc, mask);
                var fragUniforms = extractUniformsFromString(fragmentSrc, mask);
                return Object.assign(vertUniforms, fragUniforms);
            }

            function extractUniformsFromString(string) {
                var maskRegex = new RegExp('^(projectionMatrix|uSampler|filterArea|filterClamp)$');
                var uniforms = {};
                var nameSplit = void 0;
                var lines = string.replace(/\s+/g, ' ').split(/\s*;\s*/);
                for (var i = 0; i < lines.length; i++) {
                    var line = lines[i].trim();
                    if (line.indexOf('uniform') > -1) {
                        var splitLine = line.split(' ');
                        var type = splitLine[1];
                        var name = splitLine[2];
                        var size = 1;
                        if (name.indexOf('[') > -1) {
                            nameSplit = name.split(/\[|]/);
                            name = nameSplit[0];
                            size *= Number(nameSplit[1]);
                        }
                        if (!name.match(maskRegex)) {
                            uniforms[name] = {
                                value: defaultValue(type, size),
                                name: name,
                                type: type
                            };
                        }
                    }
                }
                return uniforms;
            }
        }, {
            "pixi-gl-core": 15
        }],
        88: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.calculateScreenSpaceMatrix = calculateScreenSpaceMatrix;
            exports.calculateNormalizedScreenSpaceMatrix = calculateNormalizedScreenSpaceMatrix;
            exports.calculateSpriteMatrix = calculateSpriteMatrix;
            var _math = require('../../../math');

            function calculateScreenSpaceMatrix(outputMatrix, filterArea, textureSize) {
                var mappedMatrix = outputMatrix.identity();
                mappedMatrix.translate(filterArea.x / textureSize.width, filterArea.y / textureSize.height);
                mappedMatrix.scale(textureSize.width, textureSize.height);
                return mappedMatrix;
            }

            function calculateNormalizedScreenSpaceMatrix(outputMatrix, filterArea, textureSize) {
                var mappedMatrix = outputMatrix.identity();
                mappedMatrix.translate(filterArea.x / textureSize.width, filterArea.y / textureSize.height);
                var translateScaleX = textureSize.width / filterArea.width;
                var translateScaleY = textureSize.height / filterArea.height;
                mappedMatrix.scale(translateScaleX, translateScaleY);
                return mappedMatrix;
            }

            function calculateSpriteMatrix(outputMatrix, filterArea, textureSize, sprite) {
                var orig = sprite._texture.orig;
                var mappedMatrix = outputMatrix.set(textureSize.width, 0, 0, textureSize.height, filterArea.x, filterArea.y);
                var worldTransform = sprite.worldTransform.copy(_math.Matrix.TEMP_MATRIX);
                worldTransform.invert();
                mappedMatrix.prepend(worldTransform);
                mappedMatrix.scale(1.0 / orig.width, 1.0 / orig.height);
                mappedMatrix.translate(sprite.anchor.x, sprite.anchor.y);
                return mappedMatrix;
            }
        }, {
            "../../../math": 70
        }],
        89: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _Filter2 = require('../Filter');
            var _Filter3 = _interopRequireDefault(_Filter2);
            var _math = require('../../../../math');
            var _path = require('path');
            var _TextureMatrix = require('../../../../textures/TextureMatrix');
            var _TextureMatrix2 = _interopRequireDefault(_TextureMatrix);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var SpriteMaskFilter = function (_Filter) {
                _inherits(SpriteMaskFilter, _Filter);

                function SpriteMaskFilter(sprite) {
                    _classCallCheck(this, SpriteMaskFilter);
                    var maskMatrix = new _math.Matrix();
                    var _this = _possibleConstructorReturn(this, _Filter.call(this, 'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n', 'varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n'));
                    sprite.renderable = false;
                    _this.maskSprite = sprite;
                    _this.maskMatrix = maskMatrix;
                    return _this;
                }
                SpriteMaskFilter.prototype.apply = function apply(filterManager, input, output) {
                    var maskSprite = this.maskSprite;
                    var tex = this.maskSprite.texture;
                    if (!tex.valid) {
                        return;
                    }
                    if (!tex.transform) {
                        tex.transform = new _TextureMatrix2.default(tex, 0.0);
                    }
                    tex.transform.update();
                    this.uniforms.mask = tex;
                    this.uniforms.otherMatrix = filterManager.calculateSpriteMatrix(this.maskMatrix, maskSprite).prepend(tex.transform.mapCoord);
                    this.uniforms.alpha = maskSprite.worldAlpha;
                    this.uniforms.maskClamp = tex.transform.uClampFrame;
                    filterManager.applyFilter(this, input, output);
                };
                return SpriteMaskFilter;
            }(_Filter3.default);
            exports.default = SpriteMaskFilter;
        }, {
            "../../../../math": 70,
            "../../../../textures/TextureMatrix": 116,
            "../Filter": 86,
            "path": 8
        }],
        90: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _WebGLManager2 = require('./WebGLManager');
            var _WebGLManager3 = _interopRequireDefault(_WebGLManager2);
            var _RenderTarget = require('../utils/RenderTarget');
            var _RenderTarget2 = _interopRequireDefault(_RenderTarget);
            var _Quad = require('../utils/Quad');
            var _Quad2 = _interopRequireDefault(_Quad);
            var _math = require('../../../math');
            var _Shader = require('../../../Shader');
            var _Shader2 = _interopRequireDefault(_Shader);
            var _filterTransforms = require('../filters/filterTransforms');
            var filterTransforms = _interopRequireWildcard(_filterTransforms);
            var _bitTwiddle = require('bit-twiddle');
            var _bitTwiddle2 = _interopRequireDefault(_bitTwiddle);

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var FilterState = function FilterState() {
                _classCallCheck(this, FilterState);
                this.renderTarget = null;
                this.sourceFrame = new _math.Rectangle();
                this.destinationFrame = new _math.Rectangle();
                this.filters = [];
                this.target = null;
                this.resolution = 1;
            };
            var FilterManager = function (_WebGLManager) {
                _inherits(FilterManager, _WebGLManager);

                function FilterManager(renderer) {
                    _classCallCheck(this, FilterManager);
                    var _this = _possibleConstructorReturn(this, _WebGLManager.call(this, renderer));
                    _this.gl = _this.renderer.gl;
                    _this.quad = new _Quad2.default(_this.gl, renderer.state.attribState);
                    _this.shaderCache = {};
                    _this.pool = {};
                    _this.filterData = null;
                    _this.managedFilters = [];
                    return _this;
                }
                FilterManager.prototype.pushFilter = function pushFilter(target, filters) {
                    var renderer = this.renderer;
                    var filterData = this.filterData;
                    if (!filterData) {
                        filterData = this.renderer._activeRenderTarget.filterStack;
                        var filterState = new FilterState();
                        filterState.sourceFrame = filterState.destinationFrame = this.renderer._activeRenderTarget.size;
                        filterState.renderTarget = renderer._activeRenderTarget;
                        this.renderer._activeRenderTarget.filterData = filterData = {
                            index: 0,
                            stack: [filterState]
                        };
                        this.filterData = filterData;
                    }
                    var currentState = filterData.stack[++filterData.index];
                    if (!currentState) {
                        currentState = filterData.stack[filterData.index] = new FilterState();
                    }
                    var resolution = filters[0].resolution;
                    var padding = filters[0].padding | 0;
                    var targetBounds = target.filterArea || target.getBounds(true);
                    var sourceFrame = currentState.sourceFrame;
                    var destinationFrame = currentState.destinationFrame;
                    sourceFrame.x = (targetBounds.x * resolution | 0) / resolution;
                    sourceFrame.y = (targetBounds.y * resolution | 0) / resolution;
                    sourceFrame.width = (targetBounds.width * resolution | 0) / resolution;
                    sourceFrame.height = (targetBounds.height * resolution | 0) / resolution;
                    if (filterData.stack[0].renderTarget.transform) {} else if (filters[0].autoFit) {
                        sourceFrame.fit(filterData.stack[0].destinationFrame);
                    }
                    sourceFrame.pad(padding);
                    destinationFrame.width = sourceFrame.width;
                    destinationFrame.height = sourceFrame.height;
                    var renderTarget = this.getPotRenderTarget(renderer.gl, sourceFrame.width, sourceFrame.height, resolution);
                    currentState.target = target;
                    currentState.filters = filters;
                    currentState.resolution = resolution;
                    currentState.renderTarget = renderTarget;
                    renderTarget.setFrame(destinationFrame, sourceFrame);
                    renderer.bindRenderTarget(renderTarget);
                    renderTarget.clear();
                };
                FilterManager.prototype.popFilter = function popFilter() {
                    var filterData = this.filterData;
                    var lastState = filterData.stack[filterData.index - 1];
                    var currentState = filterData.stack[filterData.index];
                    this.quad.map(currentState.renderTarget.size, currentState.sourceFrame).upload();
                    var filters = currentState.filters;
                    if (filters.length === 1) {
                        filters[0].apply(this, currentState.renderTarget, lastState.renderTarget, false, currentState);
                        this.freePotRenderTarget(currentState.renderTarget);
                    } else {
                        var flip = currentState.renderTarget;
                        var flop = this.getPotRenderTarget(this.renderer.gl, currentState.sourceFrame.width, currentState.sourceFrame.height, currentState.resolution);
                        flop.setFrame(currentState.destinationFrame, currentState.sourceFrame);
                        flop.clear();
                        var i = 0;
                        for (i = 0; i < filters.length - 1; ++i) {
                            filters[i].apply(this, flip, flop, true, currentState);
                            var t = flip;
                            flip = flop;
                            flop = t;
                        }
                        filters[i].apply(this, flip, lastState.renderTarget, false, currentState);
                        this.freePotRenderTarget(flip);
                        this.freePotRenderTarget(flop);
                    }
                    filterData.index--;
                    if (filterData.index === 0) {
                        this.filterData = null;
                    }
                };
                FilterManager.prototype.applyFilter = function applyFilter(filter, input, output, clear) {
                    var renderer = this.renderer;
                    var gl = renderer.gl;
                    var shader = filter.glShaders[renderer.CONTEXT_UID];
                    if (!shader) {
                        if (filter.glShaderKey) {
                            shader = this.shaderCache[filter.glShaderKey];
                            if (!shader) {
                                shader = new _Shader2.default(this.gl, filter.vertexSrc, filter.fragmentSrc);
                                filter.glShaders[renderer.CONTEXT_UID] = this.shaderCache[filter.glShaderKey] = shader;
                                this.managedFilters.push(filter);
                            }
                        } else {
                            shader = filter.glShaders[renderer.CONTEXT_UID] = new _Shader2.default(this.gl, filter.vertexSrc, filter.fragmentSrc);
                            this.managedFilters.push(filter);
                        }
                        renderer.bindVao(null);
                        this.quad.initVao(shader);
                    }
                    renderer.bindVao(this.quad.vao);
                    renderer.bindRenderTarget(output);
                    if (clear) {
                        gl.disable(gl.SCISSOR_TEST);
                        renderer.clear();
                        gl.enable(gl.SCISSOR_TEST);
                    }
                    if (output === renderer.maskManager.scissorRenderTarget) {
                        renderer.maskManager.pushScissorMask(null, renderer.maskManager.scissorData);
                    }
                    renderer.bindShader(shader);
                    var tex = this.renderer.emptyTextures[0];
                    this.renderer.boundTextures[0] = tex;
                    this.syncUniforms(shader, filter);
                    renderer.state.setBlendMode(filter.blendMode);
                    gl.activeTexture(gl.TEXTURE0);
                    gl.bindTexture(gl.TEXTURE_2D, input.texture.texture);
                    this.quad.vao.draw(this.renderer.gl.TRIANGLES, 6, 0);
                    gl.bindTexture(gl.TEXTURE_2D, tex._glTextures[this.renderer.CONTEXT_UID].texture);
                };
                FilterManager.prototype.syncUniforms = function syncUniforms(shader, filter) {
                    var uniformData = filter.uniformData;
                    var uniforms = filter.uniforms;
                    var textureCount = 1;
                    var currentState = void 0;
                    if (shader.uniforms.filterArea) {
                        currentState = this.filterData.stack[this.filterData.index];
                        var filterArea = shader.uniforms.filterArea;
                        filterArea[0] = currentState.renderTarget.size.width;
                        filterArea[1] = currentState.renderTarget.size.height;
                        filterArea[2] = currentState.sourceFrame.x;
                        filterArea[3] = currentState.sourceFrame.y;
                        shader.uniforms.filterArea = filterArea;
                    }
                    if (shader.uniforms.filterClamp) {
                        currentState = currentState || this.filterData.stack[this.filterData.index];
                        var filterClamp = shader.uniforms.filterClamp;
                        filterClamp[0] = 0;
                        filterClamp[1] = 0;
                        filterClamp[2] = (currentState.sourceFrame.width - 1) / currentState.renderTarget.size.width;
                        filterClamp[3] = (currentState.sourceFrame.height - 1) / currentState.renderTarget.size.height;
                        shader.uniforms.filterClamp = filterClamp;
                    }
                    for (var i in uniformData) {
                        var type = uniformData[i].type;
                        if (type === 'sampler2d' && uniforms[i] !== 0) {
                            if (uniforms[i].baseTexture) {
                                shader.uniforms[i] = this.renderer.bindTexture(uniforms[i].baseTexture, textureCount);
                            } else {
                                shader.uniforms[i] = textureCount;
                                var gl = this.renderer.gl;
                                this.renderer.boundTextures[textureCount] = this.renderer.emptyTextures[textureCount];
                                gl.activeTexture(gl.TEXTURE0 + textureCount);
                                uniforms[i].texture.bind();
                            }
                            textureCount++;
                        } else if (type === 'mat3') {
                            if (uniforms[i].a !== undefined) {
                                shader.uniforms[i] = uniforms[i].toArray(true);
                            } else {
                                shader.uniforms[i] = uniforms[i];
                            }
                        } else if (type === 'vec2') {
                            if (uniforms[i].x !== undefined) {
                                var val = shader.uniforms[i] || new Float32Array(2);
                                val[0] = uniforms[i].x;
                                val[1] = uniforms[i].y;
                                shader.uniforms[i] = val;
                            } else {
                                shader.uniforms[i] = uniforms[i];
                            }
                        } else if (type === 'float') {
                            if (shader.uniforms.data[i].value !== uniformData[i]) {
                                shader.uniforms[i] = uniforms[i];
                            }
                        } else {
                            shader.uniforms[i] = uniforms[i];
                        }
                    }
                };
                FilterManager.prototype.getRenderTarget = function getRenderTarget(clear, resolution) {
                    var currentState = this.filterData.stack[this.filterData.index];
                    var renderTarget = this.getPotRenderTarget(this.renderer.gl, currentState.sourceFrame.width, currentState.sourceFrame.height, resolution || currentState.resolution);
                    renderTarget.setFrame(currentState.destinationFrame, currentState.sourceFrame);
                    return renderTarget;
                };
                FilterManager.prototype.returnRenderTarget = function returnRenderTarget(renderTarget) {
                    this.freePotRenderTarget(renderTarget);
                };
                FilterManager.prototype.calculateScreenSpaceMatrix = function calculateScreenSpaceMatrix(outputMatrix) {
                    var currentState = this.filterData.stack[this.filterData.index];
                    return filterTransforms.calculateScreenSpaceMatrix(outputMatrix, currentState.sourceFrame, currentState.renderTarget.size);
                };
                FilterManager.prototype.calculateNormalizedScreenSpaceMatrix = function calculateNormalizedScreenSpaceMatrix(outputMatrix) {
                    var currentState = this.filterData.stack[this.filterData.index];
                    return filterTransforms.calculateNormalizedScreenSpaceMatrix(outputMatrix, currentState.sourceFrame, currentState.renderTarget.size, currentState.destinationFrame);
                };
                FilterManager.prototype.calculateSpriteMatrix = function calculateSpriteMatrix(outputMatrix, sprite) {
                    var currentState = this.filterData.stack[this.filterData.index];
                    return filterTransforms.calculateSpriteMatrix(outputMatrix, currentState.sourceFrame, currentState.renderTarget.size, sprite);
                };
                FilterManager.prototype.destroy = function destroy() {
                    var contextLost = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
                    var renderer = this.renderer;
                    var filters = this.managedFilters;
                    for (var i = 0; i < filters.length; i++) {
                        if (!contextLost) {
                            filters[i].glShaders[renderer.CONTEXT_UID].destroy();
                        }
                        delete filters[i].glShaders[renderer.CONTEXT_UID];
                    }
                    this.shaderCache = {};
                    if (!contextLost) {
                        this.emptyPool();
                    } else {
                        this.pool = {};
                    }
                };
                FilterManager.prototype.getPotRenderTarget = function getPotRenderTarget(gl, minWidth, minHeight, resolution) {
                    minWidth = _bitTwiddle2.default.nextPow2(minWidth * resolution);
                    minHeight = _bitTwiddle2.default.nextPow2(minHeight * resolution);
                    var key = (minWidth & 0xFFFF) << 16 | minHeight & 0xFFFF;
                    if (!this.pool[key]) {
                        this.pool[key] = [];
                    }
                    var renderTarget = this.pool[key].pop();
                    if (!renderTarget) {
                        var tex = this.renderer.boundTextures[0];
                        gl.activeTexture(gl.TEXTURE0);
                        renderTarget = new _RenderTarget2.default(gl, minWidth, minHeight, null, 1);
                        gl.bindTexture(gl.TEXTURE_2D, tex._glTextures[this.renderer.CONTEXT_UID].texture);
                    }
                    renderTarget.resolution = resolution;
                    renderTarget.defaultFrame.width = renderTarget.size.width = minWidth / resolution;
                    renderTarget.defaultFrame.height = renderTarget.size.height = minHeight / resolution;
                    return renderTarget;
                };
                FilterManager.prototype.emptyPool = function emptyPool() {
                    for (var i in this.pool) {
                        var textures = this.pool[i];
                        if (textures) {
                            for (var j = 0; j < textures.length; j++) {
                                textures[j].destroy(true);
                            }
                        }
                    }
                    this.pool = {};
                };
                FilterManager.prototype.freePotRenderTarget = function freePotRenderTarget(renderTarget) {
                    var minWidth = renderTarget.size.width * renderTarget.resolution;
                    var minHeight = renderTarget.size.height * renderTarget.resolution;
                    var key = (minWidth & 0xFFFF) << 16 | minHeight & 0xFFFF;
                    this.pool[key].push(renderTarget);
                };
                return FilterManager;
            }(_WebGLManager3.default);
            exports.default = FilterManager;
        }, {
            "../../../Shader": 44,
            "../../../math": 70,
            "../filters/filterTransforms": 88,
            "../utils/Quad": 95,
            "../utils/RenderTarget": 96,
            "./WebGLManager": 93,
            "bit-twiddle": 1
        }],
        91: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _WebGLManager2 = require('./WebGLManager');
            var _WebGLManager3 = _interopRequireDefault(_WebGLManager2);
            var _SpriteMaskFilter = require('../filters/spriteMask/SpriteMaskFilter');
            var _SpriteMaskFilter2 = _interopRequireDefault(_SpriteMaskFilter);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var MaskManager = function (_WebGLManager) {
                _inherits(MaskManager, _WebGLManager);

                function MaskManager(renderer) {
                    _classCallCheck(this, MaskManager);
                    var _this = _possibleConstructorReturn(this, _WebGLManager.call(this, renderer));
                    _this.scissor = false;
                    _this.scissorData = null;
                    _this.scissorRenderTarget = null;
                    _this.enableScissor = true;
                    _this.alphaMaskPool = [];
                    _this.alphaMaskIndex = 0;
                    return _this;
                }
                MaskManager.prototype.pushMask = function pushMask(target, maskData) {
                    if (maskData.texture) {
                        this.pushSpriteMask(target, maskData);
                    } else if (this.enableScissor && !this.scissor && this.renderer._activeRenderTarget.root && !this.renderer.stencilManager.stencilMaskStack.length && maskData.isFastRect()) {
                        var matrix = maskData.worldTransform;
                        var rot = Math.atan2(matrix.b, matrix.a);
                        rot = Math.round(rot * (180 / Math.PI));
                        if (rot % 90) {
                            this.pushStencilMask(maskData);
                        } else {
                            this.pushScissorMask(target, maskData);
                        }
                    } else {
                        this.pushStencilMask(maskData);
                    }
                };
                MaskManager.prototype.popMask = function popMask(target, maskData) {
                    if (maskData.texture) {
                        this.popSpriteMask(target, maskData);
                    } else if (this.enableScissor && !this.renderer.stencilManager.stencilMaskStack.length) {
                        this.popScissorMask(target, maskData);
                    } else {
                        this.popStencilMask(target, maskData);
                    }
                };
                MaskManager.prototype.pushSpriteMask = function pushSpriteMask(target, maskData) {
                    var alphaMaskFilter = this.alphaMaskPool[this.alphaMaskIndex];
                    if (!alphaMaskFilter) {
                        alphaMaskFilter = this.alphaMaskPool[this.alphaMaskIndex] = [new _SpriteMaskFilter2.default(maskData)];
                    }
                    alphaMaskFilter[0].resolution = this.renderer.resolution;
                    alphaMaskFilter[0].maskSprite = maskData;
                    target.filterArea = maskData.getBounds(true);
                    this.renderer.filterManager.pushFilter(target, alphaMaskFilter);
                    this.alphaMaskIndex++;
                };
                MaskManager.prototype.popSpriteMask = function popSpriteMask() {
                    this.renderer.filterManager.popFilter();
                    this.alphaMaskIndex--;
                };
                MaskManager.prototype.pushStencilMask = function pushStencilMask(maskData) {
                    this.renderer.currentRenderer.stop();
                    this.renderer.stencilManager.pushStencil(maskData);
                };
                MaskManager.prototype.popStencilMask = function popStencilMask() {
                    this.renderer.currentRenderer.stop();
                    this.renderer.stencilManager.popStencil();
                };
                MaskManager.prototype.pushScissorMask = function pushScissorMask(target, maskData) {
                    maskData.renderable = true;
                    var renderTarget = this.renderer._activeRenderTarget;
                    var bounds = maskData.getBounds();
                    bounds.fit(renderTarget.size);
                    maskData.renderable = false;
                    this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);
                    var resolution = this.renderer.resolution;
                    this.renderer.gl.scissor(bounds.x * resolution, (renderTarget.root ? renderTarget.size.height - bounds.y - bounds.height : bounds.y) * resolution, bounds.width * resolution, bounds.height * resolution);
                    this.scissorRenderTarget = renderTarget;
                    this.scissorData = maskData;
                    this.scissor = true;
                };
                MaskManager.prototype.popScissorMask = function popScissorMask() {
                    this.scissorRenderTarget = null;
                    this.scissorData = null;
                    this.scissor = false;
                    var gl = this.renderer.gl;
                    gl.disable(gl.SCISSOR_TEST);
                };
                return MaskManager;
            }(_WebGLManager3.default);
            exports.default = MaskManager;
        }, {
            "../filters/spriteMask/SpriteMaskFilter": 89,
            "./WebGLManager": 93
        }],
        92: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _WebGLManager2 = require('./WebGLManager');
            var _WebGLManager3 = _interopRequireDefault(_WebGLManager2);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var StencilManager = function (_WebGLManager) {
                _inherits(StencilManager, _WebGLManager);

                function StencilManager(renderer) {
                    _classCallCheck(this, StencilManager);
                    var _this = _possibleConstructorReturn(this, _WebGLManager.call(this, renderer));
                    _this.stencilMaskStack = null;
                    return _this;
                }
                StencilManager.prototype.setMaskStack = function setMaskStack(stencilMaskStack) {
                    this.stencilMaskStack = stencilMaskStack;
                    var gl = this.renderer.gl;
                    if (stencilMaskStack.length === 0) {
                        gl.disable(gl.STENCIL_TEST);
                    } else {
                        gl.enable(gl.STENCIL_TEST);
                    }
                };
                StencilManager.prototype.pushStencil = function pushStencil(graphics) {
                    this.renderer.setObjectRenderer(this.renderer.plugins.graphics);
                    this.renderer._activeRenderTarget.attachStencilBuffer();
                    var gl = this.renderer.gl;
                    var prevMaskCount = this.stencilMaskStack.length;
                    if (prevMaskCount === 0) {
                        gl.enable(gl.STENCIL_TEST);
                    }
                    this.stencilMaskStack.push(graphics);
                    gl.colorMask(false, false, false, false);
                    gl.stencilFunc(gl.EQUAL, prevMaskCount, this._getBitwiseMask());
                    gl.stencilOp(gl.KEEP, gl.KEEP, gl.INCR);
                    this.renderer.plugins.graphics.render(graphics);
                    this._useCurrent();
                };
                StencilManager.prototype.popStencil = function popStencil() {
                    this.renderer.setObjectRenderer(this.renderer.plugins.graphics);
                    var gl = this.renderer.gl;
                    var graphics = this.stencilMaskStack.pop();
                    if (this.stencilMaskStack.length === 0) {
                        gl.disable(gl.STENCIL_TEST);
                        gl.clear(gl.STENCIL_BUFFER_BIT);
                        gl.clearStencil(0);
                    } else {
                        gl.colorMask(false, false, false, false);
                        gl.stencilOp(gl.KEEP, gl.KEEP, gl.DECR);
                        this.renderer.plugins.graphics.render(graphics);
                        this._useCurrent();
                    }
                };
                StencilManager.prototype._useCurrent = function _useCurrent() {
                    var gl = this.renderer.gl;
                    gl.colorMask(true, true, true, true);
                    gl.stencilFunc(gl.EQUAL, this.stencilMaskStack.length, this._getBitwiseMask());
                    gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);
                };
                StencilManager.prototype._getBitwiseMask = function _getBitwiseMask() {
                    return (1 << this.stencilMaskStack.length) - 1;
                };
                StencilManager.prototype.destroy = function destroy() {
                    _WebGLManager3.default.prototype.destroy.call(this);
                    this.stencilMaskStack.stencilStack = null;
                };
                return StencilManager;
            }(_WebGLManager3.default);
            exports.default = StencilManager;
        }, {
            "./WebGLManager": 93
        }],
        93: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var WebGLManager = function () {
                function WebGLManager(renderer) {
                    _classCallCheck(this, WebGLManager);
                    this.renderer = renderer;
                    this.renderer.on('context', this.onContextChange, this);
                }
                WebGLManager.prototype.onContextChange = function onContextChange() {};
                WebGLManager.prototype.destroy = function destroy() {
                    this.renderer.off('context', this.onContextChange, this);
                    this.renderer = null;
                };
                return WebGLManager;
            }();
            exports.default = WebGLManager;
        }, {}],
        94: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _WebGLManager2 = require('../managers/WebGLManager');
            var _WebGLManager3 = _interopRequireDefault(_WebGLManager2);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var ObjectRenderer = function (_WebGLManager) {
                _inherits(ObjectRenderer, _WebGLManager);

                function ObjectRenderer() {
                    _classCallCheck(this, ObjectRenderer);
                    return _possibleConstructorReturn(this, _WebGLManager.apply(this, arguments));
                }
                ObjectRenderer.prototype.start = function start() {};
                ObjectRenderer.prototype.stop = function stop() {
                    this.flush();
                };
                ObjectRenderer.prototype.flush = function flush() {};
                ObjectRenderer.prototype.render = function render(object) {};
                return ObjectRenderer;
            }(_WebGLManager3.default);
            exports.default = ObjectRenderer;
        }, {
            "../managers/WebGLManager": 93
        }],
        95: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _pixiGlCore = require('pixi-gl-core');
            var _pixiGlCore2 = _interopRequireDefault(_pixiGlCore);
            var _createIndicesForQuads = require('../../../utils/createIndicesForQuads');
            var _createIndicesForQuads2 = _interopRequireDefault(_createIndicesForQuads);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var Quad = function () {
                function Quad(gl, state) {
                    _classCallCheck(this, Quad);
                    this.gl = gl;
                    this.vertices = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1]);
                    this.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]);
                    this.interleaved = new Float32Array(8 * 2);
                    for (var i = 0; i < 4; i++) {
                        this.interleaved[i * 4] = this.vertices[i * 2];
                        this.interleaved[i * 4 + 1] = this.vertices[i * 2 + 1];
                        this.interleaved[i * 4 + 2] = this.uvs[i * 2];
                        this.interleaved[i * 4 + 3] = this.uvs[i * 2 + 1];
                    }
                    this.indices = (0, _createIndicesForQuads2.default)(1);
                    this.vertexBuffer = _pixiGlCore2.default.GLBuffer.createVertexBuffer(gl, this.interleaved, gl.STATIC_DRAW);
                    this.indexBuffer = _pixiGlCore2.default.GLBuffer.createIndexBuffer(gl, this.indices, gl.STATIC_DRAW);
                    this.vao = new _pixiGlCore2.default.VertexArrayObject(gl, state);
                }
                Quad.prototype.initVao = function initVao(shader) {
                    this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer, shader.attributes.aVertexPosition, this.gl.FLOAT, false, 4 * 4, 0).addAttribute(this.vertexBuffer, shader.attributes.aTextureCoord, this.gl.FLOAT, false, 4 * 4, 2 * 4);
                };
                Quad.prototype.map = function map(targetTextureFrame, destinationFrame) {
                    var x = 0;
                    var y = 0;
                    this.uvs[0] = x;
                    this.uvs[1] = y;
                    this.uvs[2] = x + destinationFrame.width / targetTextureFrame.width;
                    this.uvs[3] = y;
                    this.uvs[4] = x + destinationFrame.width / targetTextureFrame.width;
                    this.uvs[5] = y + destinationFrame.height / targetTextureFrame.height;
                    this.uvs[6] = x;
                    this.uvs[7] = y + destinationFrame.height / targetTextureFrame.height;
                    x = destinationFrame.x;
                    y = destinationFrame.y;
                    this.vertices[0] = x;
                    this.vertices[1] = y;
                    this.vertices[2] = x + destinationFrame.width;
                    this.vertices[3] = y;
                    this.vertices[4] = x + destinationFrame.width;
                    this.vertices[5] = y + destinationFrame.height;
                    this.vertices[6] = x;
                    this.vertices[7] = y + destinationFrame.height;
                    return this;
                };
                Quad.prototype.upload = function upload() {
                    for (var i = 0; i < 4; i++) {
                        this.interleaved[i * 4] = this.vertices[i * 2];
                        this.interleaved[i * 4 + 1] = this.vertices[i * 2 + 1];
                        this.interleaved[i * 4 + 2] = this.uvs[i * 2];
                        this.interleaved[i * 4 + 3] = this.uvs[i * 2 + 1];
                    }
                    this.vertexBuffer.upload(this.interleaved);
                    return this;
                };
                Quad.prototype.destroy = function destroy() {
                    var gl = this.gl;
                    gl.deleteBuffer(this.vertexBuffer);
                    gl.deleteBuffer(this.indexBuffer);
                };
                return Quad;
            }();
            exports.default = Quad;
        }, {
            "../../../utils/createIndicesForQuads": 123,
            "pixi-gl-core": 15
        }],
        96: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _math = require('../../../math');
            var _const = require('../../../const');
            var _settings = require('../../../settings');
            var _settings2 = _interopRequireDefault(_settings);
            var _pixiGlCore = require('pixi-gl-core');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var RenderTarget = function () {
                function RenderTarget(gl, width, height, scaleMode, resolution, root) {
                    _classCallCheck(this, RenderTarget);
                    this.gl = gl;
                    this.frameBuffer = null;
                    this.texture = null;
                    this.clearColor = [0, 0, 0, 0];
                    this.size = new _math.Rectangle(0, 0, 1, 1);
                    this.resolution = resolution || _settings2.default.RESOLUTION;
                    this.projectionMatrix = new _math.Matrix();
                    this.transform = null;
                    this.frame = null;
                    this.defaultFrame = new _math.Rectangle();
                    this.destinationFrame = null;
                    this.sourceFrame = null;
                    this.stencilBuffer = null;
                    this.stencilMaskStack = [];
                    this.filterData = null;
                    this.scaleMode = scaleMode !== undefined ? scaleMode : _settings2.default.SCALE_MODE;
                    this.root = root;
                    if (!this.root) {
                        this.frameBuffer = _pixiGlCore.GLFramebuffer.createRGBA(gl, 100, 100);
                        if (this.scaleMode === _const.SCALE_MODES.NEAREST) {
                            this.frameBuffer.texture.enableNearestScaling();
                        } else {
                            this.frameBuffer.texture.enableLinearScaling();
                        }
                        this.texture = this.frameBuffer.texture;
                    } else {
                        this.frameBuffer = new _pixiGlCore.GLFramebuffer(gl, 100, 100);
                        this.frameBuffer.framebuffer = null;
                    }
                    this.setFrame();
                    this.resize(width, height);
                }
                RenderTarget.prototype.clear = function clear(clearColor) {
                    var cc = clearColor || this.clearColor;
                    this.frameBuffer.clear(cc[0], cc[1], cc[2], cc[3]);
                };
                RenderTarget.prototype.attachStencilBuffer = function attachStencilBuffer() {
                    if (!this.root) {
                        this.frameBuffer.enableStencil();
                    }
                };
                RenderTarget.prototype.setFrame = function setFrame(destinationFrame, sourceFrame) {
                    this.destinationFrame = destinationFrame || this.destinationFrame || this.defaultFrame;
                    this.sourceFrame = sourceFrame || this.sourceFrame || this.destinationFrame;
                };
                RenderTarget.prototype.activate = function activate() {
                    var gl = this.gl;
                    this.frameBuffer.bind();
                    this.calculateProjection(this.destinationFrame, this.sourceFrame);
                    if (this.transform) {
                        this.projectionMatrix.append(this.transform);
                    }
                    if (this.destinationFrame !== this.sourceFrame) {
                        gl.enable(gl.SCISSOR_TEST);
                        gl.scissor(this.destinationFrame.x | 0, this.destinationFrame.y | 0, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0);
                    } else {
                        gl.disable(gl.SCISSOR_TEST);
                    }
                    gl.viewport(this.destinationFrame.x | 0, this.destinationFrame.y | 0, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0);
                };
                RenderTarget.prototype.calculateProjection = function calculateProjection(destinationFrame, sourceFrame) {
                    var pm = this.projectionMatrix;
                    sourceFrame = sourceFrame || destinationFrame;
                    pm.identity();
                    if (!this.root) {
                        pm.a = 1 / destinationFrame.width * 2;
                        pm.d = 1 / destinationFrame.height * 2;
                        pm.tx = -1 - sourceFrame.x * pm.a;
                        pm.ty = -1 - sourceFrame.y * pm.d;
                    } else {
                        pm.a = 1 / destinationFrame.width * 2;
                        pm.d = -1 / destinationFrame.height * 2;
                        pm.tx = -1 - sourceFrame.x * pm.a;
                        pm.ty = 1 - sourceFrame.y * pm.d;
                    }
                };
                RenderTarget.prototype.resize = function resize(width, height) {
                    width = width | 0;
                    height = height | 0;
                    if (this.size.width === width && this.size.height === height) {
                        return;
                    }
                    this.size.width = width;
                    this.size.height = height;
                    this.defaultFrame.width = width;
                    this.defaultFrame.height = height;
                    this.frameBuffer.resize(width * this.resolution, height * this.resolution);
                    var projectionFrame = this.frame || this.size;
                    this.calculateProjection(projectionFrame);
                };
                RenderTarget.prototype.destroy = function destroy() {
                    this.frameBuffer.destroy();
                    this.frameBuffer = null;
                    this.texture = null;
                };
                return RenderTarget;
            }();
            exports.default = RenderTarget;
        }, {
            "../../../const": 46,
            "../../../math": 70,
            "../../../settings": 101,
            "pixi-gl-core": 15
        }],
        97: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = checkMaxIfStatmentsInShader;
            var _pixiGlCore = require('pixi-gl-core');
            var _pixiGlCore2 = _interopRequireDefault(_pixiGlCore);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
            var fragTemplate = ['precision mediump float;', 'void main(void){', 'float test = 0.1;', '%forloop%', 'gl_FragColor = vec4(0.0);', '}'].join('\n');

            function checkMaxIfStatmentsInShader(maxIfs, gl) {
                var createTempContext = !gl;
                if (maxIfs === 0) {
                    throw new Error('Invalid value of `0` passed to `checkMaxIfStatementsInShader`');
                }
                if (createTempContext) {
                    var tinyCanvas = document.createElement('canvas');
                    tinyCanvas.width = 1;
                    tinyCanvas.height = 1;
                    gl = _pixiGlCore2.default.createContext(tinyCanvas);
                }
                var shader = gl.createShader(gl.FRAGMENT_SHADER);
                while (true) {
                    var fragmentSrc = fragTemplate.replace(/%forloop%/gi, generateIfTestSrc(maxIfs));
                    gl.shaderSource(shader, fragmentSrc);
                    gl.compileShader(shader);
                    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
                        maxIfs = maxIfs / 2 | 0;
                    } else {
                        break;
                    }
                }
                if (createTempContext) {
                    if (gl.getExtension('WEBGL_lose_context')) {
                        gl.getExtension('WEBGL_lose_context').loseContext();
                    }
                }
                return maxIfs;
            }

            function generateIfTestSrc(maxIfs) {
                var src = '';
                for (var i = 0; i < maxIfs; ++i) {
                    if (i > 0) {
                        src += '\nelse ';
                    }
                    if (i < maxIfs - 1) {
                        src += 'if(test == ' + i + '.0){}';
                    }
                }
                return src;
            }
        }, {
            "pixi-gl-core": 15
        }],
        98: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = mapWebGLBlendModesToPixi;
            var _const = require('../../../const');

            function mapWebGLBlendModesToPixi(gl) {
                var array = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
                array[_const.BLEND_MODES.NORMAL] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
                array[_const.BLEND_MODES.ADD] = [gl.ONE, gl.DST_ALPHA];
                array[_const.BLEND_MODES.MULTIPLY] = [gl.DST_COLOR, gl.ONE_MINUS_SRC_ALPHA];
                array[_const.BLEND_MODES.SCREEN] = [gl.ONE, gl.ONE_MINUS_SRC_COLOR];
                array[_const.BLEND_MODES.OVERLAY] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
                array[_const.BLEND_MODES.DARKEN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
                array[_const.BLEND_MODES.LIGHTEN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
                array[_const.BLEND_MODES.COLOR_DODGE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
                array[_const.BLEND_MODES.COLOR_BURN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
                array[_const.BLEND_MODES.HARD_LIGHT] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
                array[_const.BLEND_MODES.SOFT_LIGHT] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
                array[_const.BLEND_MODES.DIFFERENCE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
                array[_const.BLEND_MODES.EXCLUSION] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
                array[_const.BLEND_MODES.HUE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
                array[_const.BLEND_MODES.SATURATION] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
                array[_const.BLEND_MODES.COLOR] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
                array[_const.BLEND_MODES.LUMINOSITY] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
                array[_const.BLEND_MODES.NORMAL_NPM] = [gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
                array[_const.BLEND_MODES.ADD_NPM] = [gl.SRC_ALPHA, gl.DST_ALPHA, gl.ONE, gl.DST_ALPHA];
                array[_const.BLEND_MODES.SCREEN_NPM] = [gl.SRC_ALPHA, gl.ONE_MINUS_SRC_COLOR, gl.ONE, gl.ONE_MINUS_SRC_COLOR];
                return array;
            }
        }, {
            "../../../const": 46
        }],
        99: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = mapWebGLDrawModesToPixi;
            var _const = require('../../../const');

            function mapWebGLDrawModesToPixi(gl) {
                var object = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
                object[_const.DRAW_MODES.POINTS] = gl.POINTS;
                object[_const.DRAW_MODES.LINES] = gl.LINES;
                object[_const.DRAW_MODES.LINE_LOOP] = gl.LINE_LOOP;
                object[_const.DRAW_MODES.LINE_STRIP] = gl.LINE_STRIP;
                object[_const.DRAW_MODES.TRIANGLES] = gl.TRIANGLES;
                object[_const.DRAW_MODES.TRIANGLE_STRIP] = gl.TRIANGLE_STRIP;
                object[_const.DRAW_MODES.TRIANGLE_FAN] = gl.TRIANGLE_FAN;
                return object;
            }
        }, {
            "../../../const": 46
        }],
        100: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = validateContext;

            function validateContext(gl) {
                var attributes = gl.getContextAttributes();
                if (!attributes.stencil) {
                    console.warn('Provided WebGL context does not have a stencil buffer, masks may not render correctly');
                }
            }
        }, {}],
        101: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _maxRecommendedTextures = require('./utils/maxRecommendedTextures');
            var _maxRecommendedTextures2 = _interopRequireDefault(_maxRecommendedTextures);
            var _canUploadSameBuffer = require('./utils/canUploadSameBuffer');
            var _canUploadSameBuffer2 = _interopRequireDefault(_canUploadSameBuffer);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
            exports.default = {
                TARGET_FPMS: 0.06,
                MIPMAP_TEXTURES: true,
                RESOLUTION: 1,
                FILTER_RESOLUTION: 1,
                SPRITE_MAX_TEXTURES: (0, _maxRecommendedTextures2.default)(32),
                SPRITE_BATCH_SIZE: 4096,
                RETINA_PREFIX: /@([0-9\.]+)x/,
                RENDER_OPTIONS: {
                    view: null,
                    antialias: false,
                    forceFXAA: false,
                    autoResize: false,
                    transparent: false,
                    backgroundColor: 0x000000,
                    clearBeforeRender: true,
                    preserveDrawingBuffer: false,
                    roundPixels: false,
                    width: 800,
                    height: 600,
                    legacy: false
                },
                TRANSFORM_MODE: 0,
                GC_MODE: 0,
                GC_MAX_IDLE: 60 * 60,
                GC_MAX_CHECK_COUNT: 60 * 10,
                WRAP_MODE: 0,
                SCALE_MODE: 0,
                PRECISION_VERTEX: 'highp',
                PRECISION_FRAGMENT: 'mediump',
                CAN_UPLOAD_SAME_BUFFER: (0, _canUploadSameBuffer2.default)(),
                MESH_CANVAS_PADDING: 0
            };
        }, {
            "./utils/canUploadSameBuffer": 122,
            "./utils/maxRecommendedTextures": 127
        }],
        102: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _math = require('../math');
            var _utils = require('../utils');
            var _const = require('../const');
            var _Texture = require('../textures/Texture');
            var _Texture2 = _interopRequireDefault(_Texture);
            var _Container2 = require('../display/Container');
            var _Container3 = _interopRequireDefault(_Container2);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var tempPoint = new _math.Point();
            var Sprite = function (_Container) {
                _inherits(Sprite, _Container);

                function Sprite(texture) {
                    _classCallCheck(this, Sprite);
                    var _this = _possibleConstructorReturn(this, _Container.call(this));
                    _this._anchor = new _math.ObservablePoint(_this._onAnchorUpdate, _this);
                    _this._texture = null;
                    _this._width = 0;
                    _this._height = 0;
                    _this._tint = null;
                    _this._tintRGB = null;
                    _this.tint = 0xFFFFFF;
                    _this.blendMode = _const.BLEND_MODES.NORMAL;
                    _this.shader = null;
                    _this.cachedTint = 0xFFFFFF;
                    _this.texture = texture || _Texture2.default.EMPTY;
                    _this.vertexData = new Float32Array(8);
                    _this.vertexTrimmedData = null;
                    _this._transformID = -1;
                    _this._textureID = -1;
                    _this._transformTrimmedID = -1;
                    _this._textureTrimmedID = -1;
                    _this.pluginName = 'sprite';
                    return _this;
                }
                Sprite.prototype._onTextureUpdate = function _onTextureUpdate() {
                    this._textureID = -1;
                    this._textureTrimmedID = -1;
                    this.cachedTint = 0xFFFFFF;
                    if (this._width) {
                        this.scale.x = (0, _utils.sign)(this.scale.x) * this._width / this._texture.orig.width;
                    }
                    if (this._height) {
                        this.scale.y = (0, _utils.sign)(this.scale.y) * this._height / this._texture.orig.height;
                    }
                };
                Sprite.prototype._onAnchorUpdate = function _onAnchorUpdate() {
                    this._transformID = -1;
                    this._transformTrimmedID = -1;
                };
                Sprite.prototype.calculateVertices = function calculateVertices() {
                    if (this._transformID === this.transform._worldID && this._textureID === this._texture._updateID) {
                        return;
                    }
                    this._transformID = this.transform._worldID;
                    this._textureID = this._texture._updateID;
                    var texture = this._texture;
                    var wt = this.transform.worldTransform;
                    var a = wt.a;
                    var b = wt.b;
                    var c = wt.c;
                    var d = wt.d;
                    var tx = wt.tx;
                    var ty = wt.ty;
                    var vertexData = this.vertexData;
                    var trim = texture.trim;
                    var orig = texture.orig;
                    var anchor = this._anchor;
                    var w0 = 0;
                    var w1 = 0;
                    var h0 = 0;
                    var h1 = 0;
                    if (trim) {
                        w1 = trim.x - anchor._x * orig.width;
                        w0 = w1 + trim.width;
                        h1 = trim.y - anchor._y * orig.height;
                        h0 = h1 + trim.height;
                    } else {
                        w1 = -anchor._x * orig.width;
                        w0 = w1 + orig.width;
                        h1 = -anchor._y * orig.height;
                        h0 = h1 + orig.height;
                    }
                    vertexData[0] = a * w1 + c * h1 + tx;
                    vertexData[1] = d * h1 + b * w1 + ty;
                    vertexData[2] = a * w0 + c * h1 + tx;
                    vertexData[3] = d * h1 + b * w0 + ty;
                    vertexData[4] = a * w0 + c * h0 + tx;
                    vertexData[5] = d * h0 + b * w0 + ty;
                    vertexData[6] = a * w1 + c * h0 + tx;
                    vertexData[7] = d * h0 + b * w1 + ty;
                };
                Sprite.prototype.calculateTrimmedVertices = function calculateTrimmedVertices() {
                    if (!this.vertexTrimmedData) {
                        this.vertexTrimmedData = new Float32Array(8);
                    } else if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID) {
                        return;
                    }
                    this._transformTrimmedID = this.transform._worldID;
                    this._textureTrimmedID = this._texture._updateID;
                    var texture = this._texture;
                    var vertexData = this.vertexTrimmedData;
                    var orig = texture.orig;
                    var anchor = this._anchor;
                    var wt = this.transform.worldTransform;
                    var a = wt.a;
                    var b = wt.b;
                    var c = wt.c;
                    var d = wt.d;
                    var tx = wt.tx;
                    var ty = wt.ty;
                    var w1 = -anchor._x * orig.width;
                    var w0 = w1 + orig.width;
                    var h1 = -anchor._y * orig.height;
                    var h0 = h1 + orig.height;
                    vertexData[0] = a * w1 + c * h1 + tx;
                    vertexData[1] = d * h1 + b * w1 + ty;
                    vertexData[2] = a * w0 + c * h1 + tx;
                    vertexData[3] = d * h1 + b * w0 + ty;
                    vertexData[4] = a * w0 + c * h0 + tx;
                    vertexData[5] = d * h0 + b * w0 + ty;
                    vertexData[6] = a * w1 + c * h0 + tx;
                    vertexData[7] = d * h0 + b * w1 + ty;
                };
                Sprite.prototype._renderWebGL = function _renderWebGL(renderer) {
                    this.calculateVertices();
                    renderer.setObjectRenderer(renderer.plugins[this.pluginName]);
                    renderer.plugins[this.pluginName].render(this);
                };
                Sprite.prototype._renderCanvas = function _renderCanvas(renderer) {
                    renderer.plugins[this.pluginName].render(this);
                };
                Sprite.prototype._calculateBounds = function _calculateBounds() {
                    var trim = this._texture.trim;
                    var orig = this._texture.orig;
                    if (!trim || trim.width === orig.width && trim.height === orig.height) {
                        this.calculateVertices();
                        this._bounds.addQuad(this.vertexData);
                    } else {
                        this.calculateTrimmedVertices();
                        this._bounds.addQuad(this.vertexTrimmedData);
                    }
                };
                Sprite.prototype.getLocalBounds = function getLocalBounds(rect) {
                    if (this.children.length === 0) {
                        this._bounds.minX = this._texture.orig.width * -this._anchor._x;
                        this._bounds.minY = this._texture.orig.height * -this._anchor._y;
                        this._bounds.maxX = this._texture.orig.width * (1 - this._anchor._x);
                        this._bounds.maxY = this._texture.orig.height * (1 - this._anchor._y);
                        if (!rect) {
                            if (!this._localBoundsRect) {
                                this._localBoundsRect = new _math.Rectangle();
                            }
                            rect = this._localBoundsRect;
                        }
                        return this._bounds.getRectangle(rect);
                    }
                    return _Container.prototype.getLocalBounds.call(this, rect);
                };
                Sprite.prototype.containsPoint = function containsPoint(point) {
                    this.worldTransform.applyInverse(point, tempPoint);
                    var width = this._texture.orig.width;
                    var height = this._texture.orig.height;
                    var x1 = -width * this.anchor.x;
                    var y1 = 0;
                    if (tempPoint.x >= x1 && tempPoint.x < x1 + width) {
                        y1 = -height * this.anchor.y;
                        if (tempPoint.y >= y1 && tempPoint.y < y1 + height) {
                            return true;
                        }
                    }
                    return false;
                };
                Sprite.prototype.destroy = function destroy(options) {
                    _Container.prototype.destroy.call(this, options);
                    this._anchor = null;
                    var destroyTexture = typeof options === 'boolean' ? options : options && options.texture;
                    if (destroyTexture) {
                        var destroyBaseTexture = typeof options === 'boolean' ? options : options && options.baseTexture;
                        this._texture.destroy(!!destroyBaseTexture);
                    }
                    this._texture = null;
                    this.shader = null;
                };
                Sprite.from = function from(source) {
                    return new Sprite(_Texture2.default.from(source));
                };
                Sprite.fromFrame = function fromFrame(frameId) {
                    var texture = _utils.TextureCache[frameId];
                    if (!texture) {
                        throw new Error('The frameId "' + frameId + '" does not exist in the texture cache');
                    }
                    return new Sprite(texture);
                };
                Sprite.fromImage = function fromImage(imageId, crossorigin, scaleMode) {
                    return new Sprite(_Texture2.default.fromImage(imageId, crossorigin, scaleMode));
                };
                _createClass(Sprite, [{
                    key: 'width',
                    get: function get() {
                        return Math.abs(this.scale.x) * this._texture.orig.width;
                    },
                    set: function set(value) {
                        var s = (0, _utils.sign)(this.scale.x) || 1;
                        this.scale.x = s * value / this._texture.orig.width;
                        this._width = value;
                    }
                }, {
                    key: 'height',
                    get: function get() {
                        return Math.abs(this.scale.y) * this._texture.orig.height;
                    },
                    set: function set(value) {
                        var s = (0, _utils.sign)(this.scale.y) || 1;
                        this.scale.y = s * value / this._texture.orig.height;
                        this._height = value;
                    }
                }, {
                    key: 'anchor',
                    get: function get() {
                        return this._anchor;
                    },
                    set: function set(value) {
                        this._anchor.copy(value);
                    }
                }, {
                    key: 'tint',
                    get: function get() {
                        return this._tint;
                    },
                    set: function set(value) {
                        this._tint = value;
                        this._tintRGB = (value >> 16) + (value & 0xff00) + ((value & 0xff) << 16);
                    }
                }, {
                    key: 'texture',
                    get: function get() {
                        return this._texture;
                    },
                    set: function set(value) {
                        if (this._texture === value) {
                            return;
                        }
                        this._texture = value;
                        this.cachedTint = 0xFFFFFF;
                        this._textureID = -1;
                        this._textureTrimmedID = -1;
                        if (value) {
                            if (value.baseTexture.hasLoaded) {
                                this._onTextureUpdate();
                            } else {
                                value.once('update', this._onTextureUpdate, this);
                            }
                        }
                    }
                }]);
                return Sprite;
            }(_Container3.default);
            exports.default = Sprite;
        }, {
            "../const": 46,
            "../display/Container": 48,
            "../math": 70,
            "../textures/Texture": 115,
            "../utils": 125
        }],
        103: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _CanvasRenderer = require('../../renderers/canvas/CanvasRenderer');
            var _CanvasRenderer2 = _interopRequireDefault(_CanvasRenderer);
            var _const = require('../../const');
            var _math = require('../../math');
            var _CanvasTinter = require('./CanvasTinter');
            var _CanvasTinter2 = _interopRequireDefault(_CanvasTinter);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var canvasRenderWorldTransform = new _math.Matrix();
            var CanvasSpriteRenderer = function () {
                function CanvasSpriteRenderer(renderer) {
                    _classCallCheck(this, CanvasSpriteRenderer);
                    this.renderer = renderer;
                }
                CanvasSpriteRenderer.prototype.render = function render(sprite) {
                    var texture = sprite._texture;
                    var renderer = this.renderer;
                    var width = texture._frame.width;
                    var height = texture._frame.height;
                    var wt = sprite.transform.worldTransform;
                    var dx = 0;
                    var dy = 0;
                    if (texture.orig.width <= 0 || texture.orig.height <= 0 || !texture.baseTexture.source) {
                        return;
                    }
                    renderer.setBlendMode(sprite.blendMode);
                    if (texture.valid) {
                        renderer.context.globalAlpha = sprite.worldAlpha;
                        var smoothingEnabled = texture.baseTexture.scaleMode === _const.SCALE_MODES.LINEAR;
                        if (renderer.smoothProperty && renderer.context[renderer.smoothProperty] !== smoothingEnabled) {
                            renderer.context[renderer.smoothProperty] = smoothingEnabled;
                        }
                        if (texture.trim) {
                            dx = texture.trim.width / 2 + texture.trim.x - sprite.anchor.x * texture.orig.width;
                            dy = texture.trim.height / 2 + texture.trim.y - sprite.anchor.y * texture.orig.height;
                        } else {
                            dx = (0.5 - sprite.anchor.x) * texture.orig.width;
                            dy = (0.5 - sprite.anchor.y) * texture.orig.height;
                        }
                        if (texture.rotate) {
                            wt.copy(canvasRenderWorldTransform);
                            wt = canvasRenderWorldTransform;
                            _math.GroupD8.matrixAppendRotationInv(wt, texture.rotate, dx, dy);
                            dx = 0;
                            dy = 0;
                        }
                        dx -= width / 2;
                        dy -= height / 2;
                        if (renderer.roundPixels) {
                            renderer.context.setTransform(wt.a, wt.b, wt.c, wt.d, wt.tx * renderer.resolution | 0, wt.ty * renderer.resolution | 0);
                            dx = dx | 0;
                            dy = dy | 0;
                        } else {
                            renderer.context.setTransform(wt.a, wt.b, wt.c, wt.d, wt.tx * renderer.resolution, wt.ty * renderer.resolution);
                        }
                        var resolution = texture.baseTexture.resolution;
                        if (sprite.tint !== 0xFFFFFF) {
                            if (sprite.cachedTint !== sprite.tint || sprite.tintedTexture.tintId !== sprite._texture._updateID) {
                                sprite.cachedTint = sprite.tint;
                                sprite.tintedTexture = _CanvasTinter2.default.getTintedTexture(sprite, sprite.tint);
                            }
                            renderer.context.drawImage(sprite.tintedTexture, 0, 0, width * resolution, height * resolution, dx * renderer.resolution, dy * renderer.resolution, width * renderer.resolution, height * renderer.resolution);
                        } else {
                            renderer.context.drawImage(texture.baseTexture.source, texture._frame.x * resolution, texture._frame.y * resolution, width * resolution, height * resolution, dx * renderer.resolution, dy * renderer.resolution, width * renderer.resolution, height * renderer.resolution);
                        }
                    }
                };
                CanvasSpriteRenderer.prototype.destroy = function destroy() {
                    this.renderer = null;
                };
                return CanvasSpriteRenderer;
            }();
            exports.default = CanvasSpriteRenderer;
            _CanvasRenderer2.default.registerPlugin('sprite', CanvasSpriteRenderer);
        }, {
            "../../const": 46,
            "../../math": 70,
            "../../renderers/canvas/CanvasRenderer": 77,
            "./CanvasTinter": 104
        }],
        104: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _utils = require('../../utils');
            var _canUseNewCanvasBlendModes = require('../../renderers/canvas/utils/canUseNewCanvasBlendModes');
            var _canUseNewCanvasBlendModes2 = _interopRequireDefault(_canUseNewCanvasBlendModes);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
            var CanvasTinter = {
                getTintedTexture: function getTintedTexture(sprite, color) {
                    var texture = sprite._texture;
                    color = CanvasTinter.roundColor(color);
                    var stringColor = '#' + ('00000' + (color | 0).toString(16)).substr(-6);
                    texture.tintCache = texture.tintCache || {};
                    var cachedTexture = texture.tintCache[stringColor];
                    var canvas = void 0;
                    if (cachedTexture) {
                        if (cachedTexture.tintId === texture._updateID) {
                            return texture.tintCache[stringColor];
                        }
                        canvas = texture.tintCache[stringColor];
                    } else {
                        canvas = CanvasTinter.canvas || document.createElement('canvas');
                    }
                    CanvasTinter.tintMethod(texture, color, canvas);
                    canvas.tintId = texture._updateID;
                    if (CanvasTinter.convertTintToImage) {
                        var tintImage = new Image();
                        tintImage.src = canvas.toDataURL();
                        texture.tintCache[stringColor] = tintImage;
                    } else {
                        texture.tintCache[stringColor] = canvas;
                        CanvasTinter.canvas = null;
                    }
                    return canvas;
                },
                tintWithMultiply: function tintWithMultiply(texture, color, canvas) {
                    var context = canvas.getContext('2d');
                    var crop = texture._frame.clone();
                    var resolution = texture.baseTexture.resolution;
                    crop.x *= resolution;
                    crop.y *= resolution;
                    crop.width *= resolution;
                    crop.height *= resolution;
                    canvas.width = Math.ceil(crop.width);
                    canvas.height = Math.ceil(crop.height);
                    context.save();
                    context.fillStyle = '#' + ('00000' + (color | 0).toString(16)).substr(-6);
                    context.fillRect(0, 0, crop.width, crop.height);
                    context.globalCompositeOperation = 'multiply';
                    context.drawImage(texture.baseTexture.source, crop.x, crop.y, crop.width, crop.height, 0, 0, crop.width, crop.height);
                    context.globalCompositeOperation = 'destination-atop';
                    context.drawImage(texture.baseTexture.source, crop.x, crop.y, crop.width, crop.height, 0, 0, crop.width, crop.height);
                    context.restore();
                },
                tintWithOverlay: function tintWithOverlay(texture, color, canvas) {
                    var context = canvas.getContext('2d');
                    var crop = texture._frame.clone();
                    var resolution = texture.baseTexture.resolution;
                    crop.x *= resolution;
                    crop.y *= resolution;
                    crop.width *= resolution;
                    crop.height *= resolution;
                    canvas.width = Math.ceil(crop.width);
                    canvas.height = Math.ceil(crop.height);
                    context.save();
                    context.globalCompositeOperation = 'copy';
                    context.fillStyle = '#' + ('00000' + (color | 0).toString(16)).substr(-6);
                    context.fillRect(0, 0, crop.width, crop.height);
                    context.globalCompositeOperation = 'destination-atop';
                    context.drawImage(texture.baseTexture.source, crop.x, crop.y, crop.width, crop.height, 0, 0, crop.width, crop.height);
                    context.restore();
                },
                tintWithPerPixel: function tintWithPerPixel(texture, color, canvas) {
                    var context = canvas.getContext('2d');
                    var crop = texture._frame.clone();
                    var resolution = texture.baseTexture.resolution;
                    crop.x *= resolution;
                    crop.y *= resolution;
                    crop.width *= resolution;
                    crop.height *= resolution;
                    canvas.width = Math.ceil(crop.width);
                    canvas.height = Math.ceil(crop.height);
                    context.save();
                    context.globalCompositeOperation = 'copy';
                    context.drawImage(texture.baseTexture.source, crop.x, crop.y, crop.width, crop.height, 0, 0, crop.width, crop.height);
                    context.restore();
                    var rgbValues = (0, _utils.hex2rgb)(color);
                    var r = rgbValues[0];
                    var g = rgbValues[1];
                    var b = rgbValues[2];
                    var pixelData = context.getImageData(0, 0, crop.width, crop.height);
                    var pixels = pixelData.data;
                    for (var i = 0; i < pixels.length; i += 4) {
                        pixels[i + 0] *= r;
                        pixels[i + 1] *= g;
                        pixels[i + 2] *= b;
                    }
                    context.putImageData(pixelData, 0, 0);
                },
                roundColor: function roundColor(color) {
                    var step = CanvasTinter.cacheStepsPerColorChannel;
                    var rgbValues = (0, _utils.hex2rgb)(color);
                    rgbValues[0] = Math.min(255, rgbValues[0] / step * step);
                    rgbValues[1] = Math.min(255, rgbValues[1] / step * step);
                    rgbValues[2] = Math.min(255, rgbValues[2] / step * step);
                    return (0, _utils.rgb2hex)(rgbValues);
                },
                cacheStepsPerColorChannel: 8,
                convertTintToImage: false,
                canUseMultiply: (0, _canUseNewCanvasBlendModes2.default)(),
                tintMethod: 0
            };
            CanvasTinter.tintMethod = CanvasTinter.canUseMultiply ? CanvasTinter.tintWithMultiply : CanvasTinter.tintWithPerPixel;
            exports.default = CanvasTinter;
        }, {
            "../../renderers/canvas/utils/canUseNewCanvasBlendModes": 80,
            "../../utils": 125
        }],
        105: [function (require, module, exports) {
            "use strict";
            exports.__esModule = true;

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var Buffer = function () {
                function Buffer(size) {
                    _classCallCheck(this, Buffer);
                    this.vertices = new ArrayBuffer(size);
                    this.float32View = new Float32Array(this.vertices);
                    this.uint32View = new Uint32Array(this.vertices);
                }
                Buffer.prototype.destroy = function destroy() {
                    this.vertices = null;
                    this.positions = null;
                    this.uvs = null;
                    this.colors = null;
                };
                return Buffer;
            }();
            exports.default = Buffer;
        }, {}],
        106: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _ObjectRenderer2 = require('../../renderers/webgl/utils/ObjectRenderer');
            var _ObjectRenderer3 = _interopRequireDefault(_ObjectRenderer2);
            var _WebGLRenderer = require('../../renderers/webgl/WebGLRenderer');
            var _WebGLRenderer2 = _interopRequireDefault(_WebGLRenderer);
            var _createIndicesForQuads = require('../../utils/createIndicesForQuads');
            var _createIndicesForQuads2 = _interopRequireDefault(_createIndicesForQuads);
            var _generateMultiTextureShader = require('./generateMultiTextureShader');
            var _generateMultiTextureShader2 = _interopRequireDefault(_generateMultiTextureShader);
            var _checkMaxIfStatmentsInShader = require('../../renderers/webgl/utils/checkMaxIfStatmentsInShader');
            var _checkMaxIfStatmentsInShader2 = _interopRequireDefault(_checkMaxIfStatmentsInShader);
            var _BatchBuffer = require('./BatchBuffer');
            var _BatchBuffer2 = _interopRequireDefault(_BatchBuffer);
            var _settings = require('../../settings');
            var _settings2 = _interopRequireDefault(_settings);
            var _utils = require('../../utils');
            var _pixiGlCore = require('pixi-gl-core');
            var _pixiGlCore2 = _interopRequireDefault(_pixiGlCore);
            var _bitTwiddle = require('bit-twiddle');
            var _bitTwiddle2 = _interopRequireDefault(_bitTwiddle);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var TICK = 0;
            var TEXTURE_TICK = 0;
            var SpriteRenderer = function (_ObjectRenderer) {
                _inherits(SpriteRenderer, _ObjectRenderer);

                function SpriteRenderer(renderer) {
                    _classCallCheck(this, SpriteRenderer);
                    var _this = _possibleConstructorReturn(this, _ObjectRenderer.call(this, renderer));
                    _this.vertSize = 5;
                    _this.vertByteSize = _this.vertSize * 4;
                    _this.size = _settings2.default.SPRITE_BATCH_SIZE;
                    _this.buffers = [];
                    for (var i = 1; i <= _bitTwiddle2.default.nextPow2(_this.size); i *= 2) {
                        _this.buffers.push(new _BatchBuffer2.default(i * 4 * _this.vertByteSize));
                    }
                    _this.indices = (0, _createIndicesForQuads2.default)(_this.size);
                    _this.shader = null;
                    _this.currentIndex = 0;
                    _this.groups = [];
                    for (var k = 0; k < _this.size; k++) {
                        _this.groups[k] = {
                            textures: [],
                            textureCount: 0,
                            ids: [],
                            size: 0,
                            start: 0,
                            blend: 0
                        };
                    }
                    _this.sprites = [];
                    _this.vertexBuffers = [];
                    _this.vaos = [];
                    _this.vaoMax = 2;
                    _this.vertexCount = 0;
                    _this.renderer.on('prerender', _this.onPrerender, _this);
                    return _this;
                }
                SpriteRenderer.prototype.onContextChange = function onContextChange() {
                    var gl = this.renderer.gl;
                    if (this.renderer.legacy) {
                        this.MAX_TEXTURES = 1;
                    } else {
                        this.MAX_TEXTURES = Math.min(gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS), _settings2.default.SPRITE_MAX_TEXTURES);
                        this.MAX_TEXTURES = (0, _checkMaxIfStatmentsInShader2.default)(this.MAX_TEXTURES, gl);
                    }
                    this.shader = (0, _generateMultiTextureShader2.default)(gl, this.MAX_TEXTURES);
                    this.indexBuffer = _pixiGlCore2.default.GLBuffer.createIndexBuffer(gl, this.indices, gl.STATIC_DRAW);
                    this.renderer.bindVao(null);
                    var attrs = this.shader.attributes;
                    for (var i = 0; i < this.vaoMax; i++) {
                        var vertexBuffer = this.vertexBuffers[i] = _pixiGlCore2.default.GLBuffer.createVertexBuffer(gl, null, gl.STREAM_DRAW);
                        var vao = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(vertexBuffer, attrs.aVertexPosition, gl.FLOAT, false, this.vertByteSize, 0).addAttribute(vertexBuffer, attrs.aTextureCoord, gl.UNSIGNED_SHORT, true, this.vertByteSize, 2 * 4).addAttribute(vertexBuffer, attrs.aColor, gl.UNSIGNED_BYTE, true, this.vertByteSize, 3 * 4);
                        if (attrs.aTextureId) {
                            vao.addAttribute(vertexBuffer, attrs.aTextureId, gl.FLOAT, false, this.vertByteSize, 4 * 4);
                        }
                        this.vaos[i] = vao;
                    }
                    this.vao = this.vaos[0];
                    this.currentBlendMode = 99999;
                    this.boundTextures = new Array(this.MAX_TEXTURES);
                };
                SpriteRenderer.prototype.onPrerender = function onPrerender() {
                    this.vertexCount = 0;
                };
                SpriteRenderer.prototype.render = function render(sprite) {
                    if (this.currentIndex >= this.size) {
                        this.flush();
                    }
                    if (!sprite._texture._uvs) {
                        return;
                    }
                    this.sprites[this.currentIndex++] = sprite;
                };
                SpriteRenderer.prototype.flush = function flush() {
                    if (this.currentIndex === 0) {
                        return;
                    }
                    var gl = this.renderer.gl;
                    var MAX_TEXTURES = this.MAX_TEXTURES;
                    var np2 = _bitTwiddle2.default.nextPow2(this.currentIndex);
                    var log2 = _bitTwiddle2.default.log2(np2);
                    var buffer = this.buffers[log2];
                    var sprites = this.sprites;
                    var groups = this.groups;
                    var float32View = buffer.float32View;
                    var uint32View = buffer.uint32View;
                    var boundTextures = this.boundTextures;
                    var rendererBoundTextures = this.renderer.boundTextures;
                    var touch = this.renderer.textureGC.count;
                    var index = 0;
                    var nextTexture = void 0;
                    var currentTexture = void 0;
                    var groupCount = 1;
                    var textureCount = 0;
                    var currentGroup = groups[0];
                    var vertexData = void 0;
                    var uvs = void 0;
                    var blendMode = _utils.premultiplyBlendMode[sprites[0]._texture.baseTexture.premultipliedAlpha ? 1 : 0][sprites[0].blendMode];
                    currentGroup.textureCount = 0;
                    currentGroup.start = 0;
                    currentGroup.blend = blendMode;
                    TICK++;
                    var i = void 0;
                    for (i = 0; i < MAX_TEXTURES; ++i) {
                        var bt = rendererBoundTextures[i];
                        if (bt._enabled === TICK) {
                            boundTextures[i] = this.renderer.emptyTextures[i];
                            continue;
                        }
                        boundTextures[i] = bt;
                        bt._virtalBoundId = i;
                        bt._enabled = TICK;
                    }
                    TICK++;
                    for (i = 0; i < this.currentIndex; ++i) {
                        var sprite = sprites[i];
                        nextTexture = sprite._texture.baseTexture;
                        var spriteBlendMode = _utils.premultiplyBlendMode[Number(nextTexture.premultipliedAlpha)][sprite.blendMode];
                        if (blendMode !== spriteBlendMode) {
                            blendMode = spriteBlendMode;
                            currentTexture = null;
                            textureCount = MAX_TEXTURES;
                            TICK++;
                        }
                        if (currentTexture !== nextTexture) {
                            currentTexture = nextTexture;
                            if (nextTexture._enabled !== TICK) {
                                if (textureCount === MAX_TEXTURES) {
                                    TICK++;
                                    currentGroup.size = i - currentGroup.start;
                                    textureCount = 0;
                                    currentGroup = groups[groupCount++];
                                    currentGroup.blend = blendMode;
                                    currentGroup.textureCount = 0;
                                    currentGroup.start = i;
                                }
                                nextTexture.touched = touch;
                                if (nextTexture._virtalBoundId === -1) {
                                    for (var j = 0; j < MAX_TEXTURES; ++j) {
                                        var tIndex = (j + TEXTURE_TICK) % MAX_TEXTURES;
                                        var t = boundTextures[tIndex];
                                        if (t._enabled !== TICK) {
                                            TEXTURE_TICK++;
                                            t._virtalBoundId = -1;
                                            nextTexture._virtalBoundId = tIndex;
                                            boundTextures[tIndex] = nextTexture;
                                            break;
                                        }
                                    }
                                }
                                nextTexture._enabled = TICK;
                                currentGroup.textureCount++;
                                currentGroup.ids[textureCount] = nextTexture._virtalBoundId;
                                currentGroup.textures[textureCount++] = nextTexture;
                            }
                        }
                        vertexData = sprite.vertexData;
                        uvs = sprite._texture._uvs.uvsUint32;
                        if (this.renderer.roundPixels) {
                            var resolution = this.renderer.resolution;
                            float32View[index] = (vertexData[0] * resolution | 0) / resolution;
                            float32View[index + 1] = (vertexData[1] * resolution | 0) / resolution;
                            float32View[index + 5] = (vertexData[2] * resolution | 0) / resolution;
                            float32View[index + 6] = (vertexData[3] * resolution | 0) / resolution;
                            float32View[index + 10] = (vertexData[4] * resolution | 0) / resolution;
                            float32View[index + 11] = (vertexData[5] * resolution | 0) / resolution;
                            float32View[index + 15] = (vertexData[6] * resolution | 0) / resolution;
                            float32View[index + 16] = (vertexData[7] * resolution | 0) / resolution;
                        } else {
                            float32View[index] = vertexData[0];
                            float32View[index + 1] = vertexData[1];
                            float32View[index + 5] = vertexData[2];
                            float32View[index + 6] = vertexData[3];
                            float32View[index + 10] = vertexData[4];
                            float32View[index + 11] = vertexData[5];
                            float32View[index + 15] = vertexData[6];
                            float32View[index + 16] = vertexData[7];
                        }
                        uint32View[index + 2] = uvs[0];
                        uint32View[index + 7] = uvs[1];
                        uint32View[index + 12] = uvs[2];
                        uint32View[index + 17] = uvs[3];
                        var alpha = Math.min(sprite.worldAlpha, 1.0);
                        var argb = alpha < 1.0 && nextTexture.premultipliedAlpha ? (0, _utils.premultiplyTint)(sprite._tintRGB, alpha) : sprite._tintRGB + (alpha * 255 << 24);
                        uint32View[index + 3] = uint32View[index + 8] = uint32View[index + 13] = uint32View[index + 18] = argb;
                        float32View[index + 4] = float32View[index + 9] = float32View[index + 14] = float32View[index + 19] = nextTexture._virtalBoundId;
                        index += 20;
                    }
                    currentGroup.size = i - currentGroup.start;
                    if (!_settings2.default.CAN_UPLOAD_SAME_BUFFER) {
                        if (this.vaoMax <= this.vertexCount) {
                            this.vaoMax++;
                            var attrs = this.shader.attributes;
                            var vertexBuffer = this.vertexBuffers[this.vertexCount] = _pixiGlCore2.default.GLBuffer.createVertexBuffer(gl, null, gl.STREAM_DRAW);
                            var vao = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(vertexBuffer, attrs.aVertexPosition, gl.FLOAT, false, this.vertByteSize, 0).addAttribute(vertexBuffer, attrs.aTextureCoord, gl.UNSIGNED_SHORT, true, this.vertByteSize, 2 * 4).addAttribute(vertexBuffer, attrs.aColor, gl.UNSIGNED_BYTE, true, this.vertByteSize, 3 * 4);
                            if (attrs.aTextureId) {
                                vao.addAttribute(vertexBuffer, attrs.aTextureId, gl.FLOAT, false, this.vertByteSize, 4 * 4);
                            }
                            this.vaos[this.vertexCount] = vao;
                        }
                        this.renderer.bindVao(this.vaos[this.vertexCount]);
                        this.vertexBuffers[this.vertexCount].upload(buffer.vertices, 0, false);
                        this.vertexCount++;
                    } else {
                        this.vertexBuffers[this.vertexCount].upload(buffer.vertices, 0, true);
                    }
                    for (i = 0; i < MAX_TEXTURES; ++i) {
                        rendererBoundTextures[i]._virtalBoundId = -1;
                    }
                    for (i = 0; i < groupCount; ++i) {
                        var group = groups[i];
                        var groupTextureCount = group.textureCount;
                        for (var _j = 0; _j < groupTextureCount; _j++) {
                            currentTexture = group.textures[_j];
                            if (rendererBoundTextures[group.ids[_j]] !== currentTexture) {
                                this.renderer.bindTexture(currentTexture, group.ids[_j], true);
                            }
                            currentTexture._virtalBoundId = -1;
                        }
                        this.renderer.state.setBlendMode(group.blend);
                        gl.drawElements(gl.TRIANGLES, group.size * 6, gl.UNSIGNED_SHORT, group.start * 6 * 2);
                    }
                    this.currentIndex = 0;
                };
                SpriteRenderer.prototype.start = function start() {
                    this.renderer.bindShader(this.shader);
                    if (_settings2.default.CAN_UPLOAD_SAME_BUFFER) {
                        this.renderer.bindVao(this.vaos[this.vertexCount]);
                        this.vertexBuffers[this.vertexCount].bind();
                    }
                };
                SpriteRenderer.prototype.stop = function stop() {
                    this.flush();
                };
                SpriteRenderer.prototype.destroy = function destroy() {
                    for (var i = 0; i < this.vaoMax; i++) {
                        if (this.vertexBuffers[i]) {
                            this.vertexBuffers[i].destroy();
                        }
                        if (this.vaos[i]) {
                            this.vaos[i].destroy();
                        }
                    }
                    if (this.indexBuffer) {
                        this.indexBuffer.destroy();
                    }
                    this.renderer.off('prerender', this.onPrerender, this);
                    _ObjectRenderer.prototype.destroy.call(this);
                    if (this.shader) {
                        this.shader.destroy();
                        this.shader = null;
                    }
                    this.vertexBuffers = null;
                    this.vaos = null;
                    this.indexBuffer = null;
                    this.indices = null;
                    this.sprites = null;
                    for (var _i = 0; _i < this.buffers.length; ++_i) {
                        this.buffers[_i].destroy();
                    }
                };
                return SpriteRenderer;
            }(_ObjectRenderer3.default);
            exports.default = SpriteRenderer;
            _WebGLRenderer2.default.registerPlugin('sprite', SpriteRenderer);
        }, {
            "../../renderers/webgl/WebGLRenderer": 84,
            "../../renderers/webgl/utils/ObjectRenderer": 94,
            "../../renderers/webgl/utils/checkMaxIfStatmentsInShader": 97,
            "../../settings": 101,
            "../../utils": 125,
            "../../utils/createIndicesForQuads": 123,
            "./BatchBuffer": 105,
            "./generateMultiTextureShader": 107,
            "bit-twiddle": 1,
            "pixi-gl-core": 15
        }],
        107: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = generateMultiTextureShader;
            var _Shader = require('../../Shader');
            var _Shader2 = _interopRequireDefault(_Shader);
            var _path = require('path');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
            var fragTemplate = ['varying vec2 vTextureCoord;', 'varying vec4 vColor;', 'varying float vTextureId;', 'uniform sampler2D uSamplers[%count%];', 'void main(void){', 'vec4 color;', 'float textureId = floor(vTextureId+0.5);', '%forloop%', 'gl_FragColor = color * vColor;', '}'].join('\n');

            function generateMultiTextureShader(gl, maxTextures) {
                var vertexSrc = 'precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n';
                var fragmentSrc = fragTemplate;
                fragmentSrc = fragmentSrc.replace(/%count%/gi, maxTextures);
                fragmentSrc = fragmentSrc.replace(/%forloop%/gi, generateSampleSrc(maxTextures));
                var shader = new _Shader2.default(gl, vertexSrc, fragmentSrc);
                var sampleValues = [];
                for (var i = 0; i < maxTextures; i++) {
                    sampleValues[i] = i;
                }
                shader.bind();
                shader.uniforms.uSamplers = sampleValues;
                return shader;
            }

            function generateSampleSrc(maxTextures) {
                var src = '';
                src += '\n';
                src += '\n';
                for (var i = 0; i < maxTextures; i++) {
                    if (i > 0) {
                        src += '\nelse ';
                    }
                    if (i < maxTextures - 1) {
                        src += 'if(textureId == ' + i + '.0)';
                    }
                    src += '\n{';
                    src += '\n\tcolor = texture2D(uSamplers[' + i + '], vTextureCoord);';
                    src += '\n}';
                }
                src += '\n';
                src += '\n';
                return src;
            }
        }, {
            "../../Shader": 44,
            "path": 8
        }],
        108: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _Sprite2 = require('../sprites/Sprite');
            var _Sprite3 = _interopRequireDefault(_Sprite2);
            var _Texture = require('../textures/Texture');
            var _Texture2 = _interopRequireDefault(_Texture);
            var _math = require('../math');
            var _utils = require('../utils');
            var _const = require('../const');
            var _settings = require('../settings');
            var _settings2 = _interopRequireDefault(_settings);
            var _TextStyle = require('./TextStyle');
            var _TextStyle2 = _interopRequireDefault(_TextStyle);
            var _TextMetrics = require('./TextMetrics');
            var _TextMetrics2 = _interopRequireDefault(_TextMetrics);
            var _trimCanvas = require('../utils/trimCanvas');
            var _trimCanvas2 = _interopRequireDefault(_trimCanvas);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var defaultDestroyOptions = {
                texture: true,
                children: false,
                baseTexture: true
            };
            var Text = function (_Sprite) {
                _inherits(Text, _Sprite);

                function Text(text, style, canvas) {
                    _classCallCheck(this, Text);
                    canvas = canvas || document.createElement('canvas');
                    canvas.width = 3;
                    canvas.height = 3;
                    var texture = _Texture2.default.fromCanvas(canvas, _settings2.default.SCALE_MODE, 'text');
                    texture.orig = new _math.Rectangle();
                    texture.trim = new _math.Rectangle();
                    var _this = _possibleConstructorReturn(this, _Sprite.call(this, texture));
                    _Texture2.default.addToCache(_this._texture, _this._texture.baseTexture.textureCacheIds[0]);
                    _this.canvas = canvas;
                    _this.context = _this.canvas.getContext('2d');
                    _this.resolution = _settings2.default.RESOLUTION;
                    _this._text = null;
                    _this._style = null;
                    _this._styleListener = null;
                    _this._font = '';
                    _this.text = text;
                    _this.style = style;
                    _this.localStyleID = -1;
                    return _this;
                }
                Text.prototype.updateText = function updateText(respectDirty) {
                    var style = this._style;
                    if (this.localStyleID !== style.styleID) {
                        this.dirty = true;
                        this.localStyleID = style.styleID;
                    }
                    if (!this.dirty && respectDirty) {
                        return;
                    }
                    this._font = this._style.toFontString();
                    var context = this.context;
                    var measured = _TextMetrics2.default.measureText(this._text, this._style, this._style.wordWrap, this.canvas);
                    var width = measured.width;
                    var height = measured.height;
                    var lines = measured.lines;
                    var lineHeight = measured.lineHeight;
                    var lineWidths = measured.lineWidths;
                    var maxLineWidth = measured.maxLineWidth;
                    var fontProperties = measured.fontProperties;
                    this.canvas.width = Math.ceil((width + style.padding * 2) * this.resolution);
                    this.canvas.height = Math.ceil((height + style.padding * 2) * this.resolution);
                    context.scale(this.resolution, this.resolution);
                    context.clearRect(0, 0, this.canvas.width, this.canvas.height);
                    context.font = this._font;
                    context.strokeStyle = style.stroke;
                    context.lineWidth = style.strokeThickness;
                    context.textBaseline = style.textBaseline;
                    context.lineJoin = style.lineJoin;
                    context.miterLimit = style.miterLimit;
                    var linePositionX = void 0;
                    var linePositionY = void 0;
                    if (style.dropShadow) {
                        context.fillStyle = style.dropShadowColor;
                        context.globalAlpha = style.dropShadowAlpha;
                        context.shadowBlur = style.dropShadowBlur;
                        if (style.dropShadowBlur > 0) {
                            context.shadowColor = style.dropShadowColor;
                        }
                        var xShadowOffset = Math.cos(style.dropShadowAngle) * style.dropShadowDistance;
                        var yShadowOffset = Math.sin(style.dropShadowAngle) * style.dropShadowDistance;
                        for (var i = 0; i < lines.length; i++) {
                            linePositionX = style.strokeThickness / 2;
                            linePositionY = style.strokeThickness / 2 + i * lineHeight + fontProperties.ascent;
                            if (style.align === 'right') {
                                linePositionX += maxLineWidth - lineWidths[i];
                            } else if (style.align === 'center') {
                                linePositionX += (maxLineWidth - lineWidths[i]) / 2;
                            }
                            if (style.fill) {
                                this.drawLetterSpacing(lines[i], linePositionX + xShadowOffset + style.padding, linePositionY + yShadowOffset + style.padding);
                                if (style.stroke && style.strokeThickness) {
                                    context.strokeStyle = style.dropShadowColor;
                                    this.drawLetterSpacing(lines[i], linePositionX + xShadowOffset + style.padding, linePositionY + yShadowOffset + style.padding, true);
                                    context.strokeStyle = style.stroke;
                                }
                            }
                        }
                    }
                    context.shadowBlur = 0;
                    context.globalAlpha = 1;
                    context.fillStyle = this._generateFillStyle(style, lines);
                    for (var _i = 0; _i < lines.length; _i++) {
                        linePositionX = style.strokeThickness / 2;
                        linePositionY = style.strokeThickness / 2 + _i * lineHeight + fontProperties.ascent;
                        if (style.align === 'right') {
                            linePositionX += maxLineWidth - lineWidths[_i];
                        } else if (style.align === 'center') {
                            linePositionX += (maxLineWidth - lineWidths[_i]) / 2;
                        }
                        if (style.stroke && style.strokeThickness) {
                            this.drawLetterSpacing(lines[_i], linePositionX + style.padding, linePositionY + style.padding, true);
                        }
                        if (style.fill) {
                            this.drawLetterSpacing(lines[_i], linePositionX + style.padding, linePositionY + style.padding);
                        }
                    }
                    this.updateTexture();
                };
                Text.prototype.drawLetterSpacing = function drawLetterSpacing(text, x, y) {
                    var isStroke = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
                    var style = this._style;
                    var letterSpacing = style.letterSpacing;
                    if (letterSpacing === 0) {
                        if (isStroke) {
                            this.context.strokeText(text, x, y);
                        } else {
                            this.context.fillText(text, x, y);
                        }
                        return;
                    }
                    var characters = String.prototype.split.call(text, '');
                    var currentPosition = x;
                    var index = 0;
                    var current = '';
                    while (index < text.length) {
                        current = characters[index++];
                        if (isStroke) {
                            this.context.strokeText(current, currentPosition, y);
                        } else {
                            this.context.fillText(current, currentPosition, y);
                        }
                        currentPosition += this.context.measureText(current).width + letterSpacing;
                    }
                };
                Text.prototype.updateTexture = function updateTexture() {
                    var canvas = this.canvas;
                    if (this._style.trim) {
                        var trimmed = (0, _trimCanvas2.default)(canvas);
                        canvas.width = trimmed.width;
                        canvas.height = trimmed.height;
                        this.context.putImageData(trimmed.data, 0, 0);
                    }
                    var texture = this._texture;
                    var style = this._style;
                    var padding = style.trim ? 0 : style.padding;
                    var baseTexture = texture.baseTexture;
                    baseTexture.hasLoaded = true;
                    baseTexture.resolution = this.resolution;
                    baseTexture.realWidth = canvas.width;
                    baseTexture.realHeight = canvas.height;
                    baseTexture.width = canvas.width / this.resolution;
                    baseTexture.height = canvas.height / this.resolution;
                    texture.trim.width = texture._frame.width = canvas.width / this.resolution;
                    texture.trim.height = texture._frame.height = canvas.height / this.resolution;
                    texture.trim.x = -padding;
                    texture.trim.y = -padding;
                    texture.orig.width = texture._frame.width - padding * 2;
                    texture.orig.height = texture._frame.height - padding * 2;
                    this._onTextureUpdate();
                    baseTexture.emit('update', baseTexture);
                    this.dirty = false;
                };
                Text.prototype.renderWebGL = function renderWebGL(renderer) {
                    if (this.resolution !== renderer.resolution) {
                        this.resolution = renderer.resolution;
                        this.dirty = true;
                    }
                    this.updateText(true);
                    _Sprite.prototype.renderWebGL.call(this, renderer);
                };
                Text.prototype._renderCanvas = function _renderCanvas(renderer) {
                    if (this.resolution !== renderer.resolution) {
                        this.resolution = renderer.resolution;
                        this.dirty = true;
                    }
                    this.updateText(true);
                    _Sprite.prototype._renderCanvas.call(this, renderer);
                };
                Text.prototype.getLocalBounds = function getLocalBounds(rect) {
                    this.updateText(true);
                    return _Sprite.prototype.getLocalBounds.call(this, rect);
                };
                Text.prototype._calculateBounds = function _calculateBounds() {
                    this.updateText(true);
                    this.calculateVertices();
                    this._bounds.addQuad(this.vertexData);
                };
                Text.prototype._onStyleChange = function _onStyleChange() {
                    this.dirty = true;
                };
                Text.prototype._generateFillStyle = function _generateFillStyle(style, lines) {
                    if (!Array.isArray(style.fill)) {
                        return style.fill;
                    }
                    if (navigator.isCocoonJS) {
                        return style.fill[0];
                    }
                    var gradient = void 0;
                    var totalIterations = void 0;
                    var currentIteration = void 0;
                    var stop = void 0;
                    var width = this.canvas.width / this.resolution;
                    var height = this.canvas.height / this.resolution;
                    var fill = style.fill.slice();
                    var fillGradientStops = style.fillGradientStops.slice();
                    if (!fillGradientStops.length) {
                        var lengthPlus1 = fill.length + 1;
                        for (var i = 1; i < lengthPlus1; ++i) {
                            fillGradientStops.push(i / lengthPlus1);
                        }
                    }
                    fill.unshift(style.fill[0]);
                    fillGradientStops.unshift(0);
                    fill.push(style.fill[style.fill.length - 1]);
                    fillGradientStops.push(1);
                    if (style.fillGradientType === _const.TEXT_GRADIENT.LINEAR_VERTICAL) {
                        gradient = this.context.createLinearGradient(width / 2, 0, width / 2, height);
                        totalIterations = (fill.length + 1) * lines.length;
                        currentIteration = 0;
                        for (var _i2 = 0; _i2 < lines.length; _i2++) {
                            currentIteration += 1;
                            for (var j = 0; j < fill.length; j++) {
                                if (typeof fillGradientStops[j] === 'number') {
                                    stop = fillGradientStops[j] / lines.length + _i2 / lines.length;
                                } else {
                                    stop = currentIteration / totalIterations;
                                }
                                gradient.addColorStop(stop, fill[j]);
                                currentIteration++;
                            }
                        }
                    } else {
                        gradient = this.context.createLinearGradient(0, height / 2, width, height / 2);
                        totalIterations = fill.length + 1;
                        currentIteration = 1;
                        for (var _i3 = 0; _i3 < fill.length; _i3++) {
                            if (typeof fillGradientStops[_i3] === 'number') {
                                stop = fillGradientStops[_i3];
                            } else {
                                stop = currentIteration / totalIterations;
                            }
                            gradient.addColorStop(stop, fill[_i3]);
                            currentIteration++;
                        }
                    }
                    return gradient;
                };
                Text.prototype.destroy = function destroy(options) {
                    if (typeof options === 'boolean') {
                        options = {
                            children: options
                        };
                    }
                    options = Object.assign({}, defaultDestroyOptions, options);
                    _Sprite.prototype.destroy.call(this, options);
                    this.context = null;
                    this.canvas = null;
                    this._style = null;
                };
                _createClass(Text, [{
                    key: 'width',
                    get: function get() {
                        this.updateText(true);
                        return Math.abs(this.scale.x) * this._texture.orig.width;
                    },
                    set: function set(value) {
                        this.updateText(true);
                        var s = (0, _utils.sign)(this.scale.x) || 1;
                        this.scale.x = s * value / this._texture.orig.width;
                        this._width = value;
                    }
                }, {
                    key: 'height',
                    get: function get() {
                        this.updateText(true);
                        return Math.abs(this.scale.y) * this._texture.orig.height;
                    },
                    set: function set(value) {
                        this.updateText(true);
                        var s = (0, _utils.sign)(this.scale.y) || 1;
                        this.scale.y = s * value / this._texture.orig.height;
                        this._height = value;
                    }
                }, {
                    key: 'style',
                    get: function get() {
                        return this._style;
                    },
                    set: function set(style) {
                        style = style || {};
                        if (style instanceof _TextStyle2.default) {
                            this._style = style;
                        } else {
                            this._style = new _TextStyle2.default(style);
                        }
                        this.localStyleID = -1;
                        this.dirty = true;
                    }
                }, {
                    key: 'text',
                    get: function get() {
                        return this._text;
                    },
                    set: function set(text) {
                        text = String(text === '' || text === null || text === undefined ? ' ' : text);
                        if (this._text === text) {
                            return;
                        }
                        this._text = text;
                        this.dirty = true;
                    }
                }]);
                return Text;
            }(_Sprite3.default);
            exports.default = Text;
        }, {
            "../const": 46,
            "../math": 70,
            "../settings": 101,
            "../sprites/Sprite": 102,
            "../textures/Texture": 115,
            "../utils": 125,
            "../utils/trimCanvas": 130,
            "./TextMetrics": 109,
            "./TextStyle": 110
        }],
        109: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var TextMetrics = function () {
                function TextMetrics(text, style, width, height, lines, lineWidths, lineHeight, maxLineWidth, fontProperties) {
                    _classCallCheck(this, TextMetrics);
                    this.text = text;
                    this.style = style;
                    this.width = width;
                    this.height = height;
                    this.lines = lines;
                    this.lineWidths = lineWidths;
                    this.lineHeight = lineHeight;
                    this.maxLineWidth = maxLineWidth;
                    this.fontProperties = fontProperties;
                }
                TextMetrics.measureText = function measureText(text, style, wordWrap) {
                    var canvas = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : TextMetrics._canvas;
                    wordWrap = wordWrap || style.wordWrap;
                    var font = style.toFontString();
                    var fontProperties = TextMetrics.measureFont(font);
                    var context = canvas.getContext('2d');
                    context.font = font;
                    var outputText = wordWrap ? TextMetrics.wordWrap(text, style, canvas) : text;
                    var lines = outputText.split(/(?:\r\n|\r|\n)/);
                    var lineWidths = new Array(lines.length);
                    var maxLineWidth = 0;
                    for (var i = 0; i < lines.length; i++) {
                        var lineWidth = context.measureText(lines[i]).width + (lines[i].length - 1) * style.letterSpacing;
                        lineWidths[i] = lineWidth;
                        maxLineWidth = Math.max(maxLineWidth, lineWidth);
                    }
                    var width = maxLineWidth + style.strokeThickness;
                    if (style.dropShadow) {
                        width += style.dropShadowDistance;
                    }
                    var lineHeight = style.lineHeight || fontProperties.fontSize + style.strokeThickness;
                    var height = Math.max(lineHeight, fontProperties.fontSize + style.strokeThickness) + (lines.length - 1) * (lineHeight + style.leading);
                    if (style.dropShadow) {
                        height += style.dropShadowDistance;
                    }
                    return new TextMetrics(text, style, width, height, lines, lineWidths, lineHeight + style.leading, maxLineWidth, fontProperties);
                };
                TextMetrics.wordWrap = function wordWrap(text, style) {
                    var canvas = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : TextMetrics._canvas;
                    var context = canvas.getContext('2d');
                    var result = '';
                    var firstChar = text.charAt(0);
                    var lines = text.split('\n');
                    var wordWrapWidth = style.wordWrapWidth;
                    var characterCache = {};
                    for (var i = 0; i < lines.length; i++) {
                        var spaceLeft = wordWrapWidth;
                        var words = lines[i].split(' ');
                        for (var j = 0; j < words.length; j++) {
                            var wordWidth = context.measureText(words[j]).width;
                            if (style.breakWords && wordWidth > wordWrapWidth) {
                                var characters = words[j].split('');
                                for (var c = 0; c < characters.length; c++) {
                                    var character = characters[c];
                                    var characterWidth = characterCache[character];
                                    if (characterWidth === undefined) {
                                        characterWidth = context.measureText(character).width;
                                        characterCache[character] = characterWidth;
                                    }
                                    if (characterWidth > spaceLeft) {
                                        result += '\n' + character;
                                        spaceLeft = wordWrapWidth - characterWidth;
                                    } else {
                                        if (c === 0 && (j > 0 || firstChar === ' ')) {
                                            result += ' ';
                                        }
                                        result += character;
                                        spaceLeft -= characterWidth;
                                    }
                                }
                            } else {
                                var wordWidthWithSpace = wordWidth + context.measureText(' ').width;
                                if (j === 0 || wordWidthWithSpace > spaceLeft) {
                                    if (j > 0) {
                                        result += '\n';
                                    }
                                    result += words[j];
                                    spaceLeft = wordWrapWidth - wordWidth;
                                } else {
                                    spaceLeft -= wordWidthWithSpace;
                                    result += ' ' + words[j];
                                }
                            }
                        }
                        if (i < lines.length - 1) {
                            result += '\n';
                        }
                    }
                    return result;
                };
                TextMetrics.measureFont = function measureFont(font) {
                    if (TextMetrics._fonts[font]) {
                        return TextMetrics._fonts[font];
                    }
                    var properties = {};
                    var canvas = TextMetrics._canvas;
                    var context = TextMetrics._context;
                    context.font = font;
                    var width = Math.ceil(context.measureText('|M  q').width);
                    var baseline = Math.ceil(context.measureText('M').width);
                    var height = 2 * baseline;
                    baseline = baseline * 1.4 | 0;
                    canvas.width = width;
                    canvas.height = height;
                    context.fillStyle = '#f00';
                    context.fillRect(0, 0, width, height);
                    context.font = font;
                    context.textBaseline = 'alphabetic';
                    context.fillStyle = '#000';
                    context.fillText('|M  q', 0, baseline);
                    var imagedata = context.getImageData(0, 0, width, height).data;
                    var pixels = imagedata.length;
                    var line = width * 4;
                    var i = 0;
                    var idx = 0;
                    var stop = false;
                    for (i = 0; i < baseline; ++i) {
                        for (var j = 0; j < line; j += 4) {
                            if (imagedata[idx + j] !== 255) {
                                stop = true;
                                break;
                            }
                        }
                        if (!stop) {
                            idx += line;
                        } else {
                            break;
                        }
                    }
                    properties.ascent = baseline - i;
                    idx = pixels - line;
                    stop = false;
                    for (i = height; i > baseline; --i) {
                        for (var _j = 0; _j < line; _j += 4) {
                            if (imagedata[idx + _j] !== 255) {
                                stop = true;
                                break;
                            }
                        }
                        if (!stop) {
                            idx -= line;
                        } else {
                            break;
                        }
                    }
                    properties.descent = i - baseline;
                    properties.fontSize = properties.ascent + properties.descent;
                    TextMetrics._fonts[font] = properties;
                    return properties;
                };
                return TextMetrics;
            }();
            exports.default = TextMetrics;
            var canvas = document.createElement('canvas');
            canvas.width = canvas.height = 10;
            TextMetrics._canvas = canvas;
            TextMetrics._context = canvas.getContext('2d');
            TextMetrics._fonts = {};
        }, {}],
        110: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _const = require('../const');
            var _utils = require('../utils');

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var defaultStyle = {
                align: 'left',
                breakWords: false,
                dropShadow: false,
                dropShadowAlpha: 1,
                dropShadowAngle: Math.PI / 6,
                dropShadowBlur: 0,
                dropShadowColor: 'black',
                dropShadowDistance: 5,
                fill: 'black',
                fillGradientType: _const.TEXT_GRADIENT.LINEAR_VERTICAL,
                fillGradientStops: [],
                fontFamily: 'Arial',
                fontSize: 26,
                fontStyle: 'normal',
                fontVariant: 'normal',
                fontWeight: 'normal',
                letterSpacing: 0,
                lineHeight: 0,
                lineJoin: 'miter',
                miterLimit: 10,
                padding: 0,
                stroke: 'black',
                strokeThickness: 0,
                textBaseline: 'alphabetic',
                trim: false,
                wordWrap: false,
                wordWrapWidth: 100,
                leading: 0
            };
            var TextStyle = function () {
                function TextStyle(style) {
                    _classCallCheck(this, TextStyle);
                    this.styleID = 0;
                    this.reset();
                    deepCopyProperties(this, style, style);
                }
                TextStyle.prototype.clone = function clone() {
                    var clonedProperties = {};
                    deepCopyProperties(clonedProperties, this, defaultStyle);
                    return new TextStyle(clonedProperties);
                };
                TextStyle.prototype.reset = function reset() {
                    deepCopyProperties(this, defaultStyle, defaultStyle);
                };
                TextStyle.prototype.toFontString = function toFontString() {
                    var fontSizeString = typeof this.fontSize === 'number' ? this.fontSize + 'px' : this.fontSize;
                    var fontFamilies = this.fontFamily;
                    if (!Array.isArray(this.fontFamily)) {
                        fontFamilies = this.fontFamily.split(',');
                    }
                    for (var i = fontFamilies.length - 1; i >= 0; i--) {
                        var fontFamily = fontFamilies[i].trim();
                        if (!/([\"\'])[^\'\"]+\1/.test(fontFamily)) {
                            fontFamily = '"' + fontFamily + '"';
                        }
                        fontFamilies[i] = fontFamily;
                    }
                    return this.fontStyle + ' ' + this.fontVariant + ' ' + this.fontWeight + ' ' + fontSizeString + ' ' + fontFamilies.join(',');
                };
                _createClass(TextStyle, [{
                    key: 'align',
                    get: function get() {
                        return this._align;
                    },
                    set: function set(align) {
                        if (this._align !== align) {
                            this._align = align;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'breakWords',
                    get: function get() {
                        return this._breakWords;
                    },
                    set: function set(breakWords) {
                        if (this._breakWords !== breakWords) {
                            this._breakWords = breakWords;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'dropShadow',
                    get: function get() {
                        return this._dropShadow;
                    },
                    set: function set(dropShadow) {
                        if (this._dropShadow !== dropShadow) {
                            this._dropShadow = dropShadow;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'dropShadowAlpha',
                    get: function get() {
                        return this._dropShadowAlpha;
                    },
                    set: function set(dropShadowAlpha) {
                        if (this._dropShadowAlpha !== dropShadowAlpha) {
                            this._dropShadowAlpha = dropShadowAlpha;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'dropShadowAngle',
                    get: function get() {
                        return this._dropShadowAngle;
                    },
                    set: function set(dropShadowAngle) {
                        if (this._dropShadowAngle !== dropShadowAngle) {
                            this._dropShadowAngle = dropShadowAngle;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'dropShadowBlur',
                    get: function get() {
                        return this._dropShadowBlur;
                    },
                    set: function set(dropShadowBlur) {
                        if (this._dropShadowBlur !== dropShadowBlur) {
                            this._dropShadowBlur = dropShadowBlur;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'dropShadowColor',
                    get: function get() {
                        return this._dropShadowColor;
                    },
                    set: function set(dropShadowColor) {
                        var outputColor = getColor(dropShadowColor);
                        if (this._dropShadowColor !== outputColor) {
                            this._dropShadowColor = outputColor;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'dropShadowDistance',
                    get: function get() {
                        return this._dropShadowDistance;
                    },
                    set: function set(dropShadowDistance) {
                        if (this._dropShadowDistance !== dropShadowDistance) {
                            this._dropShadowDistance = dropShadowDistance;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'fill',
                    get: function get() {
                        return this._fill;
                    },
                    set: function set(fill) {
                        var outputColor = getColor(fill);
                        if (this._fill !== outputColor) {
                            this._fill = outputColor;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'fillGradientType',
                    get: function get() {
                        return this._fillGradientType;
                    },
                    set: function set(fillGradientType) {
                        if (this._fillGradientType !== fillGradientType) {
                            this._fillGradientType = fillGradientType;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'fillGradientStops',
                    get: function get() {
                        return this._fillGradientStops;
                    },
                    set: function set(fillGradientStops) {
                        if (!areArraysEqual(this._fillGradientStops, fillGradientStops)) {
                            this._fillGradientStops = fillGradientStops;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'fontFamily',
                    get: function get() {
                        return this._fontFamily;
                    },
                    set: function set(fontFamily) {
                        if (this.fontFamily !== fontFamily) {
                            this._fontFamily = fontFamily;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'fontSize',
                    get: function get() {
                        return this._fontSize;
                    },
                    set: function set(fontSize) {
                        if (this._fontSize !== fontSize) {
                            this._fontSize = fontSize;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'fontStyle',
                    get: function get() {
                        return this._fontStyle;
                    },
                    set: function set(fontStyle) {
                        if (this._fontStyle !== fontStyle) {
                            this._fontStyle = fontStyle;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'fontVariant',
                    get: function get() {
                        return this._fontVariant;
                    },
                    set: function set(fontVariant) {
                        if (this._fontVariant !== fontVariant) {
                            this._fontVariant = fontVariant;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'fontWeight',
                    get: function get() {
                        return this._fontWeight;
                    },
                    set: function set(fontWeight) {
                        if (this._fontWeight !== fontWeight) {
                            this._fontWeight = fontWeight;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'letterSpacing',
                    get: function get() {
                        return this._letterSpacing;
                    },
                    set: function set(letterSpacing) {
                        if (this._letterSpacing !== letterSpacing) {
                            this._letterSpacing = letterSpacing;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'lineHeight',
                    get: function get() {
                        return this._lineHeight;
                    },
                    set: function set(lineHeight) {
                        if (this._lineHeight !== lineHeight) {
                            this._lineHeight = lineHeight;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'leading',
                    get: function get() {
                        return this._leading;
                    },
                    set: function set(leading) {
                        if (this._leading !== leading) {
                            this._leading = leading;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'lineJoin',
                    get: function get() {
                        return this._lineJoin;
                    },
                    set: function set(lineJoin) {
                        if (this._lineJoin !== lineJoin) {
                            this._lineJoin = lineJoin;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'miterLimit',
                    get: function get() {
                        return this._miterLimit;
                    },
                    set: function set(miterLimit) {
                        if (this._miterLimit !== miterLimit) {
                            this._miterLimit = miterLimit;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'padding',
                    get: function get() {
                        return this._padding;
                    },
                    set: function set(padding) {
                        if (this._padding !== padding) {
                            this._padding = padding;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'stroke',
                    get: function get() {
                        return this._stroke;
                    },
                    set: function set(stroke) {
                        var outputColor = getColor(stroke);
                        if (this._stroke !== outputColor) {
                            this._stroke = outputColor;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'strokeThickness',
                    get: function get() {
                        return this._strokeThickness;
                    },
                    set: function set(strokeThickness) {
                        if (this._strokeThickness !== strokeThickness) {
                            this._strokeThickness = strokeThickness;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'textBaseline',
                    get: function get() {
                        return this._textBaseline;
                    },
                    set: function set(textBaseline) {
                        if (this._textBaseline !== textBaseline) {
                            this._textBaseline = textBaseline;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'trim',
                    get: function get() {
                        return this._trim;
                    },
                    set: function set(trim) {
                        if (this._trim !== trim) {
                            this._trim = trim;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'wordWrap',
                    get: function get() {
                        return this._wordWrap;
                    },
                    set: function set(wordWrap) {
                        if (this._wordWrap !== wordWrap) {
                            this._wordWrap = wordWrap;
                            this.styleID++;
                        }
                    }
                }, {
                    key: 'wordWrapWidth',
                    get: function get() {
                        return this._wordWrapWidth;
                    },
                    set: function set(wordWrapWidth) {
                        if (this._wordWrapWidth !== wordWrapWidth) {
                            this._wordWrapWidth = wordWrapWidth;
                            this.styleID++;
                        }
                    }
                }]);
                return TextStyle;
            }();
            exports.default = TextStyle;

            function getSingleColor(color) {
                if (typeof color === 'number') {
                    return (0, _utils.hex2string)(color);
                } else if (typeof color === 'string') {
                    if (color.indexOf('0x') === 0) {
                        color = color.replace('0x', '#');
                    }
                }
                return color;
            }

            function getColor(color) {
                if (!Array.isArray(color)) {
                    return getSingleColor(color);
                } else {
                    for (var i = 0; i < color.length; ++i) {
                        color[i] = getSingleColor(color[i]);
                    }
                    return color;
                }
            }

            function areArraysEqual(array1, array2) {
                if (!Array.isArray(array1) || !Array.isArray(array2)) {
                    return false;
                }
                if (array1.length !== array2.length) {
                    return false;
                }
                for (var i = 0; i < array1.length; ++i) {
                    if (array1[i] !== array2[i]) {
                        return false;
                    }
                }
                return true;
            }

            function deepCopyProperties(target, source, propertyObj) {
                for (var prop in propertyObj) {
                    if (Array.isArray(source[prop])) {
                        target[prop] = source[prop].slice();
                    } else {
                        target[prop] = source[prop];
                    }
                }
            }
        }, {
            "../const": 46,
            "../utils": 125
        }],
        111: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _BaseTexture2 = require('./BaseTexture');
            var _BaseTexture3 = _interopRequireDefault(_BaseTexture2);
            var _settings = require('../settings');
            var _settings2 = _interopRequireDefault(_settings);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var BaseRenderTexture = function (_BaseTexture) {
                _inherits(BaseRenderTexture, _BaseTexture);

                function BaseRenderTexture() {
                    var width = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;
                    var height = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;
                    var scaleMode = arguments[2];
                    var resolution = arguments[3];
                    _classCallCheck(this, BaseRenderTexture);
                    var _this = _possibleConstructorReturn(this, _BaseTexture.call(this, null, scaleMode));
                    _this.resolution = resolution || _settings2.default.RESOLUTION;
                    _this.width = Math.ceil(width);
                    _this.height = Math.ceil(height);
                    _this.realWidth = _this.width * _this.resolution;
                    _this.realHeight = _this.height * _this.resolution;
                    _this.scaleMode = scaleMode !== undefined ? scaleMode : _settings2.default.SCALE_MODE;
                    _this.hasLoaded = true;
                    _this._glRenderTargets = {};
                    _this._canvasRenderTarget = null;
                    _this.valid = false;
                    return _this;
                }
                BaseRenderTexture.prototype.resize = function resize(width, height) {
                    width = Math.ceil(width);
                    height = Math.ceil(height);
                    if (width === this.width && height === this.height) {
                        return;
                    }
                    this.valid = width > 0 && height > 0;
                    this.width = width;
                    this.height = height;
                    this.realWidth = this.width * this.resolution;
                    this.realHeight = this.height * this.resolution;
                    if (!this.valid) {
                        return;
                    }
                    this.emit('update', this);
                };
                BaseRenderTexture.prototype.destroy = function destroy() {
                    _BaseTexture.prototype.destroy.call(this, true);
                    this.renderer = null;
                };
                return BaseRenderTexture;
            }(_BaseTexture3.default);
            exports.default = BaseRenderTexture;
        }, {
            "../settings": 101,
            "./BaseTexture": 112
        }],
        112: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _utils = require('../utils');
            var _settings = require('../settings');
            var _settings2 = _interopRequireDefault(_settings);
            var _eventemitter = require('eventemitter3');
            var _eventemitter2 = _interopRequireDefault(_eventemitter);
            var _determineCrossOrigin = require('../utils/determineCrossOrigin');
            var _determineCrossOrigin2 = _interopRequireDefault(_determineCrossOrigin);
            var _bitTwiddle = require('bit-twiddle');
            var _bitTwiddle2 = _interopRequireDefault(_bitTwiddle);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var BaseTexture = function (_EventEmitter) {
                _inherits(BaseTexture, _EventEmitter);

                function BaseTexture(source, scaleMode, resolution) {
                    _classCallCheck(this, BaseTexture);
                    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));
                    _this.uid = (0, _utils.uid)();
                    _this.touched = 0;
                    _this.resolution = resolution || _settings2.default.RESOLUTION;
                    _this.width = 100;
                    _this.height = 100;
                    _this.realWidth = 100;
                    _this.realHeight = 100;
                    _this.scaleMode = scaleMode !== undefined ? scaleMode : _settings2.default.SCALE_MODE;
                    _this.hasLoaded = false;
                    _this.isLoading = false;
                    _this.source = null;
                    _this.origSource = null;
                    _this.imageType = null;
                    _this.sourceScale = 1.0;
                    _this.premultipliedAlpha = true;
                    _this.imageUrl = null;
                    _this.isPowerOfTwo = false;
                    _this.mipmap = _settings2.default.MIPMAP_TEXTURES;
                    _this.wrapMode = _settings2.default.WRAP_MODE;
                    _this._glTextures = {};
                    _this._enabled = 0;
                    _this._virtalBoundId = -1;
                    _this._destroyed = false;
                    _this.textureCacheIds = [];
                    if (source) {
                        _this.loadSource(source);
                    }
                    return _this;
                }
                BaseTexture.prototype.update = function update() {
                    if (this.imageType !== 'svg') {
                        this.realWidth = this.source.naturalWidth || this.source.videoWidth || this.source.width;
                        this.realHeight = this.source.naturalHeight || this.source.videoHeight || this.source.height;
                        this._updateDimensions();
                    }
                    this.emit('update', this);
                };
                BaseTexture.prototype._updateDimensions = function _updateDimensions() {
                    this.width = this.realWidth / this.resolution;
                    this.height = this.realHeight / this.resolution;
                    this.isPowerOfTwo = _bitTwiddle2.default.isPow2(this.realWidth) && _bitTwiddle2.default.isPow2(this.realHeight);
                };
                BaseTexture.prototype.loadSource = function loadSource(source) {
                    var wasLoading = this.isLoading;
                    this.hasLoaded = false;
                    this.isLoading = false;
                    if (wasLoading && this.source) {
                        this.source.onload = null;
                        this.source.onerror = null;
                    }
                    var firstSourceLoaded = !this.source;
                    this.source = source;
                    if ((source.src && source.complete || source.getContext) && source.width && source.height) {
                        this._updateImageType();
                        if (this.imageType === 'svg') {
                            this._loadSvgSource();
                        } else {
                            this._sourceLoaded();
                        }
                        if (firstSourceLoaded) {
                            this.emit('loaded', this);
                        }
                    } else if (!source.getContext) {
                        this.isLoading = true;
                        var scope = this;
                        source.onload = function () {
                            scope._updateImageType();
                            source.onload = null;
                            source.onerror = null;
                            if (!scope.isLoading) {
                                return;
                            }
                            scope.isLoading = false;
                            scope._sourceLoaded();
                            if (scope.imageType === 'svg') {
                                scope._loadSvgSource();
                                return;
                            }
                            scope.emit('loaded', scope);
                        };
                        source.onerror = function () {
                            source.onload = null;
                            source.onerror = null;
                            if (!scope.isLoading) {
                                return;
                            }
                            scope.isLoading = false;
                            scope.emit('error', scope);
                        };
                        if (source.complete && source.src) {
                            source.onload = null;
                            source.onerror = null;
                            if (scope.imageType === 'svg') {
                                scope._loadSvgSource();
                                return;
                            }
                            this.isLoading = false;
                            if (source.width && source.height) {
                                this._sourceLoaded();
                                if (wasLoading) {
                                    this.emit('loaded', this);
                                }
                            } else if (wasLoading) {
                                this.emit('error', this);
                            }
                        }
                    }
                };
                BaseTexture.prototype._updateImageType = function _updateImageType() {
                    if (!this.imageUrl) {
                        return;
                    }
                    var dataUri = (0, _utils.decomposeDataUri)(this.imageUrl);
                    var imageType = void 0;
                    if (dataUri && dataUri.mediaType === 'image') {
                        var firstSubType = dataUri.subType.split('+')[0];
                        imageType = (0, _utils.getUrlFileExtension)('.' + firstSubType);
                        if (!imageType) {
                            throw new Error('Invalid image type in data URI.');
                        }
                    } else {
                        imageType = (0, _utils.getUrlFileExtension)(this.imageUrl);
                        if (!imageType) {
                            imageType = 'png';
                        }
                    }
                    this.imageType = imageType;
                };
                BaseTexture.prototype._loadSvgSource = function _loadSvgSource() {
                    if (this.imageType !== 'svg') {
                        return;
                    }
                    var dataUri = (0, _utils.decomposeDataUri)(this.imageUrl);
                    if (dataUri) {
                        this._loadSvgSourceUsingDataUri(dataUri);
                    } else {
                        this._loadSvgSourceUsingXhr();
                    }
                };
                BaseTexture.prototype._loadSvgSourceUsingDataUri = function _loadSvgSourceUsingDataUri(dataUri) {
                    var svgString = void 0;
                    if (dataUri.encoding === 'base64') {
                        if (!atob) {
                            throw new Error('Your browser doesn\'t support base64 conversions.');
                        }
                        svgString = atob(dataUri.data);
                    } else {
                        svgString = dataUri.data;
                    }
                    this._loadSvgSourceUsingString(svgString);
                };
                BaseTexture.prototype._loadSvgSourceUsingXhr = function _loadSvgSourceUsingXhr() {
                    var _this2 = this;
                    var svgXhr = new XMLHttpRequest();
                    svgXhr.onload = function () {
                        if (svgXhr.readyState !== svgXhr.DONE || svgXhr.status !== 200) {
                            throw new Error('Failed to load SVG using XHR.');
                        }
                        _this2._loadSvgSourceUsingString(svgXhr.response);
                    };
                    svgXhr.onerror = function () {
                        return _this2.emit('error', _this2);
                    };
                    svgXhr.open('GET', this.imageUrl, true);
                    svgXhr.send();
                };
                BaseTexture.prototype._loadSvgSourceUsingString = function _loadSvgSourceUsingString(svgString) {
                    var svgSize = (0, _utils.getSvgSize)(svgString);
                    var svgWidth = svgSize.width;
                    var svgHeight = svgSize.height;
                    if (!svgWidth || !svgHeight) {
                        throw new Error('The SVG image must have width and height defined (in pixels), canvas API needs them.');
                    }
                    this.realWidth = Math.round(svgWidth * this.sourceScale);
                    this.realHeight = Math.round(svgHeight * this.sourceScale);
                    this._updateDimensions();
                    var canvas = document.createElement('canvas');
                    canvas.width = this.realWidth;
                    canvas.height = this.realHeight;
                    canvas._pixiId = 'canvas_' + (0, _utils.uid)();
                    canvas.getContext('2d').drawImage(this.source, 0, 0, svgWidth, svgHeight, 0, 0, this.realWidth, this.realHeight);
                    this.origSource = this.source;
                    this.source = canvas;
                    BaseTexture.addToCache(this, canvas._pixiId);
                    this.isLoading = false;
                    this._sourceLoaded();
                    this.emit('loaded', this);
                };
                BaseTexture.prototype._sourceLoaded = function _sourceLoaded() {
                    this.hasLoaded = true;
                    this.update();
                };
                BaseTexture.prototype.destroy = function destroy() {
                    if (this.imageUrl) {
                        delete _utils.TextureCache[this.imageUrl];
                        this.imageUrl = null;
                        if (!navigator.isCocoonJS) {
                            this.source.src = '';
                        }
                    }
                    this.source = null;
                    this.dispose();
                    BaseTexture.removeFromCache(this);
                    this.textureCacheIds = null;
                    this._destroyed = true;
                };
                BaseTexture.prototype.dispose = function dispose() {
                    this.emit('dispose', this);
                };
                BaseTexture.prototype.updateSourceImage = function updateSourceImage(newSrc) {
                    this.source.src = newSrc;
                    this.loadSource(this.source);
                };
                BaseTexture.fromImage = function fromImage(imageUrl, crossorigin, scaleMode, sourceScale) {
                    var baseTexture = _utils.BaseTextureCache[imageUrl];
                    if (!baseTexture) {
                        var image = new Image();
                        if (crossorigin === undefined && imageUrl.indexOf('data:') !== 0) {
                            image.crossOrigin = (0, _determineCrossOrigin2.default)(imageUrl);
                        } else if (crossorigin) {
                            image.crossOrigin = typeof crossorigin === 'string' ? crossorigin : 'anonymous';
                        }
                        baseTexture = new BaseTexture(image, scaleMode);
                        baseTexture.imageUrl = imageUrl;
                        if (sourceScale) {
                            baseTexture.sourceScale = sourceScale;
                        }
                        baseTexture.resolution = (0, _utils.getResolutionOfUrl)(imageUrl);
                        image.src = imageUrl;
                        BaseTexture.addToCache(baseTexture, imageUrl);
                    }
                    return baseTexture;
                };
                BaseTexture.fromCanvas = function fromCanvas(canvas, scaleMode) {
                    var origin = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'canvas';
                    if (!canvas._pixiId) {
                        canvas._pixiId = origin + '_' + (0, _utils.uid)();
                    }
                    var baseTexture = _utils.BaseTextureCache[canvas._pixiId];
                    if (!baseTexture) {
                        baseTexture = new BaseTexture(canvas, scaleMode);
                        BaseTexture.addToCache(baseTexture, canvas._pixiId);
                    }
                    return baseTexture;
                };
                BaseTexture.from = function from(source, scaleMode, sourceScale) {
                    if (typeof source === 'string') {
                        return BaseTexture.fromImage(source, undefined, scaleMode, sourceScale);
                    } else if (source instanceof HTMLImageElement) {
                        var imageUrl = source.src;
                        var baseTexture = _utils.BaseTextureCache[imageUrl];
                        if (!baseTexture) {
                            baseTexture = new BaseTexture(source, scaleMode);
                            baseTexture.imageUrl = imageUrl;
                            if (sourceScale) {
                                baseTexture.sourceScale = sourceScale;
                            }
                            baseTexture.resolution = (0, _utils.getResolutionOfUrl)(imageUrl);
                            BaseTexture.addToCache(baseTexture, imageUrl);
                        }
                        return baseTexture;
                    } else if (source instanceof HTMLCanvasElement) {
                        return BaseTexture.fromCanvas(source, scaleMode);
                    }
                    return source;
                };
                BaseTexture.addToCache = function addToCache(baseTexture, id) {
                    if (id) {
                        if (baseTexture.textureCacheIds.indexOf(id) === -1) {
                            baseTexture.textureCacheIds.push(id);
                        }
                        if (_utils.BaseTextureCache[id]) {
                            console.warn('BaseTexture added to the cache with an id [' + id + '] that already had an entry');
                        }
                        _utils.BaseTextureCache[id] = baseTexture;
                    }
                };
                BaseTexture.removeFromCache = function removeFromCache(baseTexture) {
                    if (typeof baseTexture === 'string') {
                        var baseTextureFromCache = _utils.BaseTextureCache[baseTexture];
                        if (baseTextureFromCache) {
                            var index = baseTextureFromCache.textureCacheIds.indexOf(baseTexture);
                            if (index > -1) {
                                baseTextureFromCache.textureCacheIds.splice(index, 1);
                            }
                            delete _utils.BaseTextureCache[baseTexture];
                            return baseTextureFromCache;
                        }
                    } else if (baseTexture && baseTexture.textureCacheIds) {
                        for (var i = 0; i < baseTexture.textureCacheIds.length; ++i) {
                            delete _utils.BaseTextureCache[baseTexture.textureCacheIds[i]];
                        }
                        baseTexture.textureCacheIds.length = 0;
                        return baseTexture;
                    }
                    return null;
                };
                return BaseTexture;
            }(_eventemitter2.default);
            exports.default = BaseTexture;
        }, {
            "../settings": 101,
            "../utils": 125,
            "../utils/determineCrossOrigin": 124,
            "bit-twiddle": 1,
            "eventemitter3": 3
        }],
        113: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _BaseRenderTexture = require('./BaseRenderTexture');
            var _BaseRenderTexture2 = _interopRequireDefault(_BaseRenderTexture);
            var _Texture2 = require('./Texture');
            var _Texture3 = _interopRequireDefault(_Texture2);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var RenderTexture = function (_Texture) {
                _inherits(RenderTexture, _Texture);

                function RenderTexture(baseRenderTexture, frame) {
                    _classCallCheck(this, RenderTexture);
                    var _legacyRenderer = null;
                    if (!(baseRenderTexture instanceof _BaseRenderTexture2.default)) {
                        var width = arguments[1];
                        var height = arguments[2];
                        var scaleMode = arguments[3];
                        var resolution = arguments[4];
                        console.warn('Please use RenderTexture.create(' + width + ', ' + height + ') instead of the ctor directly.');
                        _legacyRenderer = arguments[0];
                        frame = null;
                        baseRenderTexture = new _BaseRenderTexture2.default(width, height, scaleMode, resolution);
                    }
                    var _this = _possibleConstructorReturn(this, _Texture.call(this, baseRenderTexture, frame));
                    _this.legacyRenderer = _legacyRenderer;
                    _this.valid = true;
                    _this._updateUvs();
                    return _this;
                }
                RenderTexture.prototype.resize = function resize(width, height, doNotResizeBaseTexture) {
                    width = Math.ceil(width);
                    height = Math.ceil(height);
                    this.valid = width > 0 && height > 0;
                    this._frame.width = this.orig.width = width;
                    this._frame.height = this.orig.height = height;
                    if (!doNotResizeBaseTexture) {
                        this.baseTexture.resize(width, height);
                    }
                    this._updateUvs();
                };
                RenderTexture.create = function create(width, height, scaleMode, resolution) {
                    return new RenderTexture(new _BaseRenderTexture2.default(width, height, scaleMode, resolution));
                };
                return RenderTexture;
            }(_Texture3.default);
            exports.default = RenderTexture;
        }, {
            "./BaseRenderTexture": 111,
            "./Texture": 115
        }],
        114: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _ = require('../');
            var _utils = require('../utils');

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var Spritesheet = function () {
                _createClass(Spritesheet, null, [{
                    key: 'BATCH_SIZE',
                    get: function get() {
                        return 1000;
                    }
                }]);

                function Spritesheet(baseTexture, data) {
                    var resolutionFilename = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
                    _classCallCheck(this, Spritesheet);
                    this.baseTexture = baseTexture;
                    this.textures = {};
                    this.data = data;
                    this.resolution = this._updateResolution(resolutionFilename || this.baseTexture.imageUrl);
                    this._frames = this.data.frames;
                    this._frameKeys = Object.keys(this._frames);
                    this._batchIndex = 0;
                    this._callback = null;
                }
                Spritesheet.prototype._updateResolution = function _updateResolution(resolutionFilename) {
                    var scale = this.data.meta.scale;
                    var resolution = (0, _utils.getResolutionOfUrl)(resolutionFilename, null);
                    if (resolution === null) {
                        resolution = scale !== undefined ? parseFloat(scale) : 1;
                    }
                    if (resolution !== 1) {
                        this.baseTexture.resolution = resolution;
                        this.baseTexture.update();
                    }
                    return resolution;
                };
                Spritesheet.prototype.parse = function parse(callback) {
                    this._batchIndex = 0;
                    this._callback = callback;
                    if (this._frameKeys.length <= Spritesheet.BATCH_SIZE) {
                        this._processFrames(0);
                        this._parseComplete();
                    } else {
                        this._nextBatch();
                    }
                };
                Spritesheet.prototype._processFrames = function _processFrames(initialFrameIndex) {
                    var frameIndex = initialFrameIndex;
                    var maxFrames = Spritesheet.BATCH_SIZE;
                    var sourceScale = this.baseTexture.sourceScale;
                    while (frameIndex - initialFrameIndex < maxFrames && frameIndex < this._frameKeys.length) {
                        var i = this._frameKeys[frameIndex];
                        var data = this._frames[i];
                        var rect = data.frame;
                        if (rect) {
                            var frame = null;
                            var trim = null;
                            var sourceSize = data.trimmed !== false && data.sourceSize ? data.sourceSize : data.frame;
                            var orig = new _.Rectangle(0, 0, Math.floor(sourceSize.w * sourceScale) / this.resolution, Math.floor(sourceSize.h * sourceScale) / this.resolution);
                            if (data.rotated) {
                                frame = new _.Rectangle(Math.floor(rect.x * sourceScale) / this.resolution, Math.floor(rect.y * sourceScale) / this.resolution, Math.floor(rect.h * sourceScale) / this.resolution, Math.floor(rect.w * sourceScale) / this.resolution);
                            } else {
                                frame = new _.Rectangle(Math.floor(rect.x * sourceScale) / this.resolution, Math.floor(rect.y * sourceScale) / this.resolution, Math.floor(rect.w * sourceScale) / this.resolution, Math.floor(rect.h * sourceScale) / this.resolution);
                            }
                            if (data.trimmed !== false && data.spriteSourceSize) {
                                trim = new _.Rectangle(Math.floor(data.spriteSourceSize.x * sourceScale) / this.resolution, Math.floor(data.spriteSourceSize.y * sourceScale) / this.resolution, Math.floor(rect.w * sourceScale) / this.resolution, Math.floor(rect.h * sourceScale) / this.resolution);
                            }
                            this.textures[i] = new _.Texture(this.baseTexture, frame, orig, trim, data.rotated ? 2 : 0);
                            _.Texture.addToCache(this.textures[i], i);
                        }
                        frameIndex++;
                    }
                };
                Spritesheet.prototype._parseComplete = function _parseComplete() {
                    var callback = this._callback;
                    this._callback = null;
                    this._batchIndex = 0;
                    callback.call(this, this.textures);
                };
                Spritesheet.prototype._nextBatch = function _nextBatch() {
                    var _this = this;
                    this._processFrames(this._batchIndex * Spritesheet.BATCH_SIZE);
                    this._batchIndex++;
                    setTimeout(function () {
                        if (_this._batchIndex * Spritesheet.BATCH_SIZE < _this._frameKeys.length) {
                            _this._nextBatch();
                        } else {
                            _this._parseComplete();
                        }
                    }, 0);
                };
                Spritesheet.prototype.destroy = function destroy() {
                    var destroyBase = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
                    for (var i in this.textures) {
                        this.textures[i].destroy();
                    }
                    this._frames = null;
                    this._frameKeys = null;
                    this.data = null;
                    this.textures = null;
                    if (destroyBase) {
                        this.baseTexture.destroy();
                    }
                    this.baseTexture = null;
                };
                return Spritesheet;
            }();
            exports.default = Spritesheet;
        }, {
            "../": 65,
            "../utils": 125
        }],
        115: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _BaseTexture = require('./BaseTexture');
            var _BaseTexture2 = _interopRequireDefault(_BaseTexture);
            var _VideoBaseTexture = require('./VideoBaseTexture');
            var _VideoBaseTexture2 = _interopRequireDefault(_VideoBaseTexture);
            var _TextureUvs = require('./TextureUvs');
            var _TextureUvs2 = _interopRequireDefault(_TextureUvs);
            var _eventemitter = require('eventemitter3');
            var _eventemitter2 = _interopRequireDefault(_eventemitter);
            var _math = require('../math');
            var _utils = require('../utils');
            var _settings = require('../settings');
            var _settings2 = _interopRequireDefault(_settings);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Texture = function (_EventEmitter) {
                _inherits(Texture, _EventEmitter);

                function Texture(baseTexture, frame, orig, trim, rotate) {
                    _classCallCheck(this, Texture);
                    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));
                    _this.noFrame = false;
                    if (!frame) {
                        _this.noFrame = true;
                        frame = new _math.Rectangle(0, 0, 1, 1);
                    }
                    if (baseTexture instanceof Texture) {
                        baseTexture = baseTexture.baseTexture;
                    }
                    _this.baseTexture = baseTexture;
                    _this._frame = frame;
                    _this.trim = trim;
                    _this.valid = false;
                    _this.requiresUpdate = false;
                    _this._uvs = null;
                    _this.orig = orig || frame;
                    _this._rotate = Number(rotate || 0);
                    if (rotate === true) {
                        _this._rotate = 2;
                    } else if (_this._rotate % 2 !== 0) {
                        throw new Error('attempt to use diamond-shaped UVs. If you are sure, set rotation manually');
                    }
                    if (baseTexture.hasLoaded) {
                        if (_this.noFrame) {
                            frame = new _math.Rectangle(0, 0, baseTexture.width, baseTexture.height);
                            baseTexture.on('update', _this.onBaseTextureUpdated, _this);
                        }
                        _this.frame = frame;
                    } else {
                        baseTexture.once('loaded', _this.onBaseTextureLoaded, _this);
                    }
                    _this._updateID = 0;
                    _this.transform = null;
                    _this.textureCacheIds = [];
                    return _this;
                }
                Texture.prototype.update = function update() {
                    this.baseTexture.update();
                };
                Texture.prototype.onBaseTextureLoaded = function onBaseTextureLoaded(baseTexture) {
                    this._updateID++;
                    if (this.noFrame) {
                        this.frame = new _math.Rectangle(0, 0, baseTexture.width, baseTexture.height);
                    } else {
                        this.frame = this._frame;
                    }
                    this.baseTexture.on('update', this.onBaseTextureUpdated, this);
                    this.emit('update', this);
                };
                Texture.prototype.onBaseTextureUpdated = function onBaseTextureUpdated(baseTexture) {
                    this._updateID++;
                    this._frame.width = baseTexture.width;
                    this._frame.height = baseTexture.height;
                    this.emit('update', this);
                };
                Texture.prototype.destroy = function destroy(destroyBase) {
                    if (this.baseTexture) {
                        if (destroyBase) {
                            if (_utils.TextureCache[this.baseTexture.imageUrl]) {
                                Texture.removeFromCache(this.baseTexture.imageUrl);
                            }
                            this.baseTexture.destroy();
                        }
                        this.baseTexture.off('update', this.onBaseTextureUpdated, this);
                        this.baseTexture.off('loaded', this.onBaseTextureLoaded, this);
                        this.baseTexture = null;
                    }
                    this._frame = null;
                    this._uvs = null;
                    this.trim = null;
                    this.orig = null;
                    this.valid = false;
                    Texture.removeFromCache(this);
                    this.textureCacheIds = null;
                };
                Texture.prototype.clone = function clone() {
                    return new Texture(this.baseTexture, this.frame, this.orig, this.trim, this.rotate);
                };
                Texture.prototype._updateUvs = function _updateUvs() {
                    if (!this._uvs) {
                        this._uvs = new _TextureUvs2.default();
                    }
                    this._uvs.set(this._frame, this.baseTexture, this.rotate);
                    this._updateID++;
                };
                Texture.fromImage = function fromImage(imageUrl, crossorigin, scaleMode, sourceScale) {
                    var texture = _utils.TextureCache[imageUrl];
                    if (!texture) {
                        texture = new Texture(_BaseTexture2.default.fromImage(imageUrl, crossorigin, scaleMode, sourceScale));
                        Texture.addToCache(texture, imageUrl);
                    }
                    return texture;
                };
                Texture.fromFrame = function fromFrame(frameId) {
                    var texture = _utils.TextureCache[frameId];
                    if (!texture) {
                        throw new Error('The frameId "' + frameId + '" does not exist in the texture cache');
                    }
                    return texture;
                };
                Texture.fromCanvas = function fromCanvas(canvas, scaleMode) {
                    var origin = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'canvas';
                    return new Texture(_BaseTexture2.default.fromCanvas(canvas, scaleMode, origin));
                };
                Texture.fromVideo = function fromVideo(video, scaleMode) {
                    if (typeof video === 'string') {
                        return Texture.fromVideoUrl(video, scaleMode);
                    }
                    return new Texture(_VideoBaseTexture2.default.fromVideo(video, scaleMode));
                };
                Texture.fromVideoUrl = function fromVideoUrl(videoUrl, scaleMode) {
                    return new Texture(_VideoBaseTexture2.default.fromUrl(videoUrl, scaleMode));
                };
                Texture.from = function from(source) {
                    if (typeof source === 'string') {
                        var texture = _utils.TextureCache[source];
                        if (!texture) {
                            var isVideo = source.match(/\.(mp4|webm|ogg|h264|avi|mov)$/) !== null;
                            if (isVideo) {
                                return Texture.fromVideoUrl(source);
                            }
                            return Texture.fromImage(source);
                        }
                        return texture;
                    } else if (source instanceof HTMLImageElement) {
                        return new Texture(_BaseTexture2.default.from(source));
                    } else if (source instanceof HTMLCanvasElement) {
                        return Texture.fromCanvas(source, _settings2.default.SCALE_MODE, 'HTMLCanvasElement');
                    } else if (source instanceof HTMLVideoElement) {
                        return Texture.fromVideo(source);
                    } else if (source instanceof _BaseTexture2.default) {
                        return new Texture(source);
                    }
                    return source;
                };
                Texture.fromLoader = function fromLoader(source, imageUrl, name) {
                    var baseTexture = new _BaseTexture2.default(source, undefined, (0, _utils.getResolutionOfUrl)(imageUrl));
                    var texture = new Texture(baseTexture);
                    baseTexture.imageUrl = imageUrl;
                    if (!name) {
                        name = imageUrl;
                    }
                    _BaseTexture2.default.addToCache(texture.baseTexture, name);
                    Texture.addToCache(texture, name);
                    if (name !== imageUrl) {
                        _BaseTexture2.default.addToCache(texture.baseTexture, imageUrl);
                        Texture.addToCache(texture, imageUrl);
                    }
                    return texture;
                };
                Texture.addToCache = function addToCache(texture, id) {
                    if (id) {
                        if (texture.textureCacheIds.indexOf(id) === -1) {
                            texture.textureCacheIds.push(id);
                        }
                        if (_utils.TextureCache[id]) {
                            console.warn('Texture added to the cache with an id [' + id + '] that already had an entry');
                        }
                        _utils.TextureCache[id] = texture;
                    }
                };
                Texture.removeFromCache = function removeFromCache(texture) {
                    if (typeof texture === 'string') {
                        var textureFromCache = _utils.TextureCache[texture];
                        if (textureFromCache) {
                            var index = textureFromCache.textureCacheIds.indexOf(texture);
                            if (index > -1) {
                                textureFromCache.textureCacheIds.splice(index, 1);
                            }
                            delete _utils.TextureCache[texture];
                            return textureFromCache;
                        }
                    } else if (texture && texture.textureCacheIds) {
                        for (var i = 0; i < texture.textureCacheIds.length; ++i) {
                            if (_utils.TextureCache[texture.textureCacheIds[i]] === texture) {
                                delete _utils.TextureCache[texture.textureCacheIds[i]];
                            }
                        }
                        texture.textureCacheIds.length = 0;
                        return texture;
                    }
                    return null;
                };
                _createClass(Texture, [{
                    key: 'frame',
                    get: function get() {
                        return this._frame;
                    },
                    set: function set(frame) {
                        this._frame = frame;
                        this.noFrame = false;
                        var x = frame.x,
                            y = frame.y,
                            width = frame.width,
                            height = frame.height;
                        var xNotFit = x + width > this.baseTexture.width;
                        var yNotFit = y + height > this.baseTexture.height;
                        if (xNotFit || yNotFit) {
                            var relationship = xNotFit && yNotFit ? 'and' : 'or';
                            var errorX = 'X: ' + x + ' + ' + width + ' = ' + (x + width) + ' > ' + this.baseTexture.width;
                            var errorY = 'Y: ' + y + ' + ' + height + ' = ' + (y + height) + ' > ' + this.baseTexture.height;
                            throw new Error('Texture Error: frame does not fit inside the base Texture dimensions: ' + (errorX + ' ' + relationship + ' ' + errorY));
                        }
                        this.valid = width && height && this.baseTexture.hasLoaded;
                        if (!this.trim && !this.rotate) {
                            this.orig = frame;
                        }
                        if (this.valid) {
                            this._updateUvs();
                        }
                    }
                }, {
                    key: 'rotate',
                    get: function get() {
                        return this._rotate;
                    },
                    set: function set(rotate) {
                        this._rotate = rotate;
                        if (this.valid) {
                            this._updateUvs();
                        }
                    }
                }, {
                    key: 'width',
                    get: function get() {
                        return this.orig.width;
                    }
                }, {
                    key: 'height',
                    get: function get() {
                        return this.orig.height;
                    }
                }]);
                return Texture;
            }(_eventemitter2.default);
            exports.default = Texture;

            function createWhiteTexture() {
                var canvas = document.createElement('canvas');
                canvas.width = 10;
                canvas.height = 10;
                var context = canvas.getContext('2d');
                context.fillStyle = 'white';
                context.fillRect(0, 0, 10, 10);
                return new Texture(new _BaseTexture2.default(canvas));
            }

            function removeAllHandlers(tex) {
                tex.destroy = function _emptyDestroy() {};
                tex.on = function _emptyOn() {};
                tex.once = function _emptyOnce() {};
                tex.emit = function _emptyEmit() {};
            }
            Texture.EMPTY = new Texture(new _BaseTexture2.default());
            removeAllHandlers(Texture.EMPTY);
            removeAllHandlers(Texture.EMPTY.baseTexture);
            Texture.WHITE = createWhiteTexture();
            removeAllHandlers(Texture.WHITE);
            removeAllHandlers(Texture.WHITE.baseTexture);
        }, {
            "../math": 70,
            "../settings": 101,
            "../utils": 125,
            "./BaseTexture": 112,
            "./TextureUvs": 117,
            "./VideoBaseTexture": 118,
            "eventemitter3": 3
        }],
        116: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _Matrix = require('../math/Matrix');
            var _Matrix2 = _interopRequireDefault(_Matrix);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var tempMat = new _Matrix2.default();
            var TextureMatrix = function () {
                function TextureMatrix(texture, clampMargin) {
                    _classCallCheck(this, TextureMatrix);
                    this._texture = texture;
                    this.mapCoord = new _Matrix2.default();
                    this.uClampFrame = new Float32Array(4);
                    this.uClampOffset = new Float32Array(2);
                    this._lastTextureID = -1;
                    this.clampOffset = 0;
                    this.clampMargin = typeof clampMargin === 'undefined' ? 0.5 : clampMargin;
                }
                TextureMatrix.prototype.multiplyUvs = function multiplyUvs(uvs, out) {
                    if (out === undefined) {
                        out = uvs;
                    }
                    var mat = this.mapCoord;
                    for (var i = 0; i < uvs.length; i += 2) {
                        var x = uvs[i];
                        var y = uvs[i + 1];
                        out[i] = x * mat.a + y * mat.c + mat.tx;
                        out[i + 1] = x * mat.b + y * mat.d + mat.ty;
                    }
                    return out;
                };
                TextureMatrix.prototype.update = function update(forceUpdate) {
                    var tex = this._texture;
                    if (!tex || !tex.valid) {
                        return false;
                    }
                    if (!forceUpdate && this._lastTextureID === tex._updateID) {
                        return false;
                    }
                    this._lastTextureID = tex._updateID;
                    var uvs = tex._uvs;
                    this.mapCoord.set(uvs.x1 - uvs.x0, uvs.y1 - uvs.y0, uvs.x3 - uvs.x0, uvs.y3 - uvs.y0, uvs.x0, uvs.y0);
                    var orig = tex.orig;
                    var trim = tex.trim;
                    if (trim) {
                        tempMat.set(orig.width / trim.width, 0, 0, orig.height / trim.height, -trim.x / trim.width, -trim.y / trim.height);
                        this.mapCoord.append(tempMat);
                    }
                    var texBase = tex.baseTexture;
                    var frame = this.uClampFrame;
                    var margin = this.clampMargin / texBase.resolution;
                    var offset = this.clampOffset;
                    frame[0] = (tex._frame.x + margin + offset) / texBase.width;
                    frame[1] = (tex._frame.y + margin + offset) / texBase.height;
                    frame[2] = (tex._frame.x + tex._frame.width - margin + offset) / texBase.width;
                    frame[3] = (tex._frame.y + tex._frame.height - margin + offset) / texBase.height;
                    this.uClampOffset[0] = offset / texBase.realWidth;
                    this.uClampOffset[1] = offset / texBase.realHeight;
                    return true;
                };
                _createClass(TextureMatrix, [{
                    key: 'texture',
                    get: function get() {
                        return this._texture;
                    },
                    set: function set(value) {
                        this._texture = value;
                        this._lastTextureID = -1;
                    }
                }]);
                return TextureMatrix;
            }();
            exports.default = TextureMatrix;
        }, {
            "../math/Matrix": 67
        }],
        117: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _GroupD = require('../math/GroupD8');
            var _GroupD2 = _interopRequireDefault(_GroupD);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var TextureUvs = function () {
                function TextureUvs() {
                    _classCallCheck(this, TextureUvs);
                    this.x0 = 0;
                    this.y0 = 0;
                    this.x1 = 1;
                    this.y1 = 0;
                    this.x2 = 1;
                    this.y2 = 1;
                    this.x3 = 0;
                    this.y3 = 1;
                    this.uvsUint32 = new Uint32Array(4);
                }
                TextureUvs.prototype.set = function set(frame, baseFrame, rotate) {
                    var tw = baseFrame.width;
                    var th = baseFrame.height;
                    if (rotate) {
                        var w2 = frame.width / 2 / tw;
                        var h2 = frame.height / 2 / th;
                        var cX = frame.x / tw + w2;
                        var cY = frame.y / th + h2;
                        rotate = _GroupD2.default.add(rotate, _GroupD2.default.NW);
                        this.x0 = cX + w2 * _GroupD2.default.uX(rotate);
                        this.y0 = cY + h2 * _GroupD2.default.uY(rotate);
                        rotate = _GroupD2.default.add(rotate, 2);
                        this.x1 = cX + w2 * _GroupD2.default.uX(rotate);
                        this.y1 = cY + h2 * _GroupD2.default.uY(rotate);
                        rotate = _GroupD2.default.add(rotate, 2);
                        this.x2 = cX + w2 * _GroupD2.default.uX(rotate);
                        this.y2 = cY + h2 * _GroupD2.default.uY(rotate);
                        rotate = _GroupD2.default.add(rotate, 2);
                        this.x3 = cX + w2 * _GroupD2.default.uX(rotate);
                        this.y3 = cY + h2 * _GroupD2.default.uY(rotate);
                    } else {
                        this.x0 = frame.x / tw;
                        this.y0 = frame.y / th;
                        this.x1 = (frame.x + frame.width) / tw;
                        this.y1 = frame.y / th;
                        this.x2 = (frame.x + frame.width) / tw;
                        this.y2 = (frame.y + frame.height) / th;
                        this.x3 = frame.x / tw;
                        this.y3 = (frame.y + frame.height) / th;
                    }
                    this.uvsUint32[0] = (this.y0 * 65535 & 0xFFFF) << 16 | this.x0 * 65535 & 0xFFFF;
                    this.uvsUint32[1] = (this.y1 * 65535 & 0xFFFF) << 16 | this.x1 * 65535 & 0xFFFF;
                    this.uvsUint32[2] = (this.y2 * 65535 & 0xFFFF) << 16 | this.x2 * 65535 & 0xFFFF;
                    this.uvsUint32[3] = (this.y3 * 65535 & 0xFFFF) << 16 | this.x3 * 65535 & 0xFFFF;
                };
                return TextureUvs;
            }();
            exports.default = TextureUvs;
        }, {
            "../math/GroupD8": 66
        }],
        118: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _BaseTexture2 = require('./BaseTexture');
            var _BaseTexture3 = _interopRequireDefault(_BaseTexture2);
            var _utils = require('../utils');
            var _ticker = require('../ticker');
            var _const = require('../const');
            var _determineCrossOrigin = require('../utils/determineCrossOrigin');
            var _determineCrossOrigin2 = _interopRequireDefault(_determineCrossOrigin);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var VideoBaseTexture = function (_BaseTexture) {
                _inherits(VideoBaseTexture, _BaseTexture);

                function VideoBaseTexture(source, scaleMode) {
                    _classCallCheck(this, VideoBaseTexture);
                    if (!source) {
                        throw new Error('No video source element specified.');
                    }
                    if ((source.readyState === source.HAVE_ENOUGH_DATA || source.readyState === source.HAVE_FUTURE_DATA) && source.width && source.height) {
                        source.complete = true;
                    }
                    var _this = _possibleConstructorReturn(this, _BaseTexture.call(this, source, scaleMode));
                    _this.width = source.videoWidth;
                    _this.height = source.videoHeight;
                    _this._autoUpdate = true;
                    _this._isAutoUpdating = false;
                    _this.autoPlay = true;
                    _this.update = _this.update.bind(_this);
                    _this._onCanPlay = _this._onCanPlay.bind(_this);
                    source.addEventListener('play', _this._onPlayStart.bind(_this));
                    source.addEventListener('pause', _this._onPlayStop.bind(_this));
                    _this.hasLoaded = false;
                    _this.__loaded = false;
                    if (!_this._isSourceReady()) {
                        source.addEventListener('canplay', _this._onCanPlay);
                        source.addEventListener('canplaythrough', _this._onCanPlay);
                    } else {
                        _this._onCanPlay();
                    }
                    return _this;
                }
                VideoBaseTexture.prototype._isSourcePlaying = function _isSourcePlaying() {
                    var source = this.source;
                    return source.currentTime > 0 && source.paused === false && source.ended === false && source.readyState > 2;
                };
                VideoBaseTexture.prototype._isSourceReady = function _isSourceReady() {
                    return this.source.readyState === 3 || this.source.readyState === 4;
                };
                VideoBaseTexture.prototype._onPlayStart = function _onPlayStart() {
                    if (!this.hasLoaded) {
                        this._onCanPlay();
                    }
                    if (!this._isAutoUpdating && this.autoUpdate) {
                        _ticker.shared.add(this.update, this, _const.UPDATE_PRIORITY.HIGH);
                        this._isAutoUpdating = true;
                    }
                };
                VideoBaseTexture.prototype._onPlayStop = function _onPlayStop() {
                    if (this._isAutoUpdating) {
                        _ticker.shared.remove(this.update, this);
                        this._isAutoUpdating = false;
                    }
                };
                VideoBaseTexture.prototype._onCanPlay = function _onCanPlay() {
                    this.hasLoaded = true;
                    if (this.source) {
                        this.source.removeEventListener('canplay', this._onCanPlay);
                        this.source.removeEventListener('canplaythrough', this._onCanPlay);
                        this.width = this.source.videoWidth;
                        this.height = this.source.videoHeight;
                        if (!this.__loaded) {
                            this.__loaded = true;
                            this.emit('loaded', this);
                        }
                        if (this._isSourcePlaying()) {
                            this._onPlayStart();
                        } else if (this.autoPlay) {
                            this.source.play();
                        }
                    }
                };
                VideoBaseTexture.prototype.destroy = function destroy() {
                    if (this._isAutoUpdating) {
                        _ticker.shared.remove(this.update, this);
                    }
                    if (this.source && this.source._pixiId) {
                        _BaseTexture3.default.removeFromCache(this.source._pixiId);
                        delete this.source._pixiId;
                        this.source.pause();
                        this.source.src = '';
                        this.source.load();
                    }
                    _BaseTexture.prototype.destroy.call(this);
                };
                VideoBaseTexture.fromVideo = function fromVideo(video, scaleMode) {
                    if (!video._pixiId) {
                        video._pixiId = 'video_' + (0, _utils.uid)();
                    }
                    var baseTexture = _utils.BaseTextureCache[video._pixiId];
                    if (!baseTexture) {
                        baseTexture = new VideoBaseTexture(video, scaleMode);
                        _BaseTexture3.default.addToCache(baseTexture, video._pixiId);
                    }
                    return baseTexture;
                };
                VideoBaseTexture.fromUrl = function fromUrl(videoSrc, scaleMode, crossorigin) {
                    var video = document.createElement('video');
                    video.setAttribute('webkit-playsinline', '');
                    video.setAttribute('playsinline', '');
                    var url = Array.isArray(videoSrc) ? videoSrc[0].src || videoSrc[0] : videoSrc.src || videoSrc;
                    if (crossorigin === undefined && url.indexOf('data:') !== 0) {
                        video.crossOrigin = (0, _determineCrossOrigin2.default)(url);
                    } else if (crossorigin) {
                        video.crossOrigin = typeof crossorigin === 'string' ? crossorigin : 'anonymous';
                    }
                    if (Array.isArray(videoSrc)) {
                        for (var i = 0; i < videoSrc.length; ++i) {
                            video.appendChild(createSource(videoSrc[i].src || videoSrc[i], videoSrc[i].mime));
                        }
                    } else {
                        video.appendChild(createSource(url, videoSrc.mime));
                    }
                    video.load();
                    return VideoBaseTexture.fromVideo(video, scaleMode);
                };
                _createClass(VideoBaseTexture, [{
                    key: 'autoUpdate',
                    get: function get() {
                        return this._autoUpdate;
                    },
                    set: function set(value) {
                        if (value !== this._autoUpdate) {
                            this._autoUpdate = value;
                            if (!this._autoUpdate && this._isAutoUpdating) {
                                _ticker.shared.remove(this.update, this);
                                this._isAutoUpdating = false;
                            } else if (this._autoUpdate && !this._isAutoUpdating) {
                                _ticker.shared.add(this.update, this, _const.UPDATE_PRIORITY.HIGH);
                                this._isAutoUpdating = true;
                            }
                        }
                    }
                }]);
                return VideoBaseTexture;
            }(_BaseTexture3.default);
            exports.default = VideoBaseTexture;
            VideoBaseTexture.fromUrls = VideoBaseTexture.fromUrl;

            function createSource(path, type) {
                if (!type) {
                    type = 'video/' + path.substr(path.lastIndexOf('.') + 1);
                }
                var source = document.createElement('source');
                source.src = path;
                source.type = type;
                return source;
            }
        }, {
            "../const": 46,
            "../ticker": 121,
            "../utils": 125,
            "../utils/determineCrossOrigin": 124,
            "./BaseTexture": 112
        }],
        119: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _settings = require('../settings');
            var _settings2 = _interopRequireDefault(_settings);
            var _const = require('../const');
            var _TickerListener = require('./TickerListener');
            var _TickerListener2 = _interopRequireDefault(_TickerListener);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var Ticker = function () {
                function Ticker() {
                    var _this = this;
                    _classCallCheck(this, Ticker);
                    this._head = new _TickerListener2.default(null, null, Infinity);
                    this._requestId = null;
                    this._maxElapsedMS = 100;
                    this.autoStart = false;
                    this.deltaTime = 1;
                    this.elapsedMS = 1 / _settings2.default.TARGET_FPMS;
                    this.lastTime = -1;
                    this.speed = 1;
                    this.started = false;
                    this._tick = function (time) {
                        _this._requestId = null;
                        if (_this.started) {
                            _this.update(time);
                            if (_this.started && _this._requestId === null && _this._head.next) {
                                _this._requestId = requestAnimationFrame(_this._tick);
                            }
                        }
                    };
                }
                Ticker.prototype._requestIfNeeded = function _requestIfNeeded() {
                    if (this._requestId === null && this._head.next) {
                        this.lastTime = performance.now();
                        this._requestId = requestAnimationFrame(this._tick);
                    }
                };
                Ticker.prototype._cancelIfNeeded = function _cancelIfNeeded() {
                    if (this._requestId !== null) {
                        cancelAnimationFrame(this._requestId);
                        this._requestId = null;
                    }
                };
                Ticker.prototype._startIfPossible = function _startIfPossible() {
                    if (this.started) {
                        this._requestIfNeeded();
                    } else if (this.autoStart) {
                        this.start();
                    }
                };
                Ticker.prototype.add = function add(fn, context) {
                    var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _const.UPDATE_PRIORITY.NORMAL;
                    return this._addListener(new _TickerListener2.default(fn, context, priority));
                };
                Ticker.prototype.addOnce = function addOnce(fn, context) {
                    var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _const.UPDATE_PRIORITY.NORMAL;
                    return this._addListener(new _TickerListener2.default(fn, context, priority, true));
                };
                Ticker.prototype._addListener = function _addListener(listener) {
                    var current = this._head.next;
                    var previous = this._head;
                    if (!current) {
                        listener.connect(previous);
                    } else {
                        while (current) {
                            if (listener.priority > current.priority) {
                                listener.connect(previous);
                                break;
                            }
                            previous = current;
                            current = current.next;
                        }
                        if (!listener.previous) {
                            listener.connect(previous);
                        }
                    }
                    this._startIfPossible();
                    return this;
                };
                Ticker.prototype.remove = function remove(fn, context) {
                    var listener = this._head.next;
                    while (listener) {
                        if (listener.match(fn, context)) {
                            listener = listener.destroy();
                        } else {
                            listener = listener.next;
                        }
                    }
                    if (!this._head.next) {
                        this._cancelIfNeeded();
                    }
                    return this;
                };
                Ticker.prototype.start = function start() {
                    if (!this.started) {
                        this.started = true;
                        this._requestIfNeeded();
                    }
                };
                Ticker.prototype.stop = function stop() {
                    if (this.started) {
                        this.started = false;
                        this._cancelIfNeeded();
                    }
                };
                Ticker.prototype.destroy = function destroy() {
                    this.stop();
                    var listener = this._head.next;
                    while (listener) {
                        listener = listener.destroy(true);
                    }
                    this._head.destroy();
                    this._head = null;
                };
                Ticker.prototype.update = function update() {
                    var currentTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : performance.now();
                    var elapsedMS = void 0;
                    if (currentTime > this.lastTime) {
                        elapsedMS = this.elapsedMS = currentTime - this.lastTime;
                        if (elapsedMS > this._maxElapsedMS) {
                            elapsedMS = this._maxElapsedMS;
                        }
                        this.deltaTime = elapsedMS * _settings2.default.TARGET_FPMS * this.speed;
                        var head = this._head;
                        var listener = head.next;
                        while (listener) {
                            listener = listener.emit(this.deltaTime);
                        }
                        if (!head.next) {
                            this._cancelIfNeeded();
                        }
                    } else {
                        this.deltaTime = this.elapsedMS = 0;
                    }
                    this.lastTime = currentTime;
                };
                _createClass(Ticker, [{
                    key: 'FPS',
                    get: function get() {
                        return 1000 / this.elapsedMS;
                    }
                }, {
                    key: 'minFPS',
                    get: function get() {
                        return 1000 / this._maxElapsedMS;
                    },
                    set: function set(fps) {
                        var minFPMS = Math.min(Math.max(0, fps) / 1000, _settings2.default.TARGET_FPMS);
                        this._maxElapsedMS = 1 / minFPMS;
                    }
                }]);
                return Ticker;
            }();
            exports.default = Ticker;
        }, {
            "../const": 46,
            "../settings": 101,
            "./TickerListener": 120
        }],
        120: [function (require, module, exports) {
            "use strict";
            exports.__esModule = true;

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var TickerListener = function () {
                function TickerListener(fn) {
                    var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
                    var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
                    _classCallCheck(this, TickerListener);
                    this.fn = fn;
                    this.context = context;
                    this.priority = priority;
                    this.once = once;
                    this.next = null;
                    this.previous = null;
                    this._destroyed = false;
                }
                TickerListener.prototype.match = function match(fn, context) {
                    context = context || null;
                    return this.fn === fn && this.context === context;
                };
                TickerListener.prototype.emit = function emit(deltaTime) {
                    if (this.fn) {
                        if (this.context) {
                            this.fn.call(this.context, deltaTime);
                        } else {
                            this.fn(deltaTime);
                        }
                    }
                    var redirect = this.next;
                    if (this.once) {
                        this.destroy(true);
                    }
                    if (this._destroyed) {
                        this.next = null;
                    }
                    return redirect;
                };
                TickerListener.prototype.connect = function connect(previous) {
                    this.previous = previous;
                    if (previous.next) {
                        previous.next.previous = this;
                    }
                    this.next = previous.next;
                    previous.next = this;
                };
                TickerListener.prototype.destroy = function destroy() {
                    var hard = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
                    this._destroyed = true;
                    this.fn = null;
                    this.context = null;
                    if (this.previous) {
                        this.previous.next = this.next;
                    }
                    if (this.next) {
                        this.next.previous = this.previous;
                    }
                    var redirect = this.previous;
                    this.next = hard ? null : redirect;
                    this.previous = null;
                    return redirect;
                };
                return TickerListener;
            }();
            exports.default = TickerListener;
        }, {}],
        121: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.Ticker = exports.shared = undefined;
            var _Ticker = require('./Ticker');
            var _Ticker2 = _interopRequireDefault(_Ticker);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
            var shared = new _Ticker2.default();
            shared.autoStart = true;
            shared.destroy = function () {};
            exports.shared = shared;
            exports.Ticker = _Ticker2.default;
        }, {
            "./Ticker": 119
        }],
        122: [function (require, module, exports) {
            "use strict";
            exports.__esModule = true;
            exports.default = canUploadSameBuffer;

            function canUploadSameBuffer() {
                var ios = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);
                return !ios;
            }
        }, {}],
        123: [function (require, module, exports) {
            "use strict";
            exports.__esModule = true;
            exports.default = createIndicesForQuads;

            function createIndicesForQuads(size) {
                var totalIndices = size * 6;
                var indices = new Uint16Array(totalIndices);
                for (var i = 0, j = 0; i < totalIndices; i += 6, j += 4) {
                    indices[i + 0] = j + 0;
                    indices[i + 1] = j + 1;
                    indices[i + 2] = j + 2;
                    indices[i + 3] = j + 0;
                    indices[i + 4] = j + 2;
                    indices[i + 5] = j + 3;
                }
                return indices;
            }
        }, {}],
        124: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = determineCrossOrigin;
            var _url2 = require('url');
            var _url3 = _interopRequireDefault(_url2);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
            var tempAnchor = void 0;

            function determineCrossOrigin(url) {
                var loc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window.location;
                if (url.indexOf('data:') === 0) {
                    return '';
                }
                loc = loc || window.location;
                if (!tempAnchor) {
                    tempAnchor = document.createElement('a');
                }
                tempAnchor.href = url;
                url = _url3.default.parse(tempAnchor.href);
                var samePort = !url.port && loc.port === '' || url.port === loc.port;
                if (url.hostname !== loc.hostname || !samePort || url.protocol !== loc.protocol) {
                    return 'anonymous';
                }
                return '';
            }
        }, {
            "url": 38
        }],
        125: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.premultiplyBlendMode = exports.BaseTextureCache = exports.TextureCache = exports.mixins = exports.pluginTarget = exports.EventEmitter = exports.removeItems = exports.isMobile = undefined;
            exports.uid = uid;
            exports.hex2rgb = hex2rgb;
            exports.hex2string = hex2string;
            exports.rgb2hex = rgb2hex;
            exports.getResolutionOfUrl = getResolutionOfUrl;
            exports.decomposeDataUri = decomposeDataUri;
            exports.getUrlFileExtension = getUrlFileExtension;
            exports.getSvgSize = getSvgSize;
            exports.skipHello = skipHello;
            exports.sayHello = sayHello;
            exports.isWebGLSupported = isWebGLSupported;
            exports.sign = sign;
            exports.destroyTextureCache = destroyTextureCache;
            exports.clearTextureCache = clearTextureCache;
            exports.correctBlendMode = correctBlendMode;
            exports.premultiplyTint = premultiplyTint;
            exports.premultiplyRgba = premultiplyRgba;
            exports.premultiplyTintToRgba = premultiplyTintToRgba;
            var _const = require('../const');
            var _settings = require('../settings');
            var _settings2 = _interopRequireDefault(_settings);
            var _eventemitter = require('eventemitter3');
            var _eventemitter2 = _interopRequireDefault(_eventemitter);
            var _pluginTarget = require('./pluginTarget');
            var _pluginTarget2 = _interopRequireDefault(_pluginTarget);
            var _mixin = require('./mixin');
            var mixins = _interopRequireWildcard(_mixin);
            var _ismobilejs = require('ismobilejs');
            var isMobile = _interopRequireWildcard(_ismobilejs);
            var _removeArrayItems = require('remove-array-items');
            var _removeArrayItems2 = _interopRequireDefault(_removeArrayItems);
            var _mapPremultipliedBlendModes = require('./mapPremultipliedBlendModes');
            var _mapPremultipliedBlendModes2 = _interopRequireDefault(_mapPremultipliedBlendModes);

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
            var nextUid = 0;
            var saidHello = false;
            exports.isMobile = isMobile;
            exports.removeItems = _removeArrayItems2.default;
            exports.EventEmitter = _eventemitter2.default;
            exports.pluginTarget = _pluginTarget2.default;
            exports.mixins = mixins;

            function uid() {
                return ++nextUid;
            }

            function hex2rgb(hex, out) {
                out = out || [];
                out[0] = (hex >> 16 & 0xFF) / 255;
                out[1] = (hex >> 8 & 0xFF) / 255;
                out[2] = (hex & 0xFF) / 255;
                return out;
            }

            function hex2string(hex) {
                hex = hex.toString(16);
                hex = '000000'.substr(0, 6 - hex.length) + hex;
                return '#' + hex;
            }

            function rgb2hex(rgb) {
                return (rgb[0] * 255 << 16) + (rgb[1] * 255 << 8) + (rgb[2] * 255 | 0);
            }

            function getResolutionOfUrl(url, defaultValue) {
                var resolution = _settings2.default.RETINA_PREFIX.exec(url);
                if (resolution) {
                    return parseFloat(resolution[1]);
                }
                return defaultValue !== undefined ? defaultValue : 1;
            }

            function decomposeDataUri(dataUri) {
                var dataUriMatch = _const.DATA_URI.exec(dataUri);
                if (dataUriMatch) {
                    return {
                        mediaType: dataUriMatch[1] ? dataUriMatch[1].toLowerCase() : undefined,
                        subType: dataUriMatch[2] ? dataUriMatch[2].toLowerCase() : undefined,
                        encoding: dataUriMatch[3] ? dataUriMatch[3].toLowerCase() : undefined,
                        data: dataUriMatch[4]
                    };
                }
                return undefined;
            }

            function getUrlFileExtension(url) {
                var extension = _const.URL_FILE_EXTENSION.exec(url);
                if (extension) {
                    return extension[1].toLowerCase();
                }
                return undefined;
            }

            function getSvgSize(svgString) {
                var sizeMatch = _const.SVG_SIZE.exec(svgString);
                var size = {};
                if (sizeMatch) {
                    size[sizeMatch[1]] = Math.round(parseFloat(sizeMatch[3]));
                    size[sizeMatch[5]] = Math.round(parseFloat(sizeMatch[7]));
                }
                return size;
            }

            function skipHello() {
                saidHello = true;
            }

            function sayHello(type) {
                if (saidHello) {
                    return;
                }
                if (navigator.userAgent.toLowerCase().indexOf('chrome') > -1) {
                    var args = ['\n %c %c %c PixiJS ' + _const.VERSION + ' - \u2730 ' + type + ' \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n', 'background: #ff66a5; padding:5px 0;', 'background: #ff66a5; padding:5px 0;', 'color: #ff66a5; background: #030307; padding:5px 0;', 'background: #ff66a5; padding:5px 0;', 'background: #ffc3dc; padding:5px 0;', 'background: #ff66a5; padding:5px 0;', 'color: #ff2424; background: #fff; padding:5px 0;', 'color: #ff2424; background: #fff; padding:5px 0;', 'color: #ff2424; background: #fff; padding:5px 0;'];
                    window.console.log.apply(console, args);
                } else if (window.console) {
                    window.console.log('PixiJS ' + _const.VERSION + ' - ' + type + ' - http://www.pixijs.com/');
                }
                saidHello = true;
            }

            function isWebGLSupported() {
                var contextOptions = {
                    stencil: true,
                    failIfMajorPerformanceCaveat: true
                };
                try {
                    if (!window.WebGLRenderingContext) {
                        return false;
                    }
                    var canvas = document.createElement('canvas');
                    var gl = canvas.getContext('webgl', contextOptions) || canvas.getContext('experimental-webgl', contextOptions);
                    var success = !!(gl && gl.getContextAttributes().stencil);
                    if (gl) {
                        var loseContext = gl.getExtension('WEBGL_lose_context');
                        if (loseContext) {
                            loseContext.loseContext();
                        }
                    }
                    gl = null;
                    return success;
                } catch (e) {
                    return false;
                }
            }

            function sign(n) {
                if (n === 0) return 0;
                return n < 0 ? -1 : 1;
            }
            var TextureCache = exports.TextureCache = Object.create(null);
            var BaseTextureCache = exports.BaseTextureCache = Object.create(null);

            function destroyTextureCache() {
                var key = void 0;
                for (key in TextureCache) {
                    TextureCache[key].destroy();
                }
                for (key in BaseTextureCache) {
                    BaseTextureCache[key].destroy();
                }
            }

            function clearTextureCache() {
                var key = void 0;
                for (key in TextureCache) {
                    delete TextureCache[key];
                }
                for (key in BaseTextureCache) {
                    delete BaseTextureCache[key];
                }
            }
            var premultiplyBlendMode = exports.premultiplyBlendMode = (0, _mapPremultipliedBlendModes2.default)();

            function correctBlendMode(blendMode, premultiplied) {
                return premultiplyBlendMode[premultiplied ? 1 : 0][blendMode];
            }

            function premultiplyTint(tint, alpha) {
                if (alpha === 1.0) {
                    return (alpha * 255 << 24) + tint;
                }
                if (alpha === 0.0) {
                    return 0;
                }
                var R = tint >> 16 & 0xFF;
                var G = tint >> 8 & 0xFF;
                var B = tint & 0xFF;
                R = R * alpha + 0.5 | 0;
                G = G * alpha + 0.5 | 0;
                B = B * alpha + 0.5 | 0;
                return (alpha * 255 << 24) + (R << 16) + (G << 8) + B;
            }

            function premultiplyRgba(rgb, alpha, out, premultiply) {
                out = out || new Float32Array(4);
                if (premultiply || premultiply === undefined) {
                    out[0] = rgb[0] * alpha;
                    out[1] = rgb[1] * alpha;
                    out[2] = rgb[2] * alpha;
                } else {
                    out[0] = rgb[0];
                    out[1] = rgb[1];
                    out[2] = rgb[2];
                }
                out[3] = alpha;
                return out;
            }

            function premultiplyTintToRgba(tint, alpha, out, premultiply) {
                out = out || new Float32Array(4);
                out[0] = (tint >> 16 & 0xFF) / 255.0;
                out[1] = (tint >> 8 & 0xFF) / 255.0;
                out[2] = (tint & 0xFF) / 255.0;
                if (premultiply || premultiply === undefined) {
                    out[0] *= alpha;
                    out[1] *= alpha;
                    out[2] *= alpha;
                }
                out[3] = alpha;
                return out;
            }
        }, {
            "../const": 46,
            "../settings": 101,
            "./mapPremultipliedBlendModes": 126,
            "./mixin": 128,
            "./pluginTarget": 129,
            "eventemitter3": 3,
            "ismobilejs": 4,
            "remove-array-items": 31
        }],
        126: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = mapPremultipliedBlendModes;
            var _const = require('../const');

            function mapPremultipliedBlendModes() {
                var pm = [];
                var npm = [];
                for (var i = 0; i < 32; i++) {
                    pm[i] = i;
                    npm[i] = i;
                }
                pm[_const.BLEND_MODES.NORMAL_NPM] = _const.BLEND_MODES.NORMAL;
                pm[_const.BLEND_MODES.ADD_NPM] = _const.BLEND_MODES.ADD;
                pm[_const.BLEND_MODES.SCREEN_NPM] = _const.BLEND_MODES.SCREEN;
                npm[_const.BLEND_MODES.NORMAL] = _const.BLEND_MODES.NORMAL_NPM;
                npm[_const.BLEND_MODES.ADD] = _const.BLEND_MODES.ADD_NPM;
                npm[_const.BLEND_MODES.SCREEN] = _const.BLEND_MODES.SCREEN_NPM;
                var array = [];
                array.push(npm);
                array.push(pm);
                return array;
            }
        }, {
            "../const": 46
        }],
        127: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = maxRecommendedTextures;
            var _ismobilejs = require('ismobilejs');
            var _ismobilejs2 = _interopRequireDefault(_ismobilejs);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function maxRecommendedTextures(max) {
                if (_ismobilejs2.default.tablet || _ismobilejs2.default.phone) {
                    return 4;
                }
                return max;
            }
        }, {
            "ismobilejs": 4
        }],
        128: [function (require, module, exports) {
            "use strict";
            exports.__esModule = true;
            exports.mixin = mixin;
            exports.delayMixin = delayMixin;
            exports.performMixins = performMixins;

            function mixin(target, source) {
                if (!target || !source) return;
                var keys = Object.keys(source);
                for (var i = 0; i < keys.length; ++i) {
                    var propertyName = keys[i];
                    Object.defineProperty(target, propertyName, Object.getOwnPropertyDescriptor(source, propertyName));
                }
            }
            var mixins = [];

            function delayMixin(target, source) {
                mixins.push(target, source);
            }

            function performMixins() {
                for (var i = 0; i < mixins.length; i += 2) {
                    mixin(mixins[i], mixins[i + 1]);
                }
                mixins.length = 0;
            }
        }, {}],
        129: [function (require, module, exports) {
            "use strict";
            exports.__esModule = true;

            function pluginTarget(obj) {
                obj.__plugins = {};
                obj.registerPlugin = function registerPlugin(pluginName, ctor) {
                    obj.__plugins[pluginName] = ctor;
                };
                obj.prototype.initPlugins = function initPlugins() {
                    this.plugins = this.plugins || {};
                    for (var o in obj.__plugins) {
                        this.plugins[o] = new obj.__plugins[o](this);
                    }
                };
                obj.prototype.destroyPlugins = function destroyPlugins() {
                    for (var o in this.plugins) {
                        this.plugins[o].destroy();
                        this.plugins[o] = null;
                    }
                    this.plugins = null;
                };
            }
            exports.default = {
                mixin: function mixin(obj) {
                    pluginTarget(obj);
                }
            };
        }, {}],
        130: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = trimCanvas;

            function trimCanvas(canvas) {
                var width = canvas.width;
                var height = canvas.height;
                var context = canvas.getContext('2d');
                var imageData = context.getImageData(0, 0, width, height);
                var pixels = imageData.data;
                var len = pixels.length;
                var bound = {
                    top: null,
                    left: null,
                    right: null,
                    bottom: null
                };
                var i = void 0;
                var x = void 0;
                var y = void 0;
                for (i = 0; i < len; i += 4) {
                    if (pixels[i + 3] !== 0) {
                        x = i / 4 % width;
                        y = ~~(i / 4 / width);
                        if (bound.top === null) {
                            bound.top = y;
                        }
                        if (bound.left === null) {
                            bound.left = x;
                        } else if (x < bound.left) {
                            bound.left = x;
                        }
                        if (bound.right === null) {
                            bound.right = x + 1;
                        } else if (bound.right < x) {
                            bound.right = x + 1;
                        }
                        if (bound.bottom === null) {
                            bound.bottom = y;
                        } else if (bound.bottom < y) {
                            bound.bottom = y;
                        }
                    }
                }
                width = bound.right - bound.left;
                height = bound.bottom - bound.top + 1;
                var data = context.getImageData(bound.left, bound.top, width, height);
                return {
                    height: height,
                    width: width,
                    data: data
                };
            }
        }, {}],
        131: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = deprecation;

            function warn(msg) {
                var stack = new Error().stack;
                if (typeof stack === 'undefined') {
                    console.warn('Deprecation Warning: ', msg);
                } else {
                    stack = stack.split('\n').splice(3).join('\n');
                    if (console.groupCollapsed) {
                        console.groupCollapsed('%cDeprecation Warning: %c%s', 'color:#614108;background:#fffbe6', 'font-weight:normal;color:#614108;background:#fffbe6', msg);
                        console.warn(stack);
                        console.groupEnd();
                    } else {
                        console.warn('Deprecation Warning: ', msg);
                        console.warn(stack);
                    }
                }
            }

            function deprecation(core) {
                var mesh = core.mesh,
                    particles = core.particles,
                    extras = core.extras,
                    filters = core.filters,
                    prepare = core.prepare,
                    loaders = core.loaders,
                    interaction = core.interaction;
                Object.defineProperties(core, {
                    SpriteBatch: {
                        get: function get() {
                            throw new ReferenceError('SpriteBatch does not exist any more, ' + 'please use the new ParticleContainer instead.');
                        }
                    },
                    AssetLoader: {
                        get: function get() {
                            throw new ReferenceError('The loader system was overhauled in PixiJS v3, ' + 'please see the new PIXI.loaders.Loader class.');
                        }
                    },
                    Stage: {
                        get: function get() {
                            warn('You do not need to use a PIXI Stage any more, you can simply render any container.');
                            return core.Container;
                        }
                    },
                    DisplayObjectContainer: {
                        get: function get() {
                            warn('DisplayObjectContainer has been shortened to Container, please use Container from now on.');
                            return core.Container;
                        }
                    },
                    Strip: {
                        get: function get() {
                            warn('The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.');
                            return mesh.Mesh;
                        }
                    },
                    Rope: {
                        get: function get() {
                            warn('The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.');
                            return mesh.Rope;
                        }
                    },
                    ParticleContainer: {
                        get: function get() {
                            warn('The ParticleContainer class has been moved to particles.ParticleContainer, ' + 'please use particles.ParticleContainer from now on.');
                            return particles.ParticleContainer;
                        }
                    },
                    MovieClip: {
                        get: function get() {
                            warn('The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.');
                            return extras.AnimatedSprite;
                        }
                    },
                    TilingSprite: {
                        get: function get() {
                            warn('The TilingSprite class has been moved to extras.TilingSprite, ' + 'please use extras.TilingSprite from now on.');
                            return extras.TilingSprite;
                        }
                    },
                    BitmapText: {
                        get: function get() {
                            warn('The BitmapText class has been moved to extras.BitmapText, ' + 'please use extras.BitmapText from now on.');
                            return extras.BitmapText;
                        }
                    },
                    blendModes: {
                        get: function get() {
                            warn('The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.');
                            return core.BLEND_MODES;
                        }
                    },
                    scaleModes: {
                        get: function get() {
                            warn('The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.');
                            return core.SCALE_MODES;
                        }
                    },
                    BaseTextureCache: {
                        get: function get() {
                            warn('The BaseTextureCache class has been moved to utils.BaseTextureCache, ' + 'please use utils.BaseTextureCache from now on.');
                            return core.utils.BaseTextureCache;
                        }
                    },
                    TextureCache: {
                        get: function get() {
                            warn('The TextureCache class has been moved to utils.TextureCache, ' + 'please use utils.TextureCache from now on.');
                            return core.utils.TextureCache;
                        }
                    },
                    math: {
                        get: function get() {
                            warn('The math namespace is deprecated, please access members already accessible on PIXI.');
                            return core;
                        }
                    },
                    AbstractFilter: {
                        get: function get() {
                            warn('AstractFilter has been renamed to Filter, please use PIXI.Filter');
                            return core.Filter;
                        }
                    },
                    TransformManual: {
                        get: function get() {
                            warn('TransformManual has been renamed to TransformBase, please update your pixi-spine');
                            return core.TransformBase;
                        }
                    },
                    TARGET_FPMS: {
                        get: function get() {
                            warn('PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS');
                            return core.settings.TARGET_FPMS;
                        },
                        set: function set(value) {
                            warn('PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS');
                            core.settings.TARGET_FPMS = value;
                        }
                    },
                    FILTER_RESOLUTION: {
                        get: function get() {
                            warn('PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION');
                            return core.settings.FILTER_RESOLUTION;
                        },
                        set: function set(value) {
                            warn('PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION');
                            core.settings.FILTER_RESOLUTION = value;
                        }
                    },
                    RESOLUTION: {
                        get: function get() {
                            warn('PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION');
                            return core.settings.RESOLUTION;
                        },
                        set: function set(value) {
                            warn('PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION');
                            core.settings.RESOLUTION = value;
                        }
                    },
                    MIPMAP_TEXTURES: {
                        get: function get() {
                            warn('PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES');
                            return core.settings.MIPMAP_TEXTURES;
                        },
                        set: function set(value) {
                            warn('PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES');
                            core.settings.MIPMAP_TEXTURES = value;
                        }
                    },
                    SPRITE_BATCH_SIZE: {
                        get: function get() {
                            warn('PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE');
                            return core.settings.SPRITE_BATCH_SIZE;
                        },
                        set: function set(value) {
                            warn('PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE');
                            core.settings.SPRITE_BATCH_SIZE = value;
                        }
                    },
                    SPRITE_MAX_TEXTURES: {
                        get: function get() {
                            warn('PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES');
                            return core.settings.SPRITE_MAX_TEXTURES;
                        },
                        set: function set(value) {
                            warn('PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES');
                            core.settings.SPRITE_MAX_TEXTURES = value;
                        }
                    },
                    RETINA_PREFIX: {
                        get: function get() {
                            warn('PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX');
                            return core.settings.RETINA_PREFIX;
                        },
                        set: function set(value) {
                            warn('PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX');
                            core.settings.RETINA_PREFIX = value;
                        }
                    },
                    DEFAULT_RENDER_OPTIONS: {
                        get: function get() {
                            warn('PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS');
                            return core.settings.RENDER_OPTIONS;
                        }
                    }
                });
                var defaults = [{
                    parent: 'TRANSFORM_MODE',
                    target: 'TRANSFORM_MODE'
                }, {
                    parent: 'GC_MODES',
                    target: 'GC_MODE'
                }, {
                    parent: 'WRAP_MODES',
                    target: 'WRAP_MODE'
                }, {
                    parent: 'SCALE_MODES',
                    target: 'SCALE_MODE'
                }, {
                    parent: 'PRECISION',
                    target: 'PRECISION_FRAGMENT'
                }];
                var _loop = function _loop(i) {
                    var deprecation = defaults[i];
                    Object.defineProperty(core[deprecation.parent], 'DEFAULT', {
                        get: function get() {
                            warn('PIXI.' + deprecation.parent + '.DEFAULT has been deprecated, ' + ('please use PIXI.settings.' + deprecation.target));
                            return core.settings[deprecation.target];
                        },
                        set: function set(value) {
                            warn('PIXI.' + deprecation.parent + '.DEFAULT has been deprecated, ' + ('please use PIXI.settings.' + deprecation.target));
                            core.settings[deprecation.target] = value;
                        }
                    });
                };
                for (var i = 0; i < defaults.length; i++) {
                    _loop(i);
                }
                Object.defineProperties(core.settings, {
                    PRECISION: {
                        get: function get() {
                            warn('PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT');
                            return core.settings.PRECISION_FRAGMENT;
                        },
                        set: function set(value) {
                            warn('PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT');
                            core.settings.PRECISION_FRAGMENT = value;
                        }
                    }
                });
                if (extras.AnimatedSprite) {
                    Object.defineProperties(extras, {
                        MovieClip: {
                            get: function get() {
                                warn('The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.');
                                return extras.AnimatedSprite;
                            }
                        }
                    });
                }
                if (extras) {
                    Object.defineProperties(extras, {
                        TextureTransform: {
                            get: function get() {
                                warn('The TextureTransform class has been renamed to TextureMatrix, ' + 'please use PIXI.TextureMatrix from now on.');
                                return core.TextureMatrix;
                            }
                        }
                    });
                }
                core.DisplayObject.prototype.generateTexture = function generateTexture(renderer, scaleMode, resolution) {
                    warn('generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)');
                    return renderer.generateTexture(this, scaleMode, resolution);
                };
                core.Graphics.prototype.generateTexture = function generateTexture(scaleMode, resolution) {
                    warn('graphics generate texture has moved to the renderer. ' + 'Or to render a graphics to a texture using canvas please use generateCanvasTexture');
                    return this.generateCanvasTexture(scaleMode, resolution);
                };
                core.GroupD8.isSwapWidthHeight = function isSwapWidthHeight(rotation) {
                    warn('GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical');
                    return core.GroupD8.isVertical(rotation);
                };
                core.RenderTexture.prototype.render = function render(displayObject, matrix, clear, updateTransform) {
                    this.legacyRenderer.render(displayObject, this, clear, matrix, !updateTransform);
                    warn('RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)');
                };
                core.RenderTexture.prototype.getImage = function getImage(target) {
                    warn('RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)');
                    return this.legacyRenderer.extract.image(target);
                };
                core.RenderTexture.prototype.getBase64 = function getBase64(target) {
                    warn('RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)');
                    return this.legacyRenderer.extract.base64(target);
                };
                core.RenderTexture.prototype.getCanvas = function getCanvas(target) {
                    warn('RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)');
                    return this.legacyRenderer.extract.canvas(target);
                };
                core.RenderTexture.prototype.getPixels = function getPixels(target) {
                    warn('RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)');
                    return this.legacyRenderer.pixels(target);
                };
                core.Sprite.prototype.setTexture = function setTexture(texture) {
                    this.texture = texture;
                    warn('setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;');
                };
                if (extras.BitmapText) {
                    extras.BitmapText.prototype.setText = function setText(text) {
                        this.text = text;
                        warn('setText is now deprecated, please use the text property, e.g : myBitmapText.text = \'my text\';');
                    };
                }
                core.Text.prototype.setText = function setText(text) {
                    this.text = text;
                    warn('setText is now deprecated, please use the text property, e.g : myText.text = \'my text\';');
                };
                core.Text.calculateFontProperties = function calculateFontProperties(font) {
                    warn('Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont');
                    return core.TextMetrics.measureFont(font);
                };
                Object.defineProperties(core.Text, {
                    fontPropertiesCache: {
                        get: function get() {
                            warn('Text.fontPropertiesCache is deprecated');
                            return core.TextMetrics._fonts;
                        }
                    },
                    fontPropertiesCanvas: {
                        get: function get() {
                            warn('Text.fontPropertiesCanvas is deprecated');
                            return core.TextMetrics._canvas;
                        }
                    },
                    fontPropertiesContext: {
                        get: function get() {
                            warn('Text.fontPropertiesContext is deprecated');
                            return core.TextMetrics._context;
                        }
                    }
                });
                core.Text.prototype.setStyle = function setStyle(style) {
                    this.style = style;
                    warn('setStyle is now deprecated, please use the style property, e.g : myText.style = style;');
                };
                core.Text.prototype.determineFontProperties = function determineFontProperties(fontStyle) {
                    warn('determineFontProperties is now deprecated, please use TextMetrics.measureFont method');
                    return core.TextMetrics.measureFont(fontStyle);
                };
                core.Text.getFontStyle = function getFontStyle(style) {
                    warn('getFontStyle is now deprecated, please use TextStyle.toFontString() instead');
                    style = style || {};
                    if (!(style instanceof core.TextStyle)) {
                        style = new core.TextStyle(style);
                    }
                    return style.toFontString();
                };
                Object.defineProperties(core.TextStyle.prototype, {
                    font: {
                        get: function get() {
                            warn('text style property \'font\' is now deprecated, please use the ' + '\'fontFamily\', \'fontSize\', \'fontStyle\', \'fontVariant\' and \'fontWeight\' properties from now on');
                            var fontSizeString = typeof this._fontSize === 'number' ? this._fontSize + 'px' : this._fontSize;
                            return this._fontStyle + ' ' + this._fontVariant + ' ' + this._fontWeight + ' ' + fontSizeString + ' ' + this._fontFamily;
                        },
                        set: function set(font) {
                            warn('text style property \'font\' is now deprecated, please use the ' + '\'fontFamily\',\'fontSize\',fontStyle\',\'fontVariant\' and \'fontWeight\' properties from now on');
                            if (font.indexOf('italic') > 1) {
                                this._fontStyle = 'italic';
                            } else if (font.indexOf('oblique') > -1) {
                                this._fontStyle = 'oblique';
                            } else {
                                this._fontStyle = 'normal';
                            }
                            if (font.indexOf('small-caps') > -1) {
                                this._fontVariant = 'small-caps';
                            } else {
                                this._fontVariant = 'normal';
                            }
                            var splits = font.split(' ');
                            var fontSizeIndex = -1;
                            this._fontSize = 26;
                            for (var i = 0; i < splits.length; ++i) {
                                if (splits[i].match(/(px|pt|em|%)/)) {
                                    fontSizeIndex = i;
                                    this._fontSize = splits[i];
                                    break;
                                }
                            }
                            this._fontWeight = 'normal';
                            for (var _i = 0; _i < fontSizeIndex; ++_i) {
                                if (splits[_i].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)) {
                                    this._fontWeight = splits[_i];
                                    break;
                                }
                            }
                            if (fontSizeIndex > -1 && fontSizeIndex < splits.length - 1) {
                                this._fontFamily = '';
                                for (var _i2 = fontSizeIndex + 1; _i2 < splits.length; ++_i2) {
                                    this._fontFamily += splits[_i2] + ' ';
                                }
                                this._fontFamily = this._fontFamily.slice(0, -1);
                            } else {
                                this._fontFamily = 'Arial';
                            }
                            this.styleID++;
                        }
                    }
                });
                core.Texture.prototype.setFrame = function setFrame(frame) {
                    this.frame = frame;
                    warn('setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;');
                };
                core.Texture.addTextureToCache = function addTextureToCache(texture, id) {
                    core.Texture.addToCache(texture, id);
                    warn('Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.');
                };
                core.Texture.removeTextureFromCache = function removeTextureFromCache(id) {
                    warn('Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. ' + 'Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. ' + 'For that, use BaseTexture.removeFromCache');
                    core.BaseTexture.removeFromCache(id);
                    return core.Texture.removeFromCache(id);
                };
                Object.defineProperties(filters, {
                    AbstractFilter: {
                        get: function get() {
                            warn('AstractFilter has been renamed to Filter, please use PIXI.Filter');
                            return core.AbstractFilter;
                        }
                    },
                    SpriteMaskFilter: {
                        get: function get() {
                            warn('filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.');
                            return core.SpriteMaskFilter;
                        }
                    },
                    VoidFilter: {
                        get: function get() {
                            warn('VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter');
                            return filters.AlphaFilter;
                        }
                    }
                });
                core.utils.uuid = function () {
                    warn('utils.uuid() is deprecated, please use utils.uid() from now on.');
                    return core.utils.uid();
                };
                core.utils.canUseNewCanvasBlendModes = function () {
                    warn('utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on');
                    return core.CanvasTinter.canUseMultiply;
                };
                var saidHello = true;
                Object.defineProperty(core.utils, '_saidHello', {
                    set: function set(bool) {
                        if (bool) {
                            warn('PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()');
                            this.skipHello();
                        }
                        saidHello = bool;
                    },
                    get: function get() {
                        return saidHello;
                    }
                });
                if (prepare.BasePrepare) {
                    prepare.BasePrepare.prototype.register = function register(addHook, uploadHook) {
                        warn('renderer.plugins.prepare.register is now deprecated, ' + 'please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook');
                        if (addHook) {
                            this.registerFindHook(addHook);
                        }
                        if (uploadHook) {
                            this.registerUploadHook(uploadHook);
                        }
                        return this;
                    };
                }
                if (prepare.canvas) {
                    Object.defineProperty(prepare.canvas, 'UPLOADS_PER_FRAME', {
                        set: function set() {
                            warn('PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set ' + 'renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer');
                        },
                        get: function get() {
                            warn('PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use ' + 'renderer.plugins.prepare.limiter');
                            return NaN;
                        }
                    });
                }
                if (prepare.webgl) {
                    Object.defineProperty(prepare.webgl, 'UPLOADS_PER_FRAME', {
                        set: function set() {
                            warn('PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set ' + 'renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer');
                        },
                        get: function get() {
                            warn('PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use ' + 'renderer.plugins.prepare.limiter');
                            return NaN;
                        }
                    });
                }
                if (loaders.Loader) {
                    var Resource = loaders.Resource;
                    var Loader = loaders.Loader;
                    Object.defineProperties(Resource.prototype, {
                        isJson: {
                            get: function get() {
                                warn('The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.');
                                return this.type === Resource.TYPE.JSON;
                            }
                        },
                        isXml: {
                            get: function get() {
                                warn('The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.');
                                return this.type === Resource.TYPE.XML;
                            }
                        },
                        isImage: {
                            get: function get() {
                                warn('The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.');
                                return this.type === Resource.TYPE.IMAGE;
                            }
                        },
                        isAudio: {
                            get: function get() {
                                warn('The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.');
                                return this.type === Resource.TYPE.AUDIO;
                            }
                        },
                        isVideo: {
                            get: function get() {
                                warn('The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.');
                                return this.type === Resource.TYPE.VIDEO;
                            }
                        }
                    });
                    Object.defineProperties(Loader.prototype, {
                        before: {
                            get: function get() {
                                warn('The before() method is deprecated, please use pre().');
                                return this.pre;
                            }
                        },
                        after: {
                            get: function get() {
                                warn('The after() method is deprecated, please use use().');
                                return this.use;
                            }
                        }
                    });
                }
                if (interaction.interactiveTarget) {
                    Object.defineProperty(interaction.interactiveTarget, 'defaultCursor', {
                        set: function set(value) {
                            warn('Property defaultCursor has been replaced with \'cursor\'. ');
                            this.cursor = value;
                        },
                        get: function get() {
                            warn('Property defaultCursor has been replaced with \'cursor\'. ');
                            return this.cursor;
                        }
                    });
                }
                if (interaction.InteractionManager) {
                    Object.defineProperty(interaction.InteractionManager, 'defaultCursorStyle', {
                        set: function set(value) {
                            warn('Property defaultCursorStyle has been replaced with \'cursorStyles.default\'. ');
                            this.cursorStyles.default = value;
                        },
                        get: function get() {
                            warn('Property defaultCursorStyle has been replaced with \'cursorStyles.default\'. ');
                            return this.cursorStyles.default;
                        }
                    });
                    Object.defineProperty(interaction.InteractionManager, 'currentCursorStyle', {
                        set: function set(value) {
                            warn('Property currentCursorStyle has been removed.' + 'See the currentCursorMode property, which works differently.');
                            this.currentCursorMode = value;
                        },
                        get: function get() {
                            warn('Property currentCursorStyle has been removed.' + 'See the currentCursorMode property, which works differently.');
                            return this.currentCursorMode;
                        }
                    });
                }
            }
        }, {}],
        132: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _core = require('../../core');
            var core = _interopRequireWildcard(_core);

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var TEMP_RECT = new core.Rectangle();
            var CanvasExtract = function () {
                function CanvasExtract(renderer) {
                    _classCallCheck(this, CanvasExtract);
                    this.renderer = renderer;
                    renderer.extract = this;
                }
                CanvasExtract.prototype.image = function image(target) {
                    var image = new Image();
                    image.src = this.base64(target);
                    return image;
                };
                CanvasExtract.prototype.base64 = function base64(target) {
                    return this.canvas(target).toDataURL();
                };
                CanvasExtract.prototype.canvas = function canvas(target) {
                    var renderer = this.renderer;
                    var context = void 0;
                    var resolution = void 0;
                    var frame = void 0;
                    var renderTexture = void 0;
                    if (target) {
                        if (target instanceof core.RenderTexture) {
                            renderTexture = target;
                        } else {
                            renderTexture = renderer.generateTexture(target);
                        }
                    }
                    if (renderTexture) {
                        context = renderTexture.baseTexture._canvasRenderTarget.context;
                        resolution = renderTexture.baseTexture._canvasRenderTarget.resolution;
                        frame = renderTexture.frame;
                    } else {
                        context = renderer.rootContext;
                        frame = TEMP_RECT;
                        frame.width = this.renderer.width;
                        frame.height = this.renderer.height;
                    }
                    var width = frame.width * resolution;
                    var height = frame.height * resolution;
                    var canvasBuffer = new core.CanvasRenderTarget(width, height);
                    var canvasData = context.getImageData(frame.x * resolution, frame.y * resolution, width, height);
                    canvasBuffer.context.putImageData(canvasData, 0, 0);
                    return canvasBuffer.canvas;
                };
                CanvasExtract.prototype.pixels = function pixels(target) {
                    var renderer = this.renderer;
                    var context = void 0;
                    var resolution = void 0;
                    var frame = void 0;
                    var renderTexture = void 0;
                    if (target) {
                        if (target instanceof core.RenderTexture) {
                            renderTexture = target;
                        } else {
                            renderTexture = renderer.generateTexture(target);
                        }
                    }
                    if (renderTexture) {
                        context = renderTexture.baseTexture._canvasRenderTarget.context;
                        resolution = renderTexture.baseTexture._canvasRenderTarget.resolution;
                        frame = renderTexture.frame;
                    } else {
                        context = renderer.rootContext;
                        frame = TEMP_RECT;
                        frame.width = renderer.width;
                        frame.height = renderer.height;
                    }
                    return context.getImageData(0, 0, frame.width * resolution, frame.height * resolution).data;
                };
                CanvasExtract.prototype.destroy = function destroy() {
                    this.renderer.extract = null;
                    this.renderer = null;
                };
                return CanvasExtract;
            }();
            exports.default = CanvasExtract;
            core.CanvasRenderer.registerPlugin('extract', CanvasExtract);
        }, {
            "../../core": 65
        }],
        133: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _WebGLExtract = require('./webgl/WebGLExtract');
            Object.defineProperty(exports, 'webgl', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_WebGLExtract).default;
                }
            });
            var _CanvasExtract = require('./canvas/CanvasExtract');
            Object.defineProperty(exports, 'canvas', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_CanvasExtract).default;
                }
            });

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
        }, {
            "./canvas/CanvasExtract": 132,
            "./webgl/WebGLExtract": 134
        }],
        134: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _core = require('../../core');
            var core = _interopRequireWildcard(_core);

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var TEMP_RECT = new core.Rectangle();
            var BYTES_PER_PIXEL = 4;
            var WebGLExtract = function () {
                function WebGLExtract(renderer) {
                    _classCallCheck(this, WebGLExtract);
                    this.renderer = renderer;
                    renderer.extract = this;
                }
                WebGLExtract.prototype.image = function image(target) {
                    var image = new Image();
                    image.src = this.base64(target);
                    return image;
                };
                WebGLExtract.prototype.base64 = function base64(target) {
                    return this.canvas(target).toDataURL();
                };
                WebGLExtract.prototype.canvas = function canvas(target) {
                    var renderer = this.renderer;
                    var textureBuffer = void 0;
                    var resolution = void 0;
                    var frame = void 0;
                    var flipY = false;
                    var renderTexture = void 0;
                    var generated = false;
                    if (target) {
                        if (target instanceof core.RenderTexture) {
                            renderTexture = target;
                        } else {
                            renderTexture = this.renderer.generateTexture(target);
                            generated = true;
                        }
                    }
                    if (renderTexture) {
                        textureBuffer = renderTexture.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID];
                        resolution = textureBuffer.resolution;
                        frame = renderTexture.frame;
                        flipY = false;
                    } else {
                        textureBuffer = this.renderer.rootRenderTarget;
                        resolution = textureBuffer.resolution;
                        flipY = true;
                        frame = TEMP_RECT;
                        frame.width = textureBuffer.size.width;
                        frame.height = textureBuffer.size.height;
                    }
                    var width = frame.width * resolution;
                    var height = frame.height * resolution;
                    var canvasBuffer = new core.CanvasRenderTarget(width, height);
                    if (textureBuffer) {
                        renderer.bindRenderTarget(textureBuffer);
                        var webglPixels = new Uint8Array(BYTES_PER_PIXEL * width * height);
                        var gl = renderer.gl;
                        gl.readPixels(frame.x * resolution, frame.y * resolution, width, height, gl.RGBA, gl.UNSIGNED_BYTE, webglPixels);
                        var canvasData = canvasBuffer.context.getImageData(0, 0, width, height);
                        canvasData.data.set(webglPixels);
                        canvasBuffer.context.putImageData(canvasData, 0, 0);
                        if (flipY) {
                            canvasBuffer.context.scale(1, -1);
                            canvasBuffer.context.drawImage(canvasBuffer.canvas, 0, -height);
                        }
                    }
                    if (generated) {
                        renderTexture.destroy(true);
                    }
                    return canvasBuffer.canvas;
                };
                WebGLExtract.prototype.pixels = function pixels(target) {
                    var renderer = this.renderer;
                    var textureBuffer = void 0;
                    var resolution = void 0;
                    var frame = void 0;
                    var renderTexture = void 0;
                    var generated = false;
                    if (target) {
                        if (target instanceof core.RenderTexture) {
                            renderTexture = target;
                        } else {
                            renderTexture = this.renderer.generateTexture(target);
                            generated = true;
                        }
                    }
                    if (renderTexture) {
                        textureBuffer = renderTexture.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID];
                        resolution = textureBuffer.resolution;
                        frame = renderTexture.frame;
                    } else {
                        textureBuffer = this.renderer.rootRenderTarget;
                        resolution = textureBuffer.resolution;
                        frame = TEMP_RECT;
                        frame.width = textureBuffer.size.width;
                        frame.height = textureBuffer.size.height;
                    }
                    var width = frame.width * resolution;
                    var height = frame.height * resolution;
                    var webglPixels = new Uint8Array(BYTES_PER_PIXEL * width * height);
                    if (textureBuffer) {
                        renderer.bindRenderTarget(textureBuffer);
                        var gl = renderer.gl;
                        gl.readPixels(frame.x * resolution, frame.y * resolution, width, height, gl.RGBA, gl.UNSIGNED_BYTE, webglPixels);
                    }
                    if (generated) {
                        renderTexture.destroy(true);
                    }
                    return webglPixels;
                };
                WebGLExtract.prototype.destroy = function destroy() {
                    this.renderer.extract = null;
                    this.renderer = null;
                };
                return WebGLExtract;
            }();
            exports.default = WebGLExtract;
            core.WebGLRenderer.registerPlugin('extract', WebGLExtract);
        }, {
            "../../core": 65
        }],
        135: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _core = require('../core');
            var core = _interopRequireWildcard(_core);

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var AnimatedSprite = function (_core$Sprite) {
                _inherits(AnimatedSprite, _core$Sprite);

                function AnimatedSprite(textures, autoUpdate) {
                    _classCallCheck(this, AnimatedSprite);
                    var _this = _possibleConstructorReturn(this, _core$Sprite.call(this, textures[0] instanceof core.Texture ? textures[0] : textures[0].texture));
                    _this._textures = null;
                    _this._durations = null;
                    _this.textures = textures;
                    _this._autoUpdate = autoUpdate !== false;
                    _this.animationSpeed = 1;
                    _this.loop = true;
                    _this.onComplete = null;
                    _this.onFrameChange = null;
                    _this.onLoop = null;
                    _this._currentTime = 0;
                    _this.playing = false;
                    return _this;
                }
                AnimatedSprite.prototype.stop = function stop() {
                    if (!this.playing) {
                        return;
                    }
                    this.playing = false;
                    if (this._autoUpdate) {
                        core.ticker.shared.remove(this.update, this);
                    }
                };
                AnimatedSprite.prototype.play = function play() {
                    if (this.playing) {
                        return;
                    }
                    this.playing = true;
                    if (this._autoUpdate) {
                        core.ticker.shared.add(this.update, this, core.UPDATE_PRIORITY.HIGH);
                    }
                };
                AnimatedSprite.prototype.gotoAndStop = function gotoAndStop(frameNumber) {
                    this.stop();
                    var previousFrame = this.currentFrame;
                    this._currentTime = frameNumber;
                    if (previousFrame !== this.currentFrame) {
                        this.updateTexture();
                    }
                };
                AnimatedSprite.prototype.gotoAndPlay = function gotoAndPlay(frameNumber) {
                    var previousFrame = this.currentFrame;
                    this._currentTime = frameNumber;
                    if (previousFrame !== this.currentFrame) {
                        this.updateTexture();
                    }
                    this.play();
                };
                AnimatedSprite.prototype.update = function update(deltaTime) {
                    var elapsed = this.animationSpeed * deltaTime;
                    var previousFrame = this.currentFrame;
                    if (this._durations !== null) {
                        var lag = this._currentTime % 1 * this._durations[this.currentFrame];
                        lag += elapsed / 60 * 1000;
                        while (lag < 0) {
                            this._currentTime--;
                            lag += this._durations[this.currentFrame];
                        }
                        var sign = Math.sign(this.animationSpeed * deltaTime);
                        this._currentTime = Math.floor(this._currentTime);
                        while (lag >= this._durations[this.currentFrame]) {
                            lag -= this._durations[this.currentFrame] * sign;
                            this._currentTime += sign;
                        }
                        this._currentTime += lag / this._durations[this.currentFrame];
                    } else {
                        this._currentTime += elapsed;
                    }
                    if (this._currentTime < 0 && !this.loop) {
                        this.gotoAndStop(0);
                        if (this.onComplete) {
                            this.onComplete();
                        }
                    } else if (this._currentTime >= this._textures.length && !this.loop) {
                        this.gotoAndStop(this._textures.length - 1);
                        if (this.onComplete) {
                            this.onComplete();
                        }
                    } else if (previousFrame !== this.currentFrame) {
                        if (this.loop && this.onLoop) {
                            if (this.animationSpeed > 0 && this.currentFrame < previousFrame) {
                                this.onLoop();
                            } else if (this.animationSpeed < 0 && this.currentFrame > previousFrame) {
                                this.onLoop();
                            }
                        }
                        this.updateTexture();
                    }
                };
                AnimatedSprite.prototype.updateTexture = function updateTexture() {
                    this._texture = this._textures[this.currentFrame];
                    this._textureID = -1;
                    this.cachedTint = 0xFFFFFF;
                    if (this.onFrameChange) {
                        this.onFrameChange(this.currentFrame);
                    }
                };
                AnimatedSprite.prototype.destroy = function destroy(options) {
                    this.stop();
                    _core$Sprite.prototype.destroy.call(this, options);
                };
                AnimatedSprite.fromFrames = function fromFrames(frames) {
                    var textures = [];
                    for (var i = 0; i < frames.length; ++i) {
                        textures.push(core.Texture.fromFrame(frames[i]));
                    }
                    return new AnimatedSprite(textures);
                };
                AnimatedSprite.fromImages = function fromImages(images) {
                    var textures = [];
                    for (var i = 0; i < images.length; ++i) {
                        textures.push(core.Texture.fromImage(images[i]));
                    }
                    return new AnimatedSprite(textures);
                };
                _createClass(AnimatedSprite, [{
                    key: 'totalFrames',
                    get: function get() {
                        return this._textures.length;
                    }
                }, {
                    key: 'textures',
                    get: function get() {
                        return this._textures;
                    },
                    set: function set(value) {
                        if (value[0] instanceof core.Texture) {
                            this._textures = value;
                            this._durations = null;
                        } else {
                            this._textures = [];
                            this._durations = [];
                            for (var i = 0; i < value.length; i++) {
                                this._textures.push(value[i].texture);
                                this._durations.push(value[i].time);
                            }
                        }
                        this.gotoAndStop(0);
                        this.updateTexture();
                    }
                }, {
                    key: 'currentFrame',
                    get: function get() {
                        var currentFrame = Math.floor(this._currentTime) % this._textures.length;
                        if (currentFrame < 0) {
                            currentFrame += this._textures.length;
                        }
                        return currentFrame;
                    }
                }]);
                return AnimatedSprite;
            }(core.Sprite);
            exports.default = AnimatedSprite;
        }, {
            "../core": 65
        }],
        136: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _core = require('../core');
            var core = _interopRequireWildcard(_core);
            var _ObservablePoint = require('../core/math/ObservablePoint');
            var _ObservablePoint2 = _interopRequireDefault(_ObservablePoint);
            var _utils = require('../core/utils');
            var _settings = require('../core/settings');
            var _settings2 = _interopRequireDefault(_settings);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var BitmapText = function (_core$Container) {
                _inherits(BitmapText, _core$Container);

                function BitmapText(text) {
                    var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
                    _classCallCheck(this, BitmapText);
                    var _this = _possibleConstructorReturn(this, _core$Container.call(this));
                    _this._textWidth = 0;
                    _this._textHeight = 0;
                    _this._glyphs = [];
                    _this._font = {
                        tint: style.tint !== undefined ? style.tint : 0xFFFFFF,
                        align: style.align || 'left',
                        name: null,
                        size: 0
                    };
                    _this.font = style.font;
                    _this._text = text;
                    _this._maxWidth = 0;
                    _this._maxLineHeight = 0;
                    _this._anchor = new _ObservablePoint2.default(function () {
                        _this.dirty = true;
                    }, _this, 0, 0);
                    _this.dirty = false;
                    _this.updateText();
                    return _this;
                }
                BitmapText.prototype.updateText = function updateText() {
                    var data = BitmapText.fonts[this._font.name];
                    var scale = this._font.size / data.size;
                    var pos = new core.Point();
                    var chars = [];
                    var lineWidths = [];
                    var prevCharCode = null;
                    var lastLineWidth = 0;
                    var maxLineWidth = 0;
                    var line = 0;
                    var lastSpace = -1;
                    var lastSpaceWidth = 0;
                    var spacesRemoved = 0;
                    var maxLineHeight = 0;
                    for (var i = 0; i < this.text.length; i++) {
                        var charCode = this.text.charCodeAt(i);
                        if (/(\s)/.test(this.text.charAt(i))) {
                            lastSpace = i;
                            lastSpaceWidth = lastLineWidth;
                        }
                        if (/(?:\r\n|\r|\n)/.test(this.text.charAt(i))) {
                            lineWidths.push(lastLineWidth);
                            maxLineWidth = Math.max(maxLineWidth, lastLineWidth);
                            line++;
                            pos.x = 0;
                            pos.y += data.lineHeight;
                            prevCharCode = null;
                            continue;
                        }
                        if (lastSpace !== -1 && this._maxWidth > 0 && pos.x * scale > this._maxWidth) {
                            core.utils.removeItems(chars, lastSpace - spacesRemoved, i - lastSpace);
                            i = lastSpace;
                            lastSpace = -1;
                            ++spacesRemoved;
                            lineWidths.push(lastSpaceWidth);
                            maxLineWidth = Math.max(maxLineWidth, lastSpaceWidth);
                            line++;
                            pos.x = 0;
                            pos.y += data.lineHeight;
                            prevCharCode = null;
                            continue;
                        }
                        var charData = data.chars[charCode];
                        if (!charData) {
                            continue;
                        }
                        if (prevCharCode && charData.kerning[prevCharCode]) {
                            pos.x += charData.kerning[prevCharCode];
                        }
                        chars.push({
                            texture: charData.texture,
                            line: line,
                            charCode: charCode,
                            position: new core.Point(pos.x + charData.xOffset, pos.y + charData.yOffset)
                        });
                        lastLineWidth = pos.x + (charData.texture.width + charData.xOffset);
                        pos.x += charData.xAdvance;
                        maxLineHeight = Math.max(maxLineHeight, charData.yOffset + charData.texture.height);
                        prevCharCode = charCode;
                    }
                    lineWidths.push(lastLineWidth);
                    maxLineWidth = Math.max(maxLineWidth, lastLineWidth);
                    var lineAlignOffsets = [];
                    for (var _i = 0; _i <= line; _i++) {
                        var alignOffset = 0;
                        if (this._font.align === 'right') {
                            alignOffset = maxLineWidth - lineWidths[_i];
                        } else if (this._font.align === 'center') {
                            alignOffset = (maxLineWidth - lineWidths[_i]) / 2;
                        }
                        lineAlignOffsets.push(alignOffset);
                    }
                    var lenChars = chars.length;
                    var tint = this.tint;
                    for (var _i2 = 0; _i2 < lenChars; _i2++) {
                        var c = this._glyphs[_i2];
                        if (c) {
                            c.texture = chars[_i2].texture;
                        } else {
                            c = new core.Sprite(chars[_i2].texture);
                            this._glyphs.push(c);
                        }
                        c.position.x = (chars[_i2].position.x + lineAlignOffsets[chars[_i2].line]) * scale;
                        c.position.y = chars[_i2].position.y * scale;
                        c.scale.x = c.scale.y = scale;
                        c.tint = tint;
                        if (!c.parent) {
                            this.addChild(c);
                        }
                    }
                    for (var _i3 = lenChars; _i3 < this._glyphs.length; ++_i3) {
                        this.removeChild(this._glyphs[_i3]);
                    }
                    this._textWidth = maxLineWidth * scale;
                    this._textHeight = (pos.y + data.lineHeight) * scale;
                    if (this.anchor.x !== 0 || this.anchor.y !== 0) {
                        for (var _i4 = 0; _i4 < lenChars; _i4++) {
                            this._glyphs[_i4].x -= this._textWidth * this.anchor.x;
                            this._glyphs[_i4].y -= this._textHeight * this.anchor.y;
                        }
                    }
                    this._maxLineHeight = maxLineHeight * scale;
                };
                BitmapText.prototype.updateTransform = function updateTransform() {
                    this.validate();
                    this.containerUpdateTransform();
                };
                BitmapText.prototype.getLocalBounds = function getLocalBounds() {
                    this.validate();
                    return _core$Container.prototype.getLocalBounds.call(this);
                };
                BitmapText.prototype.validate = function validate() {
                    if (this.dirty) {
                        this.updateText();
                        this.dirty = false;
                    }
                };
                BitmapText.registerFont = function registerFont(xml, texture) {
                    var data = {};
                    var info = xml.getElementsByTagName('info')[0];
                    var common = xml.getElementsByTagName('common')[0];
                    var fileName = xml.getElementsByTagName('page')[0].getAttribute('file');
                    var res = (0, _utils.getResolutionOfUrl)(fileName, _settings2.default.RESOLUTION);
                    data.font = info.getAttribute('face');
                    data.size = parseInt(info.getAttribute('size'), 10);
                    data.lineHeight = parseInt(common.getAttribute('lineHeight'), 10) / res;
                    data.chars = {};
                    var letters = xml.getElementsByTagName('char');
                    for (var i = 0; i < letters.length; i++) {
                        var letter = letters[i];
                        var charCode = parseInt(letter.getAttribute('id'), 10);
                        var textureRect = new core.Rectangle(parseInt(letter.getAttribute('x'), 10) / res + texture.frame.x / res, parseInt(letter.getAttribute('y'), 10) / res + texture.frame.y / res, parseInt(letter.getAttribute('width'), 10) / res, parseInt(letter.getAttribute('height'), 10) / res);
                        data.chars[charCode] = {
                            xOffset: parseInt(letter.getAttribute('xoffset'), 10) / res,
                            yOffset: parseInt(letter.getAttribute('yoffset'), 10) / res,
                            xAdvance: parseInt(letter.getAttribute('xadvance'), 10) / res,
                            kerning: {},
                            texture: new core.Texture(texture.baseTexture, textureRect)
                        };
                    }
                    var kernings = xml.getElementsByTagName('kerning');
                    for (var _i5 = 0; _i5 < kernings.length; _i5++) {
                        var kerning = kernings[_i5];
                        var first = parseInt(kerning.getAttribute('first'), 10) / res;
                        var second = parseInt(kerning.getAttribute('second'), 10) / res;
                        var amount = parseInt(kerning.getAttribute('amount'), 10) / res;
                        if (data.chars[second]) {
                            data.chars[second].kerning[first] = amount;
                        }
                    }
                    BitmapText.fonts[data.font] = data;
                    return data;
                };
                _createClass(BitmapText, [{
                    key: 'tint',
                    get: function get() {
                        return this._font.tint;
                    },
                    set: function set(value) {
                        this._font.tint = typeof value === 'number' && value >= 0 ? value : 0xFFFFFF;
                        this.dirty = true;
                    }
                }, {
                    key: 'align',
                    get: function get() {
                        return this._font.align;
                    },
                    set: function set(value) {
                        this._font.align = value || 'left';
                        this.dirty = true;
                    }
                }, {
                    key: 'anchor',
                    get: function get() {
                        return this._anchor;
                    },
                    set: function set(value) {
                        if (typeof value === 'number') {
                            this._anchor.set(value);
                        } else {
                            this._anchor.copy(value);
                        }
                    }
                }, {
                    key: 'font',
                    get: function get() {
                        return this._font;
                    },
                    set: function set(value) {
                        if (!value) {
                            return;
                        }
                        if (typeof value === 'string') {
                            value = value.split(' ');
                            this._font.name = value.length === 1 ? value[0] : value.slice(1).join(' ');
                            this._font.size = value.length >= 2 ? parseInt(value[0], 10) : BitmapText.fonts[this._font.name].size;
                        } else {
                            this._font.name = value.name;
                            this._font.size = typeof value.size === 'number' ? value.size : parseInt(value.size, 10);
                        }
                        this.dirty = true;
                    }
                }, {
                    key: 'text',
                    get: function get() {
                        return this._text;
                    },
                    set: function set(value) {
                        value = value.toString() || ' ';
                        if (this._text === value) {
                            return;
                        }
                        this._text = value;
                        this.dirty = true;
                    }
                }, {
                    key: 'maxWidth',
                    get: function get() {
                        return this._maxWidth;
                    },
                    set: function set(value) {
                        if (this._maxWidth === value) {
                            return;
                        }
                        this._maxWidth = value;
                        this.dirty = true;
                    }
                }, {
                    key: 'maxLineHeight',
                    get: function get() {
                        this.validate();
                        return this._maxLineHeight;
                    }
                }, {
                    key: 'textWidth',
                    get: function get() {
                        this.validate();
                        return this._textWidth;
                    }
                }, {
                    key: 'textHeight',
                    get: function get() {
                        this.validate();
                        return this._textHeight;
                    }
                }]);
                return BitmapText;
            }(core.Container);
            exports.default = BitmapText;
            BitmapText.fonts = {};
        }, {
            "../core": 65,
            "../core/math/ObservablePoint": 68,
            "../core/settings": 101,
            "../core/utils": 125
        }],
        137: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _core = require('../core');
            var core = _interopRequireWildcard(_core);
            var _CanvasTinter = require('../core/sprites/canvas/CanvasTinter');
            var _CanvasTinter2 = _interopRequireDefault(_CanvasTinter);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var tempPoint = new core.Point();
            var TilingSprite = function (_core$Sprite) {
                _inherits(TilingSprite, _core$Sprite);

                function TilingSprite(texture) {
                    var width = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;
                    var height = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;
                    _classCallCheck(this, TilingSprite);
                    var _this = _possibleConstructorReturn(this, _core$Sprite.call(this, texture));
                    _this.tileTransform = new core.TransformStatic();
                    _this._width = width;
                    _this._height = height;
                    _this._canvasPattern = null;
                    _this.uvTransform = texture.transform || new core.TextureMatrix(texture);
                    _this.pluginName = 'tilingSprite';
                    _this.uvRespectAnchor = false;
                    return _this;
                }
                TilingSprite.prototype._onTextureUpdate = function _onTextureUpdate() {
                    if (this.uvTransform) {
                        this.uvTransform.texture = this._texture;
                    }
                    this.cachedTint = 0xFFFFFF;
                };
                TilingSprite.prototype._renderWebGL = function _renderWebGL(renderer) {
                    var texture = this._texture;
                    if (!texture || !texture.valid) {
                        return;
                    }
                    this.tileTransform.updateLocalTransform();
                    this.uvTransform.update();
                    renderer.setObjectRenderer(renderer.plugins[this.pluginName]);
                    renderer.plugins[this.pluginName].render(this);
                };
                TilingSprite.prototype._renderCanvas = function _renderCanvas(renderer) {
                    var texture = this._texture;
                    if (!texture.baseTexture.hasLoaded) {
                        return;
                    }
                    var context = renderer.context;
                    var transform = this.worldTransform;
                    var resolution = renderer.resolution;
                    var baseTexture = texture.baseTexture;
                    var baseTextureResolution = baseTexture.resolution;
                    var modX = this.tilePosition.x / this.tileScale.x % texture._frame.width * baseTextureResolution;
                    var modY = this.tilePosition.y / this.tileScale.y % texture._frame.height * baseTextureResolution;
                    if (this._textureID !== this._texture._updateID || this.cachedTint !== this.tint) {
                        this._textureID = this._texture._updateID;
                        var tempCanvas = new core.CanvasRenderTarget(texture._frame.width, texture._frame.height, baseTextureResolution);
                        if (this.tint !== 0xFFFFFF) {
                            this.tintedTexture = _CanvasTinter2.default.getTintedTexture(this, this.tint);
                            tempCanvas.context.drawImage(this.tintedTexture, 0, 0);
                        } else {
                            tempCanvas.context.drawImage(baseTexture.source, -texture._frame.x * baseTextureResolution, -texture._frame.y * baseTextureResolution);
                        }
                        this.cachedTint = this.tint;
                        this._canvasPattern = tempCanvas.context.createPattern(tempCanvas.canvas, 'repeat');
                    }
                    context.globalAlpha = this.worldAlpha;
                    context.setTransform(transform.a * resolution, transform.b * resolution, transform.c * resolution, transform.d * resolution, transform.tx * resolution, transform.ty * resolution);
                    renderer.setBlendMode(this.blendMode);
                    context.fillStyle = this._canvasPattern;
                    context.scale(this.tileScale.x / baseTextureResolution, this.tileScale.y / baseTextureResolution);
                    var anchorX = this.anchor.x * -this._width;
                    var anchorY = this.anchor.y * -this._height;
                    if (this.uvRespectAnchor) {
                        context.translate(modX, modY);
                        context.fillRect(-modX + anchorX, -modY + anchorY, this._width / this.tileScale.x * baseTextureResolution, this._height / this.tileScale.y * baseTextureResolution);
                    } else {
                        context.translate(modX + anchorX, modY + anchorY);
                        context.fillRect(-modX, -modY, this._width / this.tileScale.x * baseTextureResolution, this._height / this.tileScale.y * baseTextureResolution);
                    }
                };
                TilingSprite.prototype._calculateBounds = function _calculateBounds() {
                    var minX = this._width * -this._anchor._x;
                    var minY = this._height * -this._anchor._y;
                    var maxX = this._width * (1 - this._anchor._x);
                    var maxY = this._height * (1 - this._anchor._y);
                    this._bounds.addFrame(this.transform, minX, minY, maxX, maxY);
                };
                TilingSprite.prototype.getLocalBounds = function getLocalBounds(rect) {
                    if (this.children.length === 0) {
                        this._bounds.minX = this._width * -this._anchor._x;
                        this._bounds.minY = this._height * -this._anchor._y;
                        this._bounds.maxX = this._width * (1 - this._anchor._x);
                        this._bounds.maxY = this._height * (1 - this._anchor._x);
                        if (!rect) {
                            if (!this._localBoundsRect) {
                                this._localBoundsRect = new core.Rectangle();
                            }
                            rect = this._localBoundsRect;
                        }
                        return this._bounds.getRectangle(rect);
                    }
                    return _core$Sprite.prototype.getLocalBounds.call(this, rect);
                };
                TilingSprite.prototype.containsPoint = function containsPoint(point) {
                    this.worldTransform.applyInverse(point, tempPoint);
                    var width = this._width;
                    var height = this._height;
                    var x1 = -width * this.anchor._x;
                    if (tempPoint.x >= x1 && tempPoint.x < x1 + width) {
                        var y1 = -height * this.anchor._y;
                        if (tempPoint.y >= y1 && tempPoint.y < y1 + height) {
                            return true;
                        }
                    }
                    return false;
                };
                TilingSprite.prototype.destroy = function destroy(options) {
                    _core$Sprite.prototype.destroy.call(this, options);
                    this.tileTransform = null;
                    this.uvTransform = null;
                };
                TilingSprite.from = function from(source, width, height) {
                    return new TilingSprite(core.Texture.from(source), width, height);
                };
                TilingSprite.fromFrame = function fromFrame(frameId, width, height) {
                    var texture = core.utils.TextureCache[frameId];
                    if (!texture) {
                        throw new Error('The frameId "' + frameId + '" does not exist in the texture cache ' + this);
                    }
                    return new TilingSprite(texture, width, height);
                };
                TilingSprite.fromImage = function fromImage(imageId, width, height, crossorigin, scaleMode) {
                    return new TilingSprite(core.Texture.fromImage(imageId, crossorigin, scaleMode), width, height);
                };
                _createClass(TilingSprite, [{
                    key: 'clampMargin',
                    get: function get() {
                        return this.uvTransform.clampMargin;
                    },
                    set: function set(value) {
                        this.uvTransform.clampMargin = value;
                        this.uvTransform.update(true);
                    }
                }, {
                    key: 'tileScale',
                    get: function get() {
                        return this.tileTransform.scale;
                    },
                    set: function set(value) {
                        this.tileTransform.scale.copy(value);
                    }
                }, {
                    key: 'tilePosition',
                    get: function get() {
                        return this.tileTransform.position;
                    },
                    set: function set(value) {
                        this.tileTransform.position.copy(value);
                    }
                }, {
                    key: 'width',
                    get: function get() {
                        return this._width;
                    },
                    set: function set(value) {
                        this._width = value;
                    }
                }, {
                    key: 'height',
                    get: function get() {
                        return this._height;
                    },
                    set: function set(value) {
                        this._height = value;
                    }
                }]);
                return TilingSprite;
            }(core.Sprite);
            exports.default = TilingSprite;
        }, {
            "../core": 65,
            "../core/sprites/canvas/CanvasTinter": 104
        }],
        138: [function (require, module, exports) {
            'use strict';
            var _core = require('../core');
            var core = _interopRequireWildcard(_core);
            var _Texture = require('../core/textures/Texture');
            var _Texture2 = _interopRequireDefault(_Texture);
            var _BaseTexture = require('../core/textures/BaseTexture');
            var _BaseTexture2 = _interopRequireDefault(_BaseTexture);
            var _utils = require('../core/utils');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var DisplayObject = core.DisplayObject;
            var _tempMatrix = new core.Matrix();
            DisplayObject.prototype._cacheAsBitmap = false;
            DisplayObject.prototype._cacheData = false;
            var CacheData = function CacheData() {
                _classCallCheck(this, CacheData);
                this.textureCacheId = null;
                this.originalRenderWebGL = null;
                this.originalRenderCanvas = null;
                this.originalCalculateBounds = null;
                this.originalGetLocalBounds = null;
                this.originalUpdateTransform = null;
                this.originalHitTest = null;
                this.originalDestroy = null;
                this.originalMask = null;
                this.originalFilterArea = null;
                this.sprite = null;
            };
            Object.defineProperties(DisplayObject.prototype, {
                cacheAsBitmap: {
                    get: function get() {
                        return this._cacheAsBitmap;
                    },
                    set: function set(value) {
                        if (this._cacheAsBitmap === value) {
                            return;
                        }
                        this._cacheAsBitmap = value;
                        var data = void 0;
                        if (value) {
                            if (!this._cacheData) {
                                this._cacheData = new CacheData();
                            }
                            data = this._cacheData;
                            data.originalRenderWebGL = this.renderWebGL;
                            data.originalRenderCanvas = this.renderCanvas;
                            data.originalUpdateTransform = this.updateTransform;
                            data.originalCalculateBounds = this._calculateBounds;
                            data.originalGetLocalBounds = this.getLocalBounds;
                            data.originalDestroy = this.destroy;
                            data.originalContainsPoint = this.containsPoint;
                            data.originalMask = this._mask;
                            data.originalFilterArea = this.filterArea;
                            this.renderWebGL = this._renderCachedWebGL;
                            this.renderCanvas = this._renderCachedCanvas;
                            this.destroy = this._cacheAsBitmapDestroy;
                        } else {
                            data = this._cacheData;
                            if (data.sprite) {
                                this._destroyCachedDisplayObject();
                            }
                            this.renderWebGL = data.originalRenderWebGL;
                            this.renderCanvas = data.originalRenderCanvas;
                            this._calculateBounds = data.originalCalculateBounds;
                            this.getLocalBounds = data.originalGetLocalBounds;
                            this.destroy = data.originalDestroy;
                            this.updateTransform = data.originalUpdateTransform;
                            this.containsPoint = data.originalContainsPoint;
                            this._mask = data.originalMask;
                            this.filterArea = data.originalFilterArea;
                        }
                    }
                }
            });
            DisplayObject.prototype._renderCachedWebGL = function _renderCachedWebGL(renderer) {
                if (!this.visible || this.worldAlpha <= 0 || !this.renderable) {
                    return;
                }
                this._initCachedDisplayObject(renderer);
                this._cacheData.sprite._transformID = -1;
                this._cacheData.sprite.worldAlpha = this.worldAlpha;
                this._cacheData.sprite._renderWebGL(renderer);
            };
            DisplayObject.prototype._initCachedDisplayObject = function _initCachedDisplayObject(renderer) {
                if (this._cacheData && this._cacheData.sprite) {
                    return;
                }
                var cacheAlpha = this.alpha;
                this.alpha = 1;
                renderer.currentRenderer.flush();
                var bounds = this.getLocalBounds().clone();
                if (this._filters) {
                    var padding = this._filters[0].padding;
                    bounds.pad(padding);
                }
                var cachedRenderTarget = renderer._activeRenderTarget;
                var stack = renderer.filterManager.filterStack;
                var renderTexture = core.RenderTexture.create(bounds.width | 0, bounds.height | 0);
                var textureCacheId = 'cacheAsBitmap_' + (0, _utils.uid)();
                this._cacheData.textureCacheId = textureCacheId;
                _BaseTexture2.default.addToCache(renderTexture.baseTexture, textureCacheId);
                _Texture2.default.addToCache(renderTexture, textureCacheId);
                var m = _tempMatrix;
                m.tx = -bounds.x;
                m.ty = -bounds.y;
                this.transform.worldTransform.identity();
                this.renderWebGL = this._cacheData.originalRenderWebGL;
                renderer.render(this, renderTexture, true, m, true);
                renderer.bindRenderTarget(cachedRenderTarget);
                renderer.filterManager.filterStack = stack;
                this.renderWebGL = this._renderCachedWebGL;
                this.updateTransform = this.displayObjectUpdateTransform;
                this._mask = null;
                this.filterArea = null;
                var cachedSprite = new core.Sprite(renderTexture);
                cachedSprite.transform.worldTransform = this.transform.worldTransform;
                cachedSprite.anchor.x = -(bounds.x / bounds.width);
                cachedSprite.anchor.y = -(bounds.y / bounds.height);
                cachedSprite.alpha = cacheAlpha;
                cachedSprite._bounds = this._bounds;
                this._calculateBounds = this._calculateCachedBounds;
                this.getLocalBounds = this._getCachedLocalBounds;
                this._cacheData.sprite = cachedSprite;
                this.transform._parentID = -1;
                if (!this.parent) {
                    this.parent = renderer._tempDisplayObjectParent;
                    this.updateTransform();
                    this.parent = null;
                } else {
                    this.updateTransform();
                }
                this.containsPoint = cachedSprite.containsPoint.bind(cachedSprite);
            };
            DisplayObject.prototype._renderCachedCanvas = function _renderCachedCanvas(renderer) {
                if (!this.visible || this.worldAlpha <= 0 || !this.renderable) {
                    return;
                }
                this._initCachedDisplayObjectCanvas(renderer);
                this._cacheData.sprite.worldAlpha = this.worldAlpha;
                this._cacheData.sprite.renderCanvas(renderer);
            };
            DisplayObject.prototype._initCachedDisplayObjectCanvas = function _initCachedDisplayObjectCanvas(renderer) {
                if (this._cacheData && this._cacheData.sprite) {
                    return;
                }
                var bounds = this.getLocalBounds();
                var cacheAlpha = this.alpha;
                this.alpha = 1;
                var cachedRenderTarget = renderer.context;
                var renderTexture = core.RenderTexture.create(bounds.width | 0, bounds.height | 0);
                var textureCacheId = 'cacheAsBitmap_' + (0, _utils.uid)();
                this._cacheData.textureCacheId = textureCacheId;
                _BaseTexture2.default.addToCache(renderTexture.baseTexture, textureCacheId);
                _Texture2.default.addToCache(renderTexture, textureCacheId);
                var m = _tempMatrix;
                this.transform.localTransform.copy(m);
                m.invert();
                m.tx -= bounds.x;
                m.ty -= bounds.y;
                this.renderCanvas = this._cacheData.originalRenderCanvas;
                renderer.render(this, renderTexture, true, m, false);
                renderer.context = cachedRenderTarget;
                this.renderCanvas = this._renderCachedCanvas;
                this._calculateBounds = this._calculateCachedBounds;
                this._mask = null;
                this.filterArea = null;
                var cachedSprite = new core.Sprite(renderTexture);
                cachedSprite.transform.worldTransform = this.transform.worldTransform;
                cachedSprite.anchor.x = -(bounds.x / bounds.width);
                cachedSprite.anchor.y = -(bounds.y / bounds.height);
                cachedSprite._bounds = this._bounds;
                cachedSprite.alpha = cacheAlpha;
                if (!this.parent) {
                    this.parent = renderer._tempDisplayObjectParent;
                    this.updateTransform();
                    this.parent = null;
                } else {
                    this.updateTransform();
                }
                this.updateTransform = this.displayObjectUpdateTransform;
                this._cacheData.sprite = cachedSprite;
                this.containsPoint = cachedSprite.containsPoint.bind(cachedSprite);
            };
            DisplayObject.prototype._calculateCachedBounds = function _calculateCachedBounds() {
                this._cacheData.sprite._calculateBounds();
            };
            DisplayObject.prototype._getCachedLocalBounds = function _getCachedLocalBounds() {
                return this._cacheData.sprite.getLocalBounds();
            };
            DisplayObject.prototype._destroyCachedDisplayObject = function _destroyCachedDisplayObject() {
                this._cacheData.sprite._texture.destroy(true);
                this._cacheData.sprite = null;
                _BaseTexture2.default.removeFromCache(this._cacheData.textureCacheId);
                _Texture2.default.removeFromCache(this._cacheData.textureCacheId);
                this._cacheData.textureCacheId = null;
            };
            DisplayObject.prototype._cacheAsBitmapDestroy = function _cacheAsBitmapDestroy(options) {
                this.cacheAsBitmap = false;
                this.destroy(options);
            };
        }, {
            "../core": 65,
            "../core/textures/BaseTexture": 112,
            "../core/textures/Texture": 115,
            "../core/utils": 125
        }],
        139: [function (require, module, exports) {
            'use strict';
            var _core = require('../core');
            var core = _interopRequireWildcard(_core);

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }
            core.DisplayObject.prototype.name = null;
            core.Container.prototype.getChildByName = function getChildByName(name) {
                for (var i = 0; i < this.children.length; i++) {
                    if (this.children[i].name === name) {
                        return this.children[i];
                    }
                }
                return null;
            };
        }, {
            "../core": 65
        }],
        140: [function (require, module, exports) {
            'use strict';
            var _core = require('../core');
            var core = _interopRequireWildcard(_core);

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }
            core.DisplayObject.prototype.getGlobalPosition = function getGlobalPosition() {
                var point = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new core.Point();
                var skipUpdate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
                if (this.parent) {
                    this.parent.toGlobal(this.position, point, skipUpdate);
                } else {
                    point.x = this.position.x;
                    point.y = this.position.y;
                }
                return point;
            };
        }, {
            "../core": 65
        }],
        141: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.BitmapText = exports.TilingSpriteRenderer = exports.TilingSprite = exports.AnimatedSprite = undefined;
            var _AnimatedSprite = require('./AnimatedSprite');
            Object.defineProperty(exports, 'AnimatedSprite', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_AnimatedSprite).default;
                }
            });
            var _TilingSprite = require('./TilingSprite');
            Object.defineProperty(exports, 'TilingSprite', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_TilingSprite).default;
                }
            });
            var _TilingSpriteRenderer = require('./webgl/TilingSpriteRenderer');
            Object.defineProperty(exports, 'TilingSpriteRenderer', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_TilingSpriteRenderer).default;
                }
            });
            var _BitmapText = require('./BitmapText');
            Object.defineProperty(exports, 'BitmapText', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_BitmapText).default;
                }
            });
            require('./cacheAsBitmap');
            require('./getChildByName');
            require('./getGlobalPosition');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
        }, {
            "./AnimatedSprite": 135,
            "./BitmapText": 136,
            "./TilingSprite": 137,
            "./cacheAsBitmap": 138,
            "./getChildByName": 139,
            "./getGlobalPosition": 140,
            "./webgl/TilingSpriteRenderer": 142
        }],
        142: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _core = require('../../core');
            var core = _interopRequireWildcard(_core);
            var _const = require('../../core/const');
            var _path = require('path');

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var tempMat = new core.Matrix();
            var TilingSpriteRenderer = function (_core$ObjectRenderer) {
                _inherits(TilingSpriteRenderer, _core$ObjectRenderer);

                function TilingSpriteRenderer(renderer) {
                    _classCallCheck(this, TilingSpriteRenderer);
                    var _this = _possibleConstructorReturn(this, _core$ObjectRenderer.call(this, renderer));
                    _this.shader = null;
                    _this.simpleShader = null;
                    _this.quad = null;
                    return _this;
                }
                TilingSpriteRenderer.prototype.onContextChange = function onContextChange() {
                    var gl = this.renderer.gl;
                    this.shader = new core.Shader(gl, 'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n', 'varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n');
                    this.simpleShader = new core.Shader(gl, 'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n', 'varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n');
                    this.renderer.bindVao(null);
                    this.quad = new core.Quad(gl, this.renderer.state.attribState);
                    this.quad.initVao(this.shader);
                };
                TilingSpriteRenderer.prototype.render = function render(ts) {
                    var renderer = this.renderer;
                    var quad = this.quad;
                    renderer.bindVao(quad.vao);
                    var vertices = quad.vertices;
                    vertices[0] = vertices[6] = ts._width * -ts.anchor.x;
                    vertices[1] = vertices[3] = ts._height * -ts.anchor.y;
                    vertices[2] = vertices[4] = ts._width * (1.0 - ts.anchor.x);
                    vertices[5] = vertices[7] = ts._height * (1.0 - ts.anchor.y);
                    if (ts.uvRespectAnchor) {
                        vertices = quad.uvs;
                        vertices[0] = vertices[6] = -ts.anchor.x;
                        vertices[1] = vertices[3] = -ts.anchor.y;
                        vertices[2] = vertices[4] = 1.0 - ts.anchor.x;
                        vertices[5] = vertices[7] = 1.0 - ts.anchor.y;
                    }
                    quad.upload();
                    var tex = ts._texture;
                    var baseTex = tex.baseTexture;
                    var lt = ts.tileTransform.localTransform;
                    var uv = ts.uvTransform;
                    var isSimple = baseTex.isPowerOfTwo && tex.frame.width === baseTex.width && tex.frame.height === baseTex.height;
                    if (isSimple) {
                        if (!baseTex._glTextures[renderer.CONTEXT_UID]) {
                            if (baseTex.wrapMode === _const.WRAP_MODES.CLAMP) {
                                baseTex.wrapMode = _const.WRAP_MODES.REPEAT;
                            }
                        } else {
                            isSimple = baseTex.wrapMode !== _const.WRAP_MODES.CLAMP;
                        }
                    }
                    var shader = isSimple ? this.simpleShader : this.shader;
                    renderer.bindShader(shader);
                    var w = tex.width;
                    var h = tex.height;
                    var W = ts._width;
                    var H = ts._height;
                    tempMat.set(lt.a * w / W, lt.b * w / H, lt.c * h / W, lt.d * h / H, lt.tx / W, lt.ty / H);
                    tempMat.invert();
                    if (isSimple) {
                        tempMat.prepend(uv.mapCoord);
                    } else {
                        shader.uniforms.uMapCoord = uv.mapCoord.toArray(true);
                        shader.uniforms.uClampFrame = uv.uClampFrame;
                        shader.uniforms.uClampOffset = uv.uClampOffset;
                    }
                    shader.uniforms.uTransform = tempMat.toArray(true);
                    shader.uniforms.uColor = core.utils.premultiplyTintToRgba(ts.tint, ts.worldAlpha, shader.uniforms.uColor, baseTex.premultipliedAlpha);
                    shader.uniforms.translationMatrix = ts.transform.worldTransform.toArray(true);
                    shader.uniforms.uSampler = renderer.bindTexture(tex);
                    renderer.setBlendMode(core.utils.correctBlendMode(ts.blendMode, baseTex.premultipliedAlpha));
                    quad.vao.draw(this.renderer.gl.TRIANGLES, 6, 0);
                };
                return TilingSpriteRenderer;
            }(core.ObjectRenderer);
            exports.default = TilingSpriteRenderer;
            core.WebGLRenderer.registerPlugin('tilingSprite', TilingSpriteRenderer);
        }, {
            "../../core": 65,
            "../../core/const": 46,
            "path": 8
        }],
        143: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _core = require('../../core');
            var core = _interopRequireWildcard(_core);
            var _path = require('path');

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var AlphaFilter = function (_core$Filter) {
                _inherits(AlphaFilter, _core$Filter);

                function AlphaFilter() {
                    var alpha = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1.0;
                    _classCallCheck(this, AlphaFilter);
                    var _this = _possibleConstructorReturn(this, _core$Filter.call(this, 'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}', 'varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n'));
                    _this.alpha = alpha;
                    _this.glShaderKey = 'alpha';
                    return _this;
                }
                _createClass(AlphaFilter, [{
                    key: 'alpha',
                    get: function get() {
                        return this.uniforms.uAlpha;
                    },
                    set: function set(value) {
                        this.uniforms.uAlpha = value;
                    }
                }]);
                return AlphaFilter;
            }(core.Filter);
            exports.default = AlphaFilter;
        }, {
            "../../core": 65,
            "path": 8
        }],
        144: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _core = require('../../core');
            var core = _interopRequireWildcard(_core);
            var _BlurXFilter = require('./BlurXFilter');
            var _BlurXFilter2 = _interopRequireDefault(_BlurXFilter);
            var _BlurYFilter = require('./BlurYFilter');
            var _BlurYFilter2 = _interopRequireDefault(_BlurYFilter);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var BlurFilter = function (_core$Filter) {
                _inherits(BlurFilter, _core$Filter);

                function BlurFilter(strength, quality, resolution, kernelSize) {
                    _classCallCheck(this, BlurFilter);
                    var _this = _possibleConstructorReturn(this, _core$Filter.call(this));
                    _this.blurXFilter = new _BlurXFilter2.default(strength, quality, resolution, kernelSize);
                    _this.blurYFilter = new _BlurYFilter2.default(strength, quality, resolution, kernelSize);
                    _this.padding = 0;
                    _this.resolution = resolution || core.settings.RESOLUTION;
                    _this.quality = quality || 4;
                    _this.blur = strength || 8;
                    return _this;
                }
                BlurFilter.prototype.apply = function apply(filterManager, input, output) {
                    var renderTarget = filterManager.getRenderTarget(true);
                    this.blurXFilter.apply(filterManager, input, renderTarget, true);
                    this.blurYFilter.apply(filterManager, renderTarget, output, false);
                    filterManager.returnRenderTarget(renderTarget);
                };
                _createClass(BlurFilter, [{
                    key: 'blur',
                    get: function get() {
                        return this.blurXFilter.blur;
                    },
                    set: function set(value) {
                        this.blurXFilter.blur = this.blurYFilter.blur = value;
                        this.padding = Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength)) * 2;
                    }
                }, {
                    key: 'quality',
                    get: function get() {
                        return this.blurXFilter.quality;
                    },
                    set: function set(value) {
                        this.blurXFilter.quality = this.blurYFilter.quality = value;
                    }
                }, {
                    key: 'blurX',
                    get: function get() {
                        return this.blurXFilter.blur;
                    },
                    set: function set(value) {
                        this.blurXFilter.blur = value;
                        this.padding = Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength)) * 2;
                    }
                }, {
                    key: 'blurY',
                    get: function get() {
                        return this.blurYFilter.blur;
                    },
                    set: function set(value) {
                        this.blurYFilter.blur = value;
                        this.padding = Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength)) * 2;
                    }
                }, {
                    key: 'blendMode',
                    get: function get() {
                        return this.blurYFilter._blendMode;
                    },
                    set: function set(value) {
                        this.blurYFilter._blendMode = value;
                    }
                }]);
                return BlurFilter;
            }(core.Filter);
            exports.default = BlurFilter;
        }, {
            "../../core": 65,
            "./BlurXFilter": 145,
            "./BlurYFilter": 146
        }],
        145: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _core = require('../../core');
            var core = _interopRequireWildcard(_core);
            var _generateBlurVertSource = require('./generateBlurVertSource');
            var _generateBlurVertSource2 = _interopRequireDefault(_generateBlurVertSource);
            var _generateBlurFragSource = require('./generateBlurFragSource');
            var _generateBlurFragSource2 = _interopRequireDefault(_generateBlurFragSource);
            var _getMaxBlurKernelSize = require('./getMaxBlurKernelSize');
            var _getMaxBlurKernelSize2 = _interopRequireDefault(_getMaxBlurKernelSize);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var BlurXFilter = function (_core$Filter) {
                _inherits(BlurXFilter, _core$Filter);

                function BlurXFilter(strength, quality, resolution, kernelSize) {
                    _classCallCheck(this, BlurXFilter);
                    kernelSize = kernelSize || 5;
                    var vertSrc = (0, _generateBlurVertSource2.default)(kernelSize, true);
                    var fragSrc = (0, _generateBlurFragSource2.default)(kernelSize);
                    var _this = _possibleConstructorReturn(this, _core$Filter.call(this, vertSrc, fragSrc));
                    _this.resolution = resolution || core.settings.RESOLUTION;
                    _this._quality = 0;
                    _this.quality = quality || 4;
                    _this.strength = strength || 8;
                    _this.firstRun = true;
                    return _this;
                }
                BlurXFilter.prototype.apply = function apply(filterManager, input, output, clear) {
                    if (this.firstRun) {
                        var gl = filterManager.renderer.gl;
                        var kernelSize = (0, _getMaxBlurKernelSize2.default)(gl);
                        this.vertexSrc = (0, _generateBlurVertSource2.default)(kernelSize, true);
                        this.fragmentSrc = (0, _generateBlurFragSource2.default)(kernelSize);
                        this.firstRun = false;
                    }
                    this.uniforms.strength = 1 / output.size.width * (output.size.width / input.size.width);
                    this.uniforms.strength *= this.strength;
                    this.uniforms.strength /= this.passes;
                    if (this.passes === 1) {
                        filterManager.applyFilter(this, input, output, clear);
                    } else {
                        var renderTarget = filterManager.getRenderTarget(true);
                        var flip = input;
                        var flop = renderTarget;
                        for (var i = 0; i < this.passes - 1; i++) {
                            filterManager.applyFilter(this, flip, flop, true);
                            var temp = flop;
                            flop = flip;
                            flip = temp;
                        }
                        filterManager.applyFilter(this, flip, output, clear);
                        filterManager.returnRenderTarget(renderTarget);
                    }
                };
                _createClass(BlurXFilter, [{
                    key: 'blur',
                    get: function get() {
                        return this.strength;
                    },
                    set: function set(value) {
                        this.padding = Math.abs(value) * 2;
                        this.strength = value;
                    }
                }, {
                    key: 'quality',
                    get: function get() {
                        return this._quality;
                    },
                    set: function set(value) {
                        this._quality = value;
                        this.passes = value;
                    }
                }]);
                return BlurXFilter;
            }(core.Filter);
            exports.default = BlurXFilter;
        }, {
            "../../core": 65,
            "./generateBlurFragSource": 147,
            "./generateBlurVertSource": 148,
            "./getMaxBlurKernelSize": 149
        }],
        146: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _core = require('../../core');
            var core = _interopRequireWildcard(_core);
            var _generateBlurVertSource = require('./generateBlurVertSource');
            var _generateBlurVertSource2 = _interopRequireDefault(_generateBlurVertSource);
            var _generateBlurFragSource = require('./generateBlurFragSource');
            var _generateBlurFragSource2 = _interopRequireDefault(_generateBlurFragSource);
            var _getMaxBlurKernelSize = require('./getMaxBlurKernelSize');
            var _getMaxBlurKernelSize2 = _interopRequireDefault(_getMaxBlurKernelSize);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var BlurYFilter = function (_core$Filter) {
                _inherits(BlurYFilter, _core$Filter);

                function BlurYFilter(strength, quality, resolution, kernelSize) {
                    _classCallCheck(this, BlurYFilter);
                    kernelSize = kernelSize || 5;
                    var vertSrc = (0, _generateBlurVertSource2.default)(kernelSize, false);
                    var fragSrc = (0, _generateBlurFragSource2.default)(kernelSize);
                    var _this = _possibleConstructorReturn(this, _core$Filter.call(this, vertSrc, fragSrc));
                    _this.resolution = resolution || core.settings.RESOLUTION;
                    _this._quality = 0;
                    _this.quality = quality || 4;
                    _this.strength = strength || 8;
                    _this.firstRun = true;
                    return _this;
                }
                BlurYFilter.prototype.apply = function apply(filterManager, input, output, clear) {
                    if (this.firstRun) {
                        var gl = filterManager.renderer.gl;
                        var kernelSize = (0, _getMaxBlurKernelSize2.default)(gl);
                        this.vertexSrc = (0, _generateBlurVertSource2.default)(kernelSize, false);
                        this.fragmentSrc = (0, _generateBlurFragSource2.default)(kernelSize);
                        this.firstRun = false;
                    }
                    this.uniforms.strength = 1 / output.size.height * (output.size.height / input.size.height);
                    this.uniforms.strength *= this.strength;
                    this.uniforms.strength /= this.passes;
                    if (this.passes === 1) {
                        filterManager.applyFilter(this, input, output, clear);
                    } else {
                        var renderTarget = filterManager.getRenderTarget(true);
                        var flip = input;
                        var flop = renderTarget;
                        for (var i = 0; i < this.passes - 1; i++) {
                            filterManager.applyFilter(this, flip, flop, true);
                            var temp = flop;
                            flop = flip;
                            flip = temp;
                        }
                        filterManager.applyFilter(this, flip, output, clear);
                        filterManager.returnRenderTarget(renderTarget);
                    }
                };
                _createClass(BlurYFilter, [{
                    key: 'blur',
                    get: function get() {
                        return this.strength;
                    },
                    set: function set(value) {
                        this.padding = Math.abs(value) * 2;
                        this.strength = value;
                    }
                }, {
                    key: 'quality',
                    get: function get() {
                        return this._quality;
                    },
                    set: function set(value) {
                        this._quality = value;
                        this.passes = value;
                    }
                }]);
                return BlurYFilter;
            }(core.Filter);
            exports.default = BlurYFilter;
        }, {
            "../../core": 65,
            "./generateBlurFragSource": 147,
            "./generateBlurVertSource": 148,
            "./getMaxBlurKernelSize": 149
        }],
        147: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = generateFragBlurSource;
            var GAUSSIAN_VALUES = {
                5: [0.153388, 0.221461, 0.250301],
                7: [0.071303, 0.131514, 0.189879, 0.214607],
                9: [0.028532, 0.067234, 0.124009, 0.179044, 0.20236],
                11: [0.0093, 0.028002, 0.065984, 0.121703, 0.175713, 0.198596],
                13: [0.002406, 0.009255, 0.027867, 0.065666, 0.121117, 0.174868, 0.197641],
                15: [0.000489, 0.002403, 0.009246, 0.02784, 0.065602, 0.120999, 0.174697, 0.197448]
            };
            var fragTemplate = ['varying vec2 vBlurTexCoords[%size%];', 'uniform sampler2D uSampler;', 'void main(void)', '{', '    gl_FragColor = vec4(0.0);', '    %blur%', '}'].join('\n');

            function generateFragBlurSource(kernelSize) {
                var kernel = GAUSSIAN_VALUES[kernelSize];
                var halfLength = kernel.length;
                var fragSource = fragTemplate;
                var blurLoop = '';
                var template = 'gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;';
                var value = void 0;
                for (var i = 0; i < kernelSize; i++) {
                    var blur = template.replace('%index%', i);
                    value = i;
                    if (i >= halfLength) {
                        value = kernelSize - i - 1;
                    }
                    blur = blur.replace('%value%', kernel[value]);
                    blurLoop += blur;
                    blurLoop += '\n';
                }
                fragSource = fragSource.replace('%blur%', blurLoop);
                fragSource = fragSource.replace('%size%', kernelSize);
                return fragSource;
            }
        }, {}],
        148: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = generateVertBlurSource;
            var vertTemplate = ['attribute vec2 aVertexPosition;', 'attribute vec2 aTextureCoord;', 'uniform float strength;', 'uniform mat3 projectionMatrix;', 'varying vec2 vBlurTexCoords[%size%];', 'void main(void)', '{', 'gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);', '%blur%', '}'].join('\n');

            function generateVertBlurSource(kernelSize, x) {
                var halfLength = Math.ceil(kernelSize / 2);
                var vertSource = vertTemplate;
                var blurLoop = '';
                var template = void 0;
                if (x) {
                    template = 'vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);';
                } else {
                    template = 'vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);';
                }
                for (var i = 0; i < kernelSize; i++) {
                    var blur = template.replace('%index%', i);
                    blur = blur.replace('%sampleIndex%', i - (halfLength - 1) + '.0');
                    blurLoop += blur;
                    blurLoop += '\n';
                }
                vertSource = vertSource.replace('%blur%', blurLoop);
                vertSource = vertSource.replace('%size%', kernelSize);
                return vertSource;
            }
        }, {}],
        149: [function (require, module, exports) {
            "use strict";
            exports.__esModule = true;
            exports.default = getMaxKernelSize;

            function getMaxKernelSize(gl) {
                var maxVaryings = gl.getParameter(gl.MAX_VARYING_VECTORS);
                var kernelSize = 15;
                while (kernelSize > maxVaryings) {
                    kernelSize -= 2;
                }
                return kernelSize;
            }
        }, {}],
        150: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _core = require('../../core');
            var core = _interopRequireWildcard(_core);
            var _path = require('path');

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var ColorMatrixFilter = function (_core$Filter) {
                _inherits(ColorMatrixFilter, _core$Filter);

                function ColorMatrixFilter() {
                    _classCallCheck(this, ColorMatrixFilter);
                    var _this = _possibleConstructorReturn(this, _core$Filter.call(this, 'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}', 'varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n'));
                    _this.uniforms.m = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0];
                    _this.alpha = 1;
                    return _this;
                }
                ColorMatrixFilter.prototype._loadMatrix = function _loadMatrix(matrix) {
                    var multiply = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
                    var newMatrix = matrix;
                    if (multiply) {
                        this._multiply(newMatrix, this.uniforms.m, matrix);
                        newMatrix = this._colorMatrix(newMatrix);
                    }
                    this.uniforms.m = newMatrix;
                };
                ColorMatrixFilter.prototype._multiply = function _multiply(out, a, b) {
                    out[0] = a[0] * b[0] + a[1] * b[5] + a[2] * b[10] + a[3] * b[15];
                    out[1] = a[0] * b[1] + a[1] * b[6] + a[2] * b[11] + a[3] * b[16];
                    out[2] = a[0] * b[2] + a[1] * b[7] + a[2] * b[12] + a[3] * b[17];
                    out[3] = a[0] * b[3] + a[1] * b[8] + a[2] * b[13] + a[3] * b[18];
                    out[4] = a[0] * b[4] + a[1] * b[9] + a[2] * b[14] + a[3] * b[19] + a[4];
                    out[5] = a[5] * b[0] + a[6] * b[5] + a[7] * b[10] + a[8] * b[15];
                    out[6] = a[5] * b[1] + a[6] * b[6] + a[7] * b[11] + a[8] * b[16];
                    out[7] = a[5] * b[2] + a[6] * b[7] + a[7] * b[12] + a[8] * b[17];
                    out[8] = a[5] * b[3] + a[6] * b[8] + a[7] * b[13] + a[8] * b[18];
                    out[9] = a[5] * b[4] + a[6] * b[9] + a[7] * b[14] + a[8] * b[19] + a[9];
                    out[10] = a[10] * b[0] + a[11] * b[5] + a[12] * b[10] + a[13] * b[15];
                    out[11] = a[10] * b[1] + a[11] * b[6] + a[12] * b[11] + a[13] * b[16];
                    out[12] = a[10] * b[2] + a[11] * b[7] + a[12] * b[12] + a[13] * b[17];
                    out[13] = a[10] * b[3] + a[11] * b[8] + a[12] * b[13] + a[13] * b[18];
                    out[14] = a[10] * b[4] + a[11] * b[9] + a[12] * b[14] + a[13] * b[19] + a[14];
                    out[15] = a[15] * b[0] + a[16] * b[5] + a[17] * b[10] + a[18] * b[15];
                    out[16] = a[15] * b[1] + a[16] * b[6] + a[17] * b[11] + a[18] * b[16];
                    out[17] = a[15] * b[2] + a[16] * b[7] + a[17] * b[12] + a[18] * b[17];
                    out[18] = a[15] * b[3] + a[16] * b[8] + a[17] * b[13] + a[18] * b[18];
                    out[19] = a[15] * b[4] + a[16] * b[9] + a[17] * b[14] + a[18] * b[19] + a[19];
                    return out;
                };
                ColorMatrixFilter.prototype._colorMatrix = function _colorMatrix(matrix) {
                    var m = new Float32Array(matrix);
                    m[4] /= 255;
                    m[9] /= 255;
                    m[14] /= 255;
                    m[19] /= 255;
                    return m;
                };
                ColorMatrixFilter.prototype.brightness = function brightness(b, multiply) {
                    var matrix = [b, 0, 0, 0, 0, 0, b, 0, 0, 0, 0, 0, b, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.greyscale = function greyscale(scale, multiply) {
                    var matrix = [scale, scale, scale, 0, 0, scale, scale, scale, 0, 0, scale, scale, scale, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.blackAndWhite = function blackAndWhite(multiply) {
                    var matrix = [0.3, 0.6, 0.1, 0, 0, 0.3, 0.6, 0.1, 0, 0, 0.3, 0.6, 0.1, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.hue = function hue(rotation, multiply) {
                    rotation = (rotation || 0) / 180 * Math.PI;
                    var cosR = Math.cos(rotation);
                    var sinR = Math.sin(rotation);
                    var sqrt = Math.sqrt;
                    var w = 1 / 3;
                    var sqrW = sqrt(w);
                    var a00 = cosR + (1.0 - cosR) * w;
                    var a01 = w * (1.0 - cosR) - sqrW * sinR;
                    var a02 = w * (1.0 - cosR) + sqrW * sinR;
                    var a10 = w * (1.0 - cosR) + sqrW * sinR;
                    var a11 = cosR + w * (1.0 - cosR);
                    var a12 = w * (1.0 - cosR) - sqrW * sinR;
                    var a20 = w * (1.0 - cosR) - sqrW * sinR;
                    var a21 = w * (1.0 - cosR) + sqrW * sinR;
                    var a22 = cosR + w * (1.0 - cosR);
                    var matrix = [a00, a01, a02, 0, 0, a10, a11, a12, 0, 0, a20, a21, a22, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.contrast = function contrast(amount, multiply) {
                    var v = (amount || 0) + 1;
                    var o = -0.5 * (v - 1);
                    var matrix = [v, 0, 0, 0, o, 0, v, 0, 0, o, 0, 0, v, 0, o, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.saturate = function saturate() {
                    var amount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    var multiply = arguments[1];
                    var x = amount * 2 / 3 + 1;
                    var y = (x - 1) * -0.5;
                    var matrix = [x, y, y, 0, 0, y, x, y, 0, 0, y, y, x, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.desaturate = function desaturate() {
                    this.saturate(-1);
                };
                ColorMatrixFilter.prototype.negative = function negative(multiply) {
                    var matrix = [0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.sepia = function sepia(multiply) {
                    var matrix = [0.393, 0.7689999, 0.18899999, 0, 0, 0.349, 0.6859999, 0.16799999, 0, 0, 0.272, 0.5339999, 0.13099999, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.technicolor = function technicolor(multiply) {
                    var matrix = [1.9125277891456083, -0.8545344976951645, -0.09155508482755585, 0, 11.793603434377337, -0.3087833385928097, 1.7658908555458428, -0.10601743074722245, 0, -70.35205161461398, -0.231103377548616, -0.7501899197440212, 1.847597816108189, 0, 30.950940869491138, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.polaroid = function polaroid(multiply) {
                    var matrix = [1.438, -0.062, -0.062, 0, 0, -0.122, 1.378, -0.122, 0, 0, -0.016, -0.016, 1.483, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.toBGR = function toBGR(multiply) {
                    var matrix = [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.kodachrome = function kodachrome(multiply) {
                    var matrix = [1.1285582396593525, -0.3967382283601348, -0.03992559172921793, 0, 63.72958762196502, -0.16404339962244616, 1.0835251566291304, -0.05498805115633132, 0, 24.732407896706203, -0.16786010706155763, -0.5603416277695248, 1.6014850761964943, 0, 35.62982807460946, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.browni = function browni(multiply) {
                    var matrix = [0.5997023498159715, 0.34553243048391263, -0.2708298674538042, 0, 47.43192855600873, -0.037703249837783157, 0.8609577587992641, 0.15059552388459913, 0, -36.96841498319127, 0.24113635128153335, -0.07441037908422492, 0.44972182064877153, 0, -7.562075277591283, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.vintage = function vintage(multiply) {
                    var matrix = [0.6279345635605994, 0.3202183420819367, -0.03965408211312453, 0, 9.651285835294123, 0.02578397704808868, 0.6441188644374771, 0.03259127616149294, 0, 7.462829176470591, 0.0466055556782719, -0.0851232987247891, 0.5241648018700465, 0, 5.159190588235296, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.colorTone = function colorTone(desaturation, toned, lightColor, darkColor, multiply) {
                    desaturation = desaturation || 0.2;
                    toned = toned || 0.15;
                    lightColor = lightColor || 0xFFE580;
                    darkColor = darkColor || 0x338000;
                    var lR = (lightColor >> 16 & 0xFF) / 255;
                    var lG = (lightColor >> 8 & 0xFF) / 255;
                    var lB = (lightColor & 0xFF) / 255;
                    var dR = (darkColor >> 16 & 0xFF) / 255;
                    var dG = (darkColor >> 8 & 0xFF) / 255;
                    var dB = (darkColor & 0xFF) / 255;
                    var matrix = [0.3, 0.59, 0.11, 0, 0, lR, lG, lB, desaturation, 0, dR, dG, dB, toned, 0, lR - dR, lG - dG, lB - dB, 0, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.night = function night(intensity, multiply) {
                    intensity = intensity || 0.1;
                    var matrix = [intensity * -2.0, -intensity, 0, 0, 0, -intensity, 0, intensity, 0, 0, 0, intensity, intensity * 2.0, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.predator = function predator(amount, multiply) {
                    var matrix = [11.224130630493164 * amount, -4.794486999511719 * amount, -2.8746118545532227 * amount, 0 * amount, 0.40342438220977783 * amount, -3.6330697536468506 * amount, 9.193157196044922 * amount, -2.951810836791992 * amount, 0 * amount, -1.316135048866272 * amount, -3.2184197902679443 * amount, -4.2375030517578125 * amount, 7.476448059082031 * amount, 0 * amount, 0.8044459223747253 * amount, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.lsd = function lsd(multiply) {
                    var matrix = [2, -0.4, 0.5, 0, 0, -0.5, 2, -0.4, 0, 0, -0.4, -0.5, 3, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, multiply);
                };
                ColorMatrixFilter.prototype.reset = function reset() {
                    var matrix = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(matrix, false);
                };
                _createClass(ColorMatrixFilter, [{
                    key: 'matrix',
                    get: function get() {
                        return this.uniforms.m;
                    },
                    set: function set(value) {
                        this.uniforms.m = value;
                    }
                }, {
                    key: 'alpha',
                    get: function get() {
                        return this.uniforms.uAlpha;
                    },
                    set: function set(value) {
                        this.uniforms.uAlpha = value;
                    }
                }]);
                return ColorMatrixFilter;
            }(core.Filter);
            exports.default = ColorMatrixFilter;
            ColorMatrixFilter.prototype.grayscale = ColorMatrixFilter.prototype.greyscale;
        }, {
            "../../core": 65,
            "path": 8
        }],
        151: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _core = require('../../core');
            var core = _interopRequireWildcard(_core);
            var _path = require('path');

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var DisplacementFilter = function (_core$Filter) {
                _inherits(DisplacementFilter, _core$Filter);

                function DisplacementFilter(sprite, scale) {
                    _classCallCheck(this, DisplacementFilter);
                    var maskMatrix = new core.Matrix();
                    sprite.renderable = false;
                    var _this = _possibleConstructorReturn(this, _core$Filter.call(this, 'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}', 'varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n'));
                    _this.maskSprite = sprite;
                    _this.maskMatrix = maskMatrix;
                    _this.uniforms.mapSampler = sprite._texture;
                    _this.uniforms.filterMatrix = maskMatrix;
                    _this.uniforms.scale = {
                        x: 1,
                        y: 1
                    };
                    if (scale === null || scale === undefined) {
                        scale = 20;
                    }
                    _this.scale = new core.Point(scale, scale);
                    return _this;
                }
                DisplacementFilter.prototype.apply = function apply(filterManager, input, output) {
                    this.uniforms.filterMatrix = filterManager.calculateSpriteMatrix(this.maskMatrix, this.maskSprite);
                    this.uniforms.scale.x = this.scale.x;
                    this.uniforms.scale.y = this.scale.y;
                    filterManager.applyFilter(this, input, output);
                };
                _createClass(DisplacementFilter, [{
                    key: 'map',
                    get: function get() {
                        return this.uniforms.mapSampler;
                    },
                    set: function set(value) {
                        this.uniforms.mapSampler = value;
                    }
                }]);
                return DisplacementFilter;
            }(core.Filter);
            exports.default = DisplacementFilter;
        }, {
            "../../core": 65,
            "path": 8
        }],
        152: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _core = require('../../core');
            var core = _interopRequireWildcard(_core);
            var _path = require('path');

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var FXAAFilter = function (_core$Filter) {
                _inherits(FXAAFilter, _core$Filter);

                function FXAAFilter() {
                    _classCallCheck(this, FXAAFilter);
                    return _possibleConstructorReturn(this, _core$Filter.call(this, '\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}', 'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'));
                }
                return FXAAFilter;
            }(core.Filter);
            exports.default = FXAAFilter;
        }, {
            "../../core": 65,
            "path": 8
        }],
        153: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _FXAAFilter = require('./fxaa/FXAAFilter');
            Object.defineProperty(exports, 'FXAAFilter', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_FXAAFilter).default;
                }
            });
            var _NoiseFilter = require('./noise/NoiseFilter');
            Object.defineProperty(exports, 'NoiseFilter', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_NoiseFilter).default;
                }
            });
            var _DisplacementFilter = require('./displacement/DisplacementFilter');
            Object.defineProperty(exports, 'DisplacementFilter', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_DisplacementFilter).default;
                }
            });
            var _BlurFilter = require('./blur/BlurFilter');
            Object.defineProperty(exports, 'BlurFilter', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_BlurFilter).default;
                }
            });
            var _BlurXFilter = require('./blur/BlurXFilter');
            Object.defineProperty(exports, 'BlurXFilter', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_BlurXFilter).default;
                }
            });
            var _BlurYFilter = require('./blur/BlurYFilter');
            Object.defineProperty(exports, 'BlurYFilter', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_BlurYFilter).default;
                }
            });
            var _ColorMatrixFilter = require('./colormatrix/ColorMatrixFilter');
            Object.defineProperty(exports, 'ColorMatrixFilter', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_ColorMatrixFilter).default;
                }
            });
            var _AlphaFilter = require('./alpha/AlphaFilter');
            Object.defineProperty(exports, 'AlphaFilter', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_AlphaFilter).default;
                }
            });

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
        }, {
            "./alpha/AlphaFilter": 143,
            "./blur/BlurFilter": 144,
            "./blur/BlurXFilter": 145,
            "./blur/BlurYFilter": 146,
            "./colormatrix/ColorMatrixFilter": 150,
            "./displacement/DisplacementFilter": 151,
            "./fxaa/FXAAFilter": 152,
            "./noise/NoiseFilter": 154
        }],
        154: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _core = require('../../core');
            var core = _interopRequireWildcard(_core);
            var _path = require('path');

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var NoiseFilter = function (_core$Filter) {
                _inherits(NoiseFilter, _core$Filter);

                function NoiseFilter() {
                    var noise = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0.5;
                    var seed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Math.random();
                    _classCallCheck(this, NoiseFilter);
                    var _this = _possibleConstructorReturn(this, _core$Filter.call(this, 'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}', 'precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n'));
                    _this.noise = noise;
                    _this.seed = seed;
                    return _this;
                }
                _createClass(NoiseFilter, [{
                    key: 'noise',
                    get: function get() {
                        return this.uniforms.uNoise;
                    },
                    set: function set(value) {
                        this.uniforms.uNoise = value;
                    }
                }, {
                    key: 'seed',
                    get: function get() {
                        return this.uniforms.uSeed;
                    },
                    set: function set(value) {
                        this.uniforms.uSeed = value;
                    }
                }]);
                return NoiseFilter;
            }(core.Filter);
            exports.default = NoiseFilter;
        }, {
            "../../core": 65,
            "path": 8
        }],
        155: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _core = require('../core');
            var core = _interopRequireWildcard(_core);

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var InteractionData = function () {
                function InteractionData() {
                    _classCallCheck(this, InteractionData);
                    this.global = new core.Point();
                    this.target = null;
                    this.originalEvent = null;
                    this.identifier = null;
                    this.isPrimary = false;
                    this.button = 0;
                    this.buttons = 0;
                    this.width = 0;
                    this.height = 0;
                    this.tiltX = 0;
                    this.tiltY = 0;
                    this.pointerType = null;
                    this.pressure = 0;
                    this.rotationAngle = 0;
                    this.twist = 0;
                    this.tangentialPressure = 0;
                }
                InteractionData.prototype.getLocalPosition = function getLocalPosition(displayObject, point, globalPos) {
                    return displayObject.worldTransform.applyInverse(globalPos || this.global, point);
                };
                InteractionData.prototype._copyEvent = function _copyEvent(event) {
                    if (event.isPrimary) {
                        this.isPrimary = true;
                    }
                    this.button = event.button;
                    this.buttons = event.buttons;
                    this.width = event.width;
                    this.height = event.height;
                    this.tiltX = event.tiltX;
                    this.tiltY = event.tiltY;
                    this.pointerType = event.pointerType;
                    this.pressure = event.pressure;
                    this.rotationAngle = event.rotationAngle;
                    this.twist = event.twist || 0;
                    this.tangentialPressure = event.tangentialPressure || 0;
                };
                InteractionData.prototype._reset = function _reset() {
                    this.isPrimary = false;
                };
                _createClass(InteractionData, [{
                    key: 'pointerId',
                    get: function get() {
                        return this.identifier;
                    }
                }]);
                return InteractionData;
            }();
            exports.default = InteractionData;
        }, {
            "../core": 65
        }],
        156: [function (require, module, exports) {
            "use strict";
            exports.__esModule = true;

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var InteractionEvent = function () {
                function InteractionEvent() {
                    _classCallCheck(this, InteractionEvent);
                    this.stopped = false;
                    this.target = null;
                    this.currentTarget = null;
                    this.type = null;
                    this.data = null;
                }
                InteractionEvent.prototype.stopPropagation = function stopPropagation() {
                    this.stopped = true;
                };
                InteractionEvent.prototype._reset = function _reset() {
                    this.stopped = false;
                    this.currentTarget = null;
                    this.target = null;
                };
                return InteractionEvent;
            }();
            exports.default = InteractionEvent;
        }, {}],
        157: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
                return typeof obj;
            } : function (obj) {
                return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
            };
            var _core = require('../core');
            var core = _interopRequireWildcard(_core);
            var _InteractionData = require('./InteractionData');
            var _InteractionData2 = _interopRequireDefault(_InteractionData);
            var _InteractionEvent = require('./InteractionEvent');
            var _InteractionEvent2 = _interopRequireDefault(_InteractionEvent);
            var _InteractionTrackingData = require('./InteractionTrackingData');
            var _InteractionTrackingData2 = _interopRequireDefault(_InteractionTrackingData);
            var _eventemitter = require('eventemitter3');
            var _eventemitter2 = _interopRequireDefault(_eventemitter);
            var _interactiveTarget = require('./interactiveTarget');
            var _interactiveTarget2 = _interopRequireDefault(_interactiveTarget);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            core.utils.mixins.delayMixin(core.DisplayObject.prototype, _interactiveTarget2.default);
            var MOUSE_POINTER_ID = 1;
            var hitTestEvent = {
                target: null,
                data: {
                    global: null
                }
            };
            var InteractionManager = function (_EventEmitter) {
                _inherits(InteractionManager, _EventEmitter);

                function InteractionManager(renderer, options) {
                    _classCallCheck(this, InteractionManager);
                    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));
                    options = options || {};
                    _this.renderer = renderer;
                    _this.autoPreventDefault = options.autoPreventDefault !== undefined ? options.autoPreventDefault : true;
                    _this.interactionFrequency = options.interactionFrequency || 10;
                    _this.mouse = new _InteractionData2.default();
                    _this.mouse.identifier = MOUSE_POINTER_ID;
                    _this.mouse.global.set(-999999);
                    _this.activeInteractionData = {};
                    _this.activeInteractionData[MOUSE_POINTER_ID] = _this.mouse;
                    _this.interactionDataPool = [];
                    _this.eventData = new _InteractionEvent2.default();
                    _this.interactionDOMElement = null;
                    _this.moveWhenInside = false;
                    _this.eventsAdded = false;
                    _this.mouseOverRenderer = false;
                    _this.supportsTouchEvents = 'ontouchstart' in window;
                    _this.supportsPointerEvents = !!window.PointerEvent;
                    _this.onPointerUp = _this.onPointerUp.bind(_this);
                    _this.processPointerUp = _this.processPointerUp.bind(_this);
                    _this.onPointerCancel = _this.onPointerCancel.bind(_this);
                    _this.processPointerCancel = _this.processPointerCancel.bind(_this);
                    _this.onPointerDown = _this.onPointerDown.bind(_this);
                    _this.processPointerDown = _this.processPointerDown.bind(_this);
                    _this.onPointerMove = _this.onPointerMove.bind(_this);
                    _this.processPointerMove = _this.processPointerMove.bind(_this);
                    _this.onPointerOut = _this.onPointerOut.bind(_this);
                    _this.processPointerOverOut = _this.processPointerOverOut.bind(_this);
                    _this.onPointerOver = _this.onPointerOver.bind(_this);
                    _this.cursorStyles = {
                        default: 'inherit',
                        pointer: 'pointer'
                    };
                    _this.currentCursorMode = null;
                    _this.cursor = null;
                    _this._tempPoint = new core.Point();
                    _this.resolution = 1;
                    _this.setTargetElement(_this.renderer.view, _this.renderer.resolution);
                    return _this;
                }
                InteractionManager.prototype.hitTest = function hitTest(globalPoint, root) {
                    hitTestEvent.target = null;
                    hitTestEvent.data.global = globalPoint;
                    if (!root) {
                        root = this.renderer._lastObjectRendered;
                    }
                    this.processInteractive(hitTestEvent, root, null, true);
                    return hitTestEvent.target;
                };
                InteractionManager.prototype.setTargetElement = function setTargetElement(element) {
                    var resolution = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
                    this.removeEvents();
                    this.interactionDOMElement = element;
                    this.resolution = resolution;
                    this.addEvents();
                };
                InteractionManager.prototype.addEvents = function addEvents() {
                    if (!this.interactionDOMElement) {
                        return;
                    }
                    core.ticker.shared.add(this.update, this, core.UPDATE_PRIORITY.INTERACTION);
                    if (window.navigator.msPointerEnabled) {
                        this.interactionDOMElement.style['-ms-content-zooming'] = 'none';
                        this.interactionDOMElement.style['-ms-touch-action'] = 'none';
                    } else if (this.supportsPointerEvents) {
                        this.interactionDOMElement.style['touch-action'] = 'none';
                    }
                    if (this.supportsPointerEvents) {
                        window.document.addEventListener('pointermove', this.onPointerMove, true);
                        this.interactionDOMElement.addEventListener('pointerdown', this.onPointerDown, true);
                        this.interactionDOMElement.addEventListener('pointerleave', this.onPointerOut, true);
                        this.interactionDOMElement.addEventListener('pointerover', this.onPointerOver, true);
                        window.addEventListener('pointercancel', this.onPointerCancel, true);
                        window.addEventListener('pointerup', this.onPointerUp, true);
                    } else {
                        window.document.addEventListener('mousemove', this.onPointerMove, true);
                        this.interactionDOMElement.addEventListener('mousedown', this.onPointerDown, true);
                        this.interactionDOMElement.addEventListener('mouseout', this.onPointerOut, true);
                        this.interactionDOMElement.addEventListener('mouseover', this.onPointerOver, true);
                        window.addEventListener('mouseup', this.onPointerUp, true);
                    }
                    if (this.supportsTouchEvents) {
                        this.interactionDOMElement.addEventListener('touchstart', this.onPointerDown, true);
                        this.interactionDOMElement.addEventListener('touchcancel', this.onPointerCancel, true);
                        this.interactionDOMElement.addEventListener('touchend', this.onPointerUp, true);
                        this.interactionDOMElement.addEventListener('touchmove', this.onPointerMove, true);
                    }
                    this.eventsAdded = true;
                };
                InteractionManager.prototype.removeEvents = function removeEvents() {
                    if (!this.interactionDOMElement) {
                        return;
                    }
                    core.ticker.shared.remove(this.update, this);
                    if (window.navigator.msPointerEnabled) {
                        this.interactionDOMElement.style['-ms-content-zooming'] = '';
                        this.interactionDOMElement.style['-ms-touch-action'] = '';
                    } else if (this.supportsPointerEvents) {
                        this.interactionDOMElement.style['touch-action'] = '';
                    }
                    if (this.supportsPointerEvents) {
                        window.document.removeEventListener('pointermove', this.onPointerMove, true);
                        this.interactionDOMElement.removeEventListener('pointerdown', this.onPointerDown, true);
                        this.interactionDOMElement.removeEventListener('pointerleave', this.onPointerOut, true);
                        this.interactionDOMElement.removeEventListener('pointerover', this.onPointerOver, true);
                        window.removeEventListener('pointercancel', this.onPointerCancel, true);
                        window.removeEventListener('pointerup', this.onPointerUp, true);
                    } else {
                        window.document.removeEventListener('mousemove', this.onPointerMove, true);
                        this.interactionDOMElement.removeEventListener('mousedown', this.onPointerDown, true);
                        this.interactionDOMElement.removeEventListener('mouseout', this.onPointerOut, true);
                        this.interactionDOMElement.removeEventListener('mouseover', this.onPointerOver, true);
                        window.removeEventListener('mouseup', this.onPointerUp, true);
                    }
                    if (this.supportsTouchEvents) {
                        this.interactionDOMElement.removeEventListener('touchstart', this.onPointerDown, true);
                        this.interactionDOMElement.removeEventListener('touchcancel', this.onPointerCancel, true);
                        this.interactionDOMElement.removeEventListener('touchend', this.onPointerUp, true);
                        this.interactionDOMElement.removeEventListener('touchmove', this.onPointerMove, true);
                    }
                    this.interactionDOMElement = null;
                    this.eventsAdded = false;
                };
                InteractionManager.prototype.update = function update(deltaTime) {
                    this._deltaTime += deltaTime;
                    if (this._deltaTime < this.interactionFrequency) {
                        return;
                    }
                    this._deltaTime = 0;
                    if (!this.interactionDOMElement) {
                        return;
                    }
                    if (this.didMove) {
                        this.didMove = false;
                        return;
                    }
                    this.cursor = null;
                    for (var k in this.activeInteractionData) {
                        if (this.activeInteractionData.hasOwnProperty(k)) {
                            var interactionData = this.activeInteractionData[k];
                            if (interactionData.originalEvent && interactionData.pointerType !== 'touch') {
                                var interactionEvent = this.configureInteractionEventForDOMEvent(this.eventData, interactionData.originalEvent, interactionData);
                                this.processInteractive(interactionEvent, this.renderer._lastObjectRendered, this.processPointerOverOut, true);
                            }
                        }
                    }
                    this.setCursorMode(this.cursor);
                };
                InteractionManager.prototype.setCursorMode = function setCursorMode(mode) {
                    mode = mode || 'default';
                    if (this.currentCursorMode === mode) {
                        return;
                    }
                    this.currentCursorMode = mode;
                    var style = this.cursorStyles[mode];
                    if (style) {
                        switch (typeof style === 'undefined' ? 'undefined' : _typeof(style)) {
                            case 'string':
                                this.interactionDOMElement.style.cursor = style;
                                break;
                            case 'function':
                                style(mode);
                                break;
                            case 'object':
                                Object.assign(this.interactionDOMElement.style, style);
                                break;
                        }
                    } else if (typeof mode === 'string' && !Object.prototype.hasOwnProperty.call(this.cursorStyles, mode)) {
                        this.interactionDOMElement.style.cursor = mode;
                    }
                };
                InteractionManager.prototype.dispatchEvent = function dispatchEvent(displayObject, eventString, eventData) {
                    if (!eventData.stopped) {
                        eventData.currentTarget = displayObject;
                        eventData.type = eventString;
                        displayObject.emit(eventString, eventData);
                        if (displayObject[eventString]) {
                            displayObject[eventString](eventData);
                        }
                    }
                };
                InteractionManager.prototype.mapPositionToPoint = function mapPositionToPoint(point, x, y) {
                    var rect = void 0;
                    if (!this.interactionDOMElement.parentElement) {
                        rect = {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        };
                    } else {
                        rect = this.interactionDOMElement.getBoundingClientRect();
                    }
                    var resolutionMultiplier = navigator.isCocoonJS ? this.resolution : 1.0 / this.resolution;
                    point.x = (x - rect.left) * (this.interactionDOMElement.width / rect.width) * resolutionMultiplier;
                    point.y = (y - rect.top) * (this.interactionDOMElement.height / rect.height) * resolutionMultiplier;
                };
                InteractionManager.prototype.processInteractive = function processInteractive(interactionEvent, displayObject, func, hitTest, interactive) {
                    if (!displayObject || !displayObject.visible) {
                        return false;
                    }
                    var point = interactionEvent.data.global;
                    interactive = displayObject.interactive || interactive;
                    var hit = false;
                    var interactiveParent = interactive;
                    var hitTestChildren = true;
                    if (displayObject.hitArea) {
                        if (hitTest) {
                            displayObject.worldTransform.applyInverse(point, this._tempPoint);
                            if (!displayObject.hitArea.contains(this._tempPoint.x, this._tempPoint.y)) {
                                hitTest = false;
                                hitTestChildren = false;
                            } else {
                                hit = true;
                            }
                        }
                        interactiveParent = false;
                    } else if (displayObject._mask) {
                        if (hitTest) {
                            if (!displayObject._mask.containsPoint(point)) {
                                hitTest = false;
                                hitTestChildren = false;
                            }
                        }
                    }
                    if (hitTestChildren && displayObject.interactiveChildren && displayObject.children) {
                        var children = displayObject.children;
                        for (var i = children.length - 1; i >= 0; i--) {
                            var child = children[i];
                            var childHit = this.processInteractive(interactionEvent, child, func, hitTest, interactiveParent);
                            if (childHit) {
                                if (!child.parent) {
                                    continue;
                                }
                                interactiveParent = false;
                                if (childHit) {
                                    if (interactionEvent.target) {
                                        hitTest = false;
                                    }
                                    hit = true;
                                }
                            }
                        }
                    }
                    if (interactive) {
                        if (hitTest && !interactionEvent.target) {
                            if (!displayObject.hitArea && displayObject.containsPoint) {
                                if (displayObject.containsPoint(point)) {
                                    hit = true;
                                }
                            }
                        }
                        if (displayObject.interactive) {
                            if (hit && !interactionEvent.target) {
                                interactionEvent.target = displayObject;
                            }
                            if (func) {
                                func(interactionEvent, displayObject, !!hit);
                            }
                        }
                    }
                    return hit;
                };
                InteractionManager.prototype.onPointerDown = function onPointerDown(originalEvent) {
                    if (this.supportsTouchEvents && originalEvent.pointerType === 'touch') return;
                    var events = this.normalizeToPointerData(originalEvent);
                    if (this.autoPreventDefault && events[0].isNormalized) {
                        originalEvent.preventDefault();
                    }
                    var eventLen = events.length;
                    for (var i = 0; i < eventLen; i++) {
                        var event = events[i];
                        var interactionData = this.getInteractionDataForPointerId(event);
                        var interactionEvent = this.configureInteractionEventForDOMEvent(this.eventData, event, interactionData);
                        interactionEvent.data.originalEvent = originalEvent;
                        this.processInteractive(interactionEvent, this.renderer._lastObjectRendered, this.processPointerDown, true);
                        this.emit('pointerdown', interactionEvent);
                        if (event.pointerType === 'touch') {
                            this.emit('touchstart', interactionEvent);
                        } else if (event.pointerType === 'mouse' || event.pointerType === 'pen') {
                            var isRightButton = event.button === 2;
                            this.emit(isRightButton ? 'rightdown' : 'mousedown', this.eventData);
                        }
                    }
                };
                InteractionManager.prototype.processPointerDown = function processPointerDown(interactionEvent, displayObject, hit) {
                    var data = interactionEvent.data;
                    var id = interactionEvent.data.identifier;
                    if (hit) {
                        if (!displayObject.trackedPointers[id]) {
                            displayObject.trackedPointers[id] = new _InteractionTrackingData2.default(id);
                        }
                        this.dispatchEvent(displayObject, 'pointerdown', interactionEvent);
                        if (data.pointerType === 'touch') {
                            this.dispatchEvent(displayObject, 'touchstart', interactionEvent);
                        } else if (data.pointerType === 'mouse' || data.pointerType === 'pen') {
                            var isRightButton = data.button === 2;
                            if (isRightButton) {
                                displayObject.trackedPointers[id].rightDown = true;
                            } else {
                                displayObject.trackedPointers[id].leftDown = true;
                            }
                            this.dispatchEvent(displayObject, isRightButton ? 'rightdown' : 'mousedown', interactionEvent);
                        }
                    }
                };
                InteractionManager.prototype.onPointerComplete = function onPointerComplete(originalEvent, cancelled, func) {
                    var events = this.normalizeToPointerData(originalEvent);
                    var eventLen = events.length;
                    var eventAppend = originalEvent.target !== this.interactionDOMElement ? 'outside' : '';
                    for (var i = 0; i < eventLen; i++) {
                        var event = events[i];
                        var interactionData = this.getInteractionDataForPointerId(event);
                        var interactionEvent = this.configureInteractionEventForDOMEvent(this.eventData, event, interactionData);
                        interactionEvent.data.originalEvent = originalEvent;
                        this.processInteractive(interactionEvent, this.renderer._lastObjectRendered, func, cancelled || !eventAppend);
                        this.emit(cancelled ? 'pointercancel' : 'pointerup' + eventAppend, interactionEvent);
                        if (event.pointerType === 'mouse' || event.pointerType === 'pen') {
                            var isRightButton = event.button === 2;
                            this.emit(isRightButton ? 'rightup' + eventAppend : 'mouseup' + eventAppend, interactionEvent);
                        } else if (event.pointerType === 'touch') {
                            this.emit(cancelled ? 'touchcancel' : 'touchend' + eventAppend, interactionEvent);
                            this.releaseInteractionDataForPointerId(event.pointerId, interactionData);
                        }
                    }
                };
                InteractionManager.prototype.onPointerCancel = function onPointerCancel(event) {
                    if (this.supportsTouchEvents && event.pointerType === 'touch') return;
                    this.onPointerComplete(event, true, this.processPointerCancel);
                };
                InteractionManager.prototype.processPointerCancel = function processPointerCancel(interactionEvent, displayObject) {
                    var data = interactionEvent.data;
                    var id = interactionEvent.data.identifier;
                    if (displayObject.trackedPointers[id] !== undefined) {
                        delete displayObject.trackedPointers[id];
                        this.dispatchEvent(displayObject, 'pointercancel', interactionEvent);
                        if (data.pointerType === 'touch') {
                            this.dispatchEvent(displayObject, 'touchcancel', interactionEvent);
                        }
                    }
                };
                InteractionManager.prototype.onPointerUp = function onPointerUp(event) {
                    if (this.supportsTouchEvents && event.pointerType === 'touch') return;
                    this.onPointerComplete(event, false, this.processPointerUp);
                };
                InteractionManager.prototype.processPointerUp = function processPointerUp(interactionEvent, displayObject, hit) {
                    var data = interactionEvent.data;
                    var id = interactionEvent.data.identifier;
                    var trackingData = displayObject.trackedPointers[id];
                    var isTouch = data.pointerType === 'touch';
                    var isMouse = data.pointerType === 'mouse' || data.pointerType === 'pen';
                    if (isMouse) {
                        var isRightButton = data.button === 2;
                        var flags = _InteractionTrackingData2.default.FLAGS;
                        var test = isRightButton ? flags.RIGHT_DOWN : flags.LEFT_DOWN;
                        var isDown = trackingData !== undefined && trackingData.flags & test;
                        if (hit) {
                            this.dispatchEvent(displayObject, isRightButton ? 'rightup' : 'mouseup', interactionEvent);
                            if (isDown) {
                                this.dispatchEvent(displayObject, isRightButton ? 'rightclick' : 'click', interactionEvent);
                            }
                        } else if (isDown) {
                            this.dispatchEvent(displayObject, isRightButton ? 'rightupoutside' : 'mouseupoutside', interactionEvent);
                        }
                        if (trackingData) {
                            if (isRightButton) {
                                trackingData.rightDown = false;
                            } else {
                                trackingData.leftDown = false;
                            }
                        }
                    }
                    if (hit) {
                        this.dispatchEvent(displayObject, 'pointerup', interactionEvent);
                        if (isTouch) this.dispatchEvent(displayObject, 'touchend', interactionEvent);
                        if (trackingData) {
                            this.dispatchEvent(displayObject, 'pointertap', interactionEvent);
                            if (isTouch) {
                                this.dispatchEvent(displayObject, 'tap', interactionEvent);
                                trackingData.over = false;
                            }
                        }
                    } else if (trackingData) {
                        this.dispatchEvent(displayObject, 'pointerupoutside', interactionEvent);
                        if (isTouch) this.dispatchEvent(displayObject, 'touchendoutside', interactionEvent);
                    }
                    if (trackingData && trackingData.none) {
                        delete displayObject.trackedPointers[id];
                    }
                };
                InteractionManager.prototype.onPointerMove = function onPointerMove(originalEvent) {
                    if (this.supportsTouchEvents && originalEvent.pointerType === 'touch') return;
                    var events = this.normalizeToPointerData(originalEvent);
                    if (events[0].pointerType === 'mouse') {
                        this.didMove = true;
                        this.cursor = null;
                    }
                    var eventLen = events.length;
                    for (var i = 0; i < eventLen; i++) {
                        var event = events[i];
                        var interactionData = this.getInteractionDataForPointerId(event);
                        var interactionEvent = this.configureInteractionEventForDOMEvent(this.eventData, event, interactionData);
                        interactionEvent.data.originalEvent = originalEvent;
                        var interactive = event.pointerType === 'touch' ? this.moveWhenInside : true;
                        this.processInteractive(interactionEvent, this.renderer._lastObjectRendered, this.processPointerMove, interactive);
                        this.emit('pointermove', interactionEvent);
                        if (event.pointerType === 'touch') this.emit('touchmove', interactionEvent);
                        if (event.pointerType === 'mouse' || event.pointerType === 'pen') this.emit('mousemove', interactionEvent);
                    }
                    if (events[0].pointerType === 'mouse') {
                        this.setCursorMode(this.cursor);
                    }
                };
                InteractionManager.prototype.processPointerMove = function processPointerMove(interactionEvent, displayObject, hit) {
                    var data = interactionEvent.data;
                    var isTouch = data.pointerType === 'touch';
                    var isMouse = data.pointerType === 'mouse' || data.pointerType === 'pen';
                    if (isMouse) {
                        this.processPointerOverOut(interactionEvent, displayObject, hit);
                    }
                    if (!this.moveWhenInside || hit) {
                        this.dispatchEvent(displayObject, 'pointermove', interactionEvent);
                        if (isTouch) this.dispatchEvent(displayObject, 'touchmove', interactionEvent);
                        if (isMouse) this.dispatchEvent(displayObject, 'mousemove', interactionEvent);
                    }
                };
                InteractionManager.prototype.onPointerOut = function onPointerOut(originalEvent) {
                    if (this.supportsTouchEvents && originalEvent.pointerType === 'touch') return;
                    var events = this.normalizeToPointerData(originalEvent);
                    var event = events[0];
                    if (event.pointerType === 'mouse') {
                        this.mouseOverRenderer = false;
                        this.setCursorMode(null);
                    }
                    var interactionData = this.getInteractionDataForPointerId(event);
                    var interactionEvent = this.configureInteractionEventForDOMEvent(this.eventData, event, interactionData);
                    interactionEvent.data.originalEvent = event;
                    this.processInteractive(interactionEvent, this.renderer._lastObjectRendered, this.processPointerOverOut, false);
                    this.emit('pointerout', interactionEvent);
                    if (event.pointerType === 'mouse' || event.pointerType === 'pen') {
                        this.emit('mouseout', interactionEvent);
                    } else {
                        this.releaseInteractionDataForPointerId(interactionData.identifier);
                    }
                };
                InteractionManager.prototype.processPointerOverOut = function processPointerOverOut(interactionEvent, displayObject, hit) {
                    var data = interactionEvent.data;
                    var id = interactionEvent.data.identifier;
                    var isMouse = data.pointerType === 'mouse' || data.pointerType === 'pen';
                    var trackingData = displayObject.trackedPointers[id];
                    if (hit && !trackingData) {
                        trackingData = displayObject.trackedPointers[id] = new _InteractionTrackingData2.default(id);
                    }
                    if (trackingData === undefined) return;
                    if (hit && this.mouseOverRenderer) {
                        if (!trackingData.over) {
                            trackingData.over = true;
                            this.dispatchEvent(displayObject, 'pointerover', interactionEvent);
                            if (isMouse) {
                                this.dispatchEvent(displayObject, 'mouseover', interactionEvent);
                            }
                        }
                        if (isMouse && this.cursor === null) {
                            this.cursor = displayObject.cursor;
                        }
                    } else if (trackingData.over) {
                        trackingData.over = false;
                        this.dispatchEvent(displayObject, 'pointerout', this.eventData);
                        if (isMouse) {
                            this.dispatchEvent(displayObject, 'mouseout', interactionEvent);
                        }
                        if (trackingData.none) {
                            delete displayObject.trackedPointers[id];
                        }
                    }
                };
                InteractionManager.prototype.onPointerOver = function onPointerOver(originalEvent) {
                    var events = this.normalizeToPointerData(originalEvent);
                    var event = events[0];
                    var interactionData = this.getInteractionDataForPointerId(event);
                    var interactionEvent = this.configureInteractionEventForDOMEvent(this.eventData, event, interactionData);
                    interactionEvent.data.originalEvent = event;
                    if (event.pointerType === 'mouse') {
                        this.mouseOverRenderer = true;
                    }
                    this.emit('pointerover', interactionEvent);
                    if (event.pointerType === 'mouse' || event.pointerType === 'pen') {
                        this.emit('mouseover', interactionEvent);
                    }
                };
                InteractionManager.prototype.getInteractionDataForPointerId = function getInteractionDataForPointerId(event) {
                    var pointerId = event.pointerId;
                    var interactionData = void 0;
                    if (pointerId === MOUSE_POINTER_ID || event.pointerType === 'mouse') {
                        interactionData = this.mouse;
                    } else if (this.activeInteractionData[pointerId]) {
                        interactionData = this.activeInteractionData[pointerId];
                    } else {
                        interactionData = this.interactionDataPool.pop() || new _InteractionData2.default();
                        interactionData.identifier = pointerId;
                        this.activeInteractionData[pointerId] = interactionData;
                    }
                    interactionData._copyEvent(event);
                    return interactionData;
                };
                InteractionManager.prototype.releaseInteractionDataForPointerId = function releaseInteractionDataForPointerId(pointerId) {
                    var interactionData = this.activeInteractionData[pointerId];
                    if (interactionData) {
                        delete this.activeInteractionData[pointerId];
                        interactionData._reset();
                        this.interactionDataPool.push(interactionData);
                    }
                };
                InteractionManager.prototype.configureInteractionEventForDOMEvent = function configureInteractionEventForDOMEvent(interactionEvent, pointerEvent, interactionData) {
                    interactionEvent.data = interactionData;
                    this.mapPositionToPoint(interactionData.global, pointerEvent.clientX, pointerEvent.clientY);
                    if (navigator.isCocoonJS && pointerEvent.pointerType === 'touch') {
                        interactionData.global.x = interactionData.global.x / this.resolution;
                        interactionData.global.y = interactionData.global.y / this.resolution;
                    }
                    if (pointerEvent.pointerType === 'touch') {
                        pointerEvent.globalX = interactionData.global.x;
                        pointerEvent.globalY = interactionData.global.y;
                    }
                    interactionData.originalEvent = pointerEvent;
                    interactionEvent._reset();
                    return interactionEvent;
                };
                InteractionManager.prototype.normalizeToPointerData = function normalizeToPointerData(event) {
                    var normalizedEvents = [];
                    if (this.supportsTouchEvents && event instanceof TouchEvent) {
                        for (var i = 0, li = event.changedTouches.length; i < li; i++) {
                            var touch = event.changedTouches[i];
                            if (typeof touch.button === 'undefined') touch.button = event.touches.length ? 1 : 0;
                            if (typeof touch.buttons === 'undefined') touch.buttons = event.touches.length ? 1 : 0;
                            if (typeof touch.isPrimary === 'undefined') {
                                touch.isPrimary = event.touches.length === 1 && event.type === 'touchstart';
                            }
                            if (typeof touch.width === 'undefined') touch.width = touch.radiusX || 1;
                            if (typeof touch.height === 'undefined') touch.height = touch.radiusY || 1;
                            if (typeof touch.tiltX === 'undefined') touch.tiltX = 0;
                            if (typeof touch.tiltY === 'undefined') touch.tiltY = 0;
                            if (typeof touch.pointerType === 'undefined') touch.pointerType = 'touch';
                            if (typeof touch.pointerId === 'undefined') touch.pointerId = touch.identifier || 0;
                            if (typeof touch.pressure === 'undefined') touch.pressure = touch.force || 0.5;
                            touch.twist = 0;
                            touch.tangentialPressure = 0;
                            if (typeof touch.layerX === 'undefined') touch.layerX = touch.offsetX = touch.clientX;
                            if (typeof touch.layerY === 'undefined') touch.layerY = touch.offsetY = touch.clientY;
                            touch.isNormalized = true;
                            normalizedEvents.push(touch);
                        }
                    } else if (event instanceof MouseEvent && (!this.supportsPointerEvents || !(event instanceof window.PointerEvent))) {
                        if (typeof event.isPrimary === 'undefined') event.isPrimary = true;
                        if (typeof event.width === 'undefined') event.width = 1;
                        if (typeof event.height === 'undefined') event.height = 1;
                        if (typeof event.tiltX === 'undefined') event.tiltX = 0;
                        if (typeof event.tiltY === 'undefined') event.tiltY = 0;
                        if (typeof event.pointerType === 'undefined') event.pointerType = 'mouse';
                        if (typeof event.pointerId === 'undefined') event.pointerId = MOUSE_POINTER_ID;
                        if (typeof event.pressure === 'undefined') event.pressure = 0.5;
                        event.twist = 0;
                        event.tangentialPressure = 0;
                        event.isNormalized = true;
                        normalizedEvents.push(event);
                    } else {
                        normalizedEvents.push(event);
                    }
                    return normalizedEvents;
                };
                InteractionManager.prototype.destroy = function destroy() {
                    this.removeEvents();
                    this.removeAllListeners();
                    this.renderer = null;
                    this.mouse = null;
                    this.eventData = null;
                    this.interactionDOMElement = null;
                    this.onPointerDown = null;
                    this.processPointerDown = null;
                    this.onPointerUp = null;
                    this.processPointerUp = null;
                    this.onPointerCancel = null;
                    this.processPointerCancel = null;
                    this.onPointerMove = null;
                    this.processPointerMove = null;
                    this.onPointerOut = null;
                    this.processPointerOverOut = null;
                    this.onPointerOver = null;
                    this._tempPoint = null;
                };
                return InteractionManager;
            }(_eventemitter2.default);
            exports.default = InteractionManager;
            core.WebGLRenderer.registerPlugin('interaction', InteractionManager);
            core.CanvasRenderer.registerPlugin('interaction', InteractionManager);
        }, {
            "../core": 65,
            "./InteractionData": 155,
            "./InteractionEvent": 156,
            "./InteractionTrackingData": 158,
            "./interactiveTarget": 160,
            "eventemitter3": 3
        }],
        158: [function (require, module, exports) {
            "use strict";
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var InteractionTrackingData = function () {
                function InteractionTrackingData(pointerId) {
                    _classCallCheck(this, InteractionTrackingData);
                    this._pointerId = pointerId;
                    this._flags = InteractionTrackingData.FLAGS.NONE;
                }
                InteractionTrackingData.prototype._doSet = function _doSet(flag, yn) {
                    if (yn) {
                        this._flags = this._flags | flag;
                    } else {
                        this._flags = this._flags & ~flag;
                    }
                };
                _createClass(InteractionTrackingData, [{
                    key: "pointerId",
                    get: function get() {
                        return this._pointerId;
                    }
                }, {
                    key: "flags",
                    get: function get() {
                        return this._flags;
                    },
                    set: function set(flags) {
                        this._flags = flags;
                    }
                }, {
                    key: "none",
                    get: function get() {
                        return this._flags === this.constructor.FLAGS.NONE;
                    }
                }, {
                    key: "over",
                    get: function get() {
                        return (this._flags & this.constructor.FLAGS.OVER) !== 0;
                    },
                    set: function set(yn) {
                        this._doSet(this.constructor.FLAGS.OVER, yn);
                    }
                }, {
                    key: "rightDown",
                    get: function get() {
                        return (this._flags & this.constructor.FLAGS.RIGHT_DOWN) !== 0;
                    },
                    set: function set(yn) {
                        this._doSet(this.constructor.FLAGS.RIGHT_DOWN, yn);
                    }
                }, {
                    key: "leftDown",
                    get: function get() {
                        return (this._flags & this.constructor.FLAGS.LEFT_DOWN) !== 0;
                    },
                    set: function set(yn) {
                        this._doSet(this.constructor.FLAGS.LEFT_DOWN, yn);
                    }
                }]);
                return InteractionTrackingData;
            }();
            exports.default = InteractionTrackingData;
            InteractionTrackingData.FLAGS = Object.freeze({
                NONE: 0,
                OVER: 1 << 0,
                LEFT_DOWN: 1 << 1,
                RIGHT_DOWN: 1 << 2
            });
        }, {}],
        159: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _InteractionData = require('./InteractionData');
            Object.defineProperty(exports, 'InteractionData', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_InteractionData).default;
                }
            });
            var _InteractionManager = require('./InteractionManager');
            Object.defineProperty(exports, 'InteractionManager', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_InteractionManager).default;
                }
            });
            var _interactiveTarget = require('./interactiveTarget');
            Object.defineProperty(exports, 'interactiveTarget', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_interactiveTarget).default;
                }
            });
            var _InteractionTrackingData = require('./InteractionTrackingData');
            Object.defineProperty(exports, 'InteractionTrackingData', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_InteractionTrackingData).default;
                }
            });
            var _InteractionEvent = require('./InteractionEvent');
            Object.defineProperty(exports, 'InteractionEvent', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_InteractionEvent).default;
                }
            });

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
        }, {
            "./InteractionData": 155,
            "./InteractionEvent": 156,
            "./InteractionManager": 157,
            "./InteractionTrackingData": 158,
            "./interactiveTarget": 160
        }],
        160: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = {
                interactive: false,
                interactiveChildren: true,
                hitArea: null,
                get buttonMode() {
                    return this.cursor === 'pointer';
                },
                set buttonMode(value) {
                    if (value) {
                        this.cursor = 'pointer';
                    } else if (this.cursor === 'pointer') {
                        this.cursor = null;
                    }
                },
                cursor: null,
                get trackedPointers() {
                    if (this._trackedPointers === undefined) this._trackedPointers = {};
                    return this._trackedPointers;
                },
                _trackedPointers: undefined
            };
        }, {}],
        161: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.parse = parse;
            exports.default = function () {
                return function bitmapFontParser(resource, next) {
                    if (!resource.data || resource.type !== _resourceLoader.Resource.TYPE.XML) {
                        next();
                        return;
                    }
                    if (resource.data.getElementsByTagName('page').length === 0 || resource.data.getElementsByTagName('info').length === 0 || resource.data.getElementsByTagName('info')[0].getAttribute('face') === null) {
                        next();
                        return;
                    }
                    var xmlUrl = !resource.isDataUrl ? path.dirname(resource.url) : '';
                    if (resource.isDataUrl) {
                        if (xmlUrl === '.') {
                            xmlUrl = '';
                        }
                        if (this.baseUrl && xmlUrl) {
                            if (this.baseUrl.charAt(this.baseUrl.length - 1) === '/') {
                                xmlUrl += '/';
                            }
                        }
                    }
                    xmlUrl = xmlUrl.replace(this.baseUrl, '');
                    if (xmlUrl && xmlUrl.charAt(xmlUrl.length - 1) !== '/') {
                        xmlUrl += '/';
                    }
                    var textureUrl = xmlUrl + resource.data.getElementsByTagName('page')[0].getAttribute('file');
                    if (_core.utils.TextureCache[textureUrl]) {
                        parse(resource, _core.utils.TextureCache[textureUrl]);
                        next();
                    } else {
                        var loadOptions = {
                            crossOrigin: resource.crossOrigin,
                            loadType: _resourceLoader.Resource.LOAD_TYPE.IMAGE,
                            metadata: resource.metadata.imageMetadata,
                            parentResource: resource
                        };
                        this.add(resource.name + '_image', textureUrl, loadOptions, function (res) {
                            parse(resource, res.texture);
                            next();
                        });
                    }
                };
            };
            var _path = require('path');
            var path = _interopRequireWildcard(_path);
            var _core = require('../core');
            var _resourceLoader = require('resource-loader');
            var _extras = require('../extras');

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function parse(resource, texture) {
                resource.bitmapFont = _extras.BitmapText.registerFont(resource.data, texture);
            }
        }, {
            "../core": 65,
            "../extras": 141,
            "path": 8,
            "resource-loader": 36
        }],
        162: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.shared = exports.Resource = exports.textureParser = exports.getResourcePath = exports.spritesheetParser = exports.parseBitmapFontData = exports.bitmapFontParser = exports.Loader = undefined;
            var _bitmapFontParser = require('./bitmapFontParser');
            Object.defineProperty(exports, 'bitmapFontParser', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_bitmapFontParser).default;
                }
            });
            Object.defineProperty(exports, 'parseBitmapFontData', {
                enumerable: true,
                get: function get() {
                    return _bitmapFontParser.parse;
                }
            });
            var _spritesheetParser = require('./spritesheetParser');
            Object.defineProperty(exports, 'spritesheetParser', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_spritesheetParser).default;
                }
            });
            Object.defineProperty(exports, 'getResourcePath', {
                enumerable: true,
                get: function get() {
                    return _spritesheetParser.getResourcePath;
                }
            });
            var _textureParser = require('./textureParser');
            Object.defineProperty(exports, 'textureParser', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_textureParser).default;
                }
            });
            var _resourceLoader = require('resource-loader');
            Object.defineProperty(exports, 'Resource', {
                enumerable: true,
                get: function get() {
                    return _resourceLoader.Resource;
                }
            });
            var _Application = require('../core/Application');
            var _Application2 = _interopRequireDefault(_Application);
            var _loader = require('./loader');
            var _loader2 = _interopRequireDefault(_loader);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
            exports.Loader = _loader2.default;
            var shared = new _loader2.default();
            shared.destroy = function () {};
            exports.shared = shared;
            var AppPrototype = _Application2.default.prototype;
            AppPrototype._loader = null;
            Object.defineProperty(AppPrototype, 'loader', {
                get: function get() {
                    if (!this._loader) {
                        var sharedLoader = this._options.sharedLoader;
                        this._loader = sharedLoader ? shared : new _loader2.default();
                    }
                    return this._loader;
                }
            });
            AppPrototype._parentDestroy = AppPrototype.destroy;
            AppPrototype.destroy = function destroy(removeView) {
                if (this._loader) {
                    this._loader.destroy();
                    this._loader = null;
                }
                this._parentDestroy(removeView);
            };
        }, {
            "../core/Application": 43,
            "./bitmapFontParser": 161,
            "./loader": 163,
            "./spritesheetParser": 164,
            "./textureParser": 165,
            "resource-loader": 36
        }],
        163: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _resourceLoader = require('resource-loader');
            var _resourceLoader2 = _interopRequireDefault(_resourceLoader);
            var _blob = require('resource-loader/lib/middlewares/parsing/blob');
            var _eventemitter = require('eventemitter3');
            var _eventemitter2 = _interopRequireDefault(_eventemitter);
            var _textureParser = require('./textureParser');
            var _textureParser2 = _interopRequireDefault(_textureParser);
            var _spritesheetParser = require('./spritesheetParser');
            var _spritesheetParser2 = _interopRequireDefault(_spritesheetParser);
            var _bitmapFontParser = require('./bitmapFontParser');
            var _bitmapFontParser2 = _interopRequireDefault(_bitmapFontParser);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Loader = function (_ResourceLoader) {
                _inherits(Loader, _ResourceLoader);

                function Loader(baseUrl, concurrency) {
                    _classCallCheck(this, Loader);
                    var _this = _possibleConstructorReturn(this, _ResourceLoader.call(this, baseUrl, concurrency));
                    _eventemitter2.default.call(_this);
                    for (var i = 0; i < Loader._pixiMiddleware.length; ++i) {
                        _this.use(Loader._pixiMiddleware[i]());
                    }
                    _this.onStart.add(function (l) {
                        return _this.emit('start', l);
                    });
                    _this.onProgress.add(function (l, r) {
                        return _this.emit('progress', l, r);
                    });
                    _this.onError.add(function (e, l, r) {
                        return _this.emit('error', e, l, r);
                    });
                    _this.onLoad.add(function (l, r) {
                        return _this.emit('load', l, r);
                    });
                    _this.onComplete.add(function (l, r) {
                        return _this.emit('complete', l, r);
                    });
                    return _this;
                }
                Loader.addPixiMiddleware = function addPixiMiddleware(fn) {
                    Loader._pixiMiddleware.push(fn);
                };
                Loader.prototype.destroy = function destroy() {
                    this.removeAllListeners();
                    this.reset();
                };
                return Loader;
            }(_resourceLoader2.default);
            exports.default = Loader;
            for (var k in _eventemitter2.default.prototype) {
                Loader.prototype[k] = _eventemitter2.default.prototype[k];
            }
            Loader._pixiMiddleware = [_blob.blobMiddlewareFactory, _textureParser2.default, _spritesheetParser2.default, _bitmapFontParser2.default];
            var Resource = _resourceLoader2.default.Resource;
            Resource.setExtensionXhrType('fnt', Resource.XHR_RESPONSE_TYPE.DOCUMENT);
        }, {
            "./bitmapFontParser": 161,
            "./spritesheetParser": 164,
            "./textureParser": 165,
            "eventemitter3": 3,
            "resource-loader": 36,
            "resource-loader/lib/middlewares/parsing/blob": 37
        }],
        164: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = function () {
                return function spritesheetParser(resource, next) {
                    var imageResourceName = resource.name + '_image';
                    if (!resource.data || resource.type !== _resourceLoader.Resource.TYPE.JSON || !resource.data.frames || this.resources[imageResourceName]) {
                        next();
                        return;
                    }
                    var loadOptions = {
                        crossOrigin: resource.crossOrigin,
                        metadata: resource.metadata.imageMetadata,
                        parentResource: resource
                    };
                    var resourcePath = getResourcePath(resource, this.baseUrl);
                    this.add(imageResourceName, resourcePath, loadOptions, function onImageLoad(res) {
                        if (res.error) {
                            next(res.error);
                            return;
                        }
                        var spritesheet = new _core.Spritesheet(res.texture.baseTexture, resource.data, resource.url);
                        spritesheet.parse(function () {
                            resource.spritesheet = spritesheet;
                            resource.textures = spritesheet.textures;
                            next();
                        });
                    });
                };
            };
            exports.getResourcePath = getResourcePath;
            var _resourceLoader = require('resource-loader');
            var _url = require('url');
            var _url2 = _interopRequireDefault(_url);
            var _core = require('../core');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function getResourcePath(resource, baseUrl) {
                if (resource.isDataUrl) {
                    return resource.data.meta.image;
                }
                return _url2.default.resolve(resource.url.replace(baseUrl, ''), resource.data.meta.image);
            }
        }, {
            "../core": 65,
            "resource-loader": 36,
            "url": 38
        }],
        165: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            exports.default = function () {
                return function textureParser(resource, next) {
                    if (resource.data && resource.type === _resourceLoader.Resource.TYPE.IMAGE) {
                        resource.texture = _Texture2.default.fromLoader(resource.data, resource.url, resource.name);
                    }
                    next();
                };
            };
            var _resourceLoader = require('resource-loader');
            var _Texture = require('../core/textures/Texture');
            var _Texture2 = _interopRequireDefault(_Texture);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
        }, {
            "../core/textures/Texture": 115,
            "resource-loader": 36
        }],
        166: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _core = require('../core');
            var core = _interopRequireWildcard(_core);
            var _Texture = require('../core/textures/Texture');
            var _Texture2 = _interopRequireDefault(_Texture);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var tempPoint = new core.Point();
            var tempPolygon = new core.Polygon();
            var Mesh = function (_core$Container) {
                _inherits(Mesh, _core$Container);

                function Mesh(texture, vertices, uvs, indices, drawMode) {
                    _classCallCheck(this, Mesh);
                    var _this = _possibleConstructorReturn(this, _core$Container.call(this));
                    _this._texture = texture || _Texture2.default.EMPTY;
                    _this.uvs = uvs || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]);
                    _this.vertices = vertices || new Float32Array([0, 0, 100, 0, 100, 100, 0, 100]);
                    _this.indices = indices || new Uint16Array([0, 1, 3, 2]);
                    _this.dirty = 0;
                    _this.indexDirty = 0;
                    _this.blendMode = core.BLEND_MODES.NORMAL;
                    _this.canvasPadding = core.settings.MESH_CANVAS_PADDING;
                    _this.drawMode = drawMode || Mesh.DRAW_MODES.TRIANGLE_MESH;
                    _this.shader = null;
                    _this.tintRgb = new Float32Array([1, 1, 1]);
                    _this._glDatas = {};
                    _this._uvTransform = new core.TextureMatrix(_this._texture);
                    _this.uploadUvTransform = false;
                    _this.pluginName = 'mesh';
                    return _this;
                }
                Mesh.prototype._renderWebGL = function _renderWebGL(renderer) {
                    this.refresh();
                    renderer.setObjectRenderer(renderer.plugins[this.pluginName]);
                    renderer.plugins[this.pluginName].render(this);
                };
                Mesh.prototype._renderCanvas = function _renderCanvas(renderer) {
                    this.refresh();
                    renderer.plugins[this.pluginName].render(this);
                };
                Mesh.prototype._onTextureUpdate = function _onTextureUpdate() {
                    this._uvTransform.texture = this._texture;
                    this.refresh();
                };
                Mesh.prototype.multiplyUvs = function multiplyUvs() {
                    if (!this.uploadUvTransform) {
                        this._uvTransform.multiplyUvs(this.uvs);
                    }
                };
                Mesh.prototype.refresh = function refresh(forceUpdate) {
                    if (this._uvTransform.update(forceUpdate)) {
                        this._refresh();
                    }
                };
                Mesh.prototype._refresh = function _refresh() {};
                Mesh.prototype._calculateBounds = function _calculateBounds() {
                    this._bounds.addVertices(this.transform, this.vertices, 0, this.vertices.length);
                };
                Mesh.prototype.containsPoint = function containsPoint(point) {
                    if (!this.getBounds().contains(point.x, point.y)) {
                        return false;
                    }
                    this.worldTransform.applyInverse(point, tempPoint);
                    var vertices = this.vertices;
                    var points = tempPolygon.points;
                    var indices = this.indices;
                    var len = this.indices.length;
                    var step = this.drawMode === Mesh.DRAW_MODES.TRIANGLES ? 3 : 1;
                    for (var i = 0; i + 2 < len; i += step) {
                        var ind0 = indices[i] * 2;
                        var ind1 = indices[i + 1] * 2;
                        var ind2 = indices[i + 2] * 2;
                        points[0] = vertices[ind0];
                        points[1] = vertices[ind0 + 1];
                        points[2] = vertices[ind1];
                        points[3] = vertices[ind1 + 1];
                        points[4] = vertices[ind2];
                        points[5] = vertices[ind2 + 1];
                        if (tempPolygon.contains(tempPoint.x, tempPoint.y)) {
                            return true;
                        }
                    }
                    return false;
                };
                _createClass(Mesh, [{
                    key: 'texture',
                    get: function get() {
                        return this._texture;
                    },
                    set: function set(value) {
                        if (this._texture === value) {
                            return;
                        }
                        this._texture = value;
                        if (value) {
                            if (value.baseTexture.hasLoaded) {
                                this._onTextureUpdate();
                            } else {
                                value.once('update', this._onTextureUpdate, this);
                            }
                        }
                    }
                }, {
                    key: 'tint',
                    get: function get() {
                        return core.utils.rgb2hex(this.tintRgb);
                    },
                    set: function set(value) {
                        this.tintRgb = core.utils.hex2rgb(value, this.tintRgb);
                    }
                }]);
                return Mesh;
            }(core.Container);
            exports.default = Mesh;
            Mesh.DRAW_MODES = {
                TRIANGLE_MESH: 0,
                TRIANGLES: 1
            };
        }, {
            "../core": 65,
            "../core/textures/Texture": 115
        }],
        167: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _Plane2 = require('./Plane');
            var _Plane3 = _interopRequireDefault(_Plane2);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var DEFAULT_BORDER_SIZE = 10;
            var NineSlicePlane = function (_Plane) {
                _inherits(NineSlicePlane, _Plane);

                function NineSlicePlane(texture, leftWidth, topHeight, rightWidth, bottomHeight) {
                    _classCallCheck(this, NineSlicePlane);
                    var _this = _possibleConstructorReturn(this, _Plane.call(this, texture, 4, 4));
                    _this._origWidth = texture.orig.width;
                    _this._origHeight = texture.orig.height;
                    _this._width = _this._origWidth;
                    _this._height = _this._origHeight;
                    _this.leftWidth = typeof leftWidth !== 'undefined' ? leftWidth : DEFAULT_BORDER_SIZE;
                    _this.rightWidth = typeof rightWidth !== 'undefined' ? rightWidth : DEFAULT_BORDER_SIZE;
                    _this.topHeight = typeof topHeight !== 'undefined' ? topHeight : DEFAULT_BORDER_SIZE;
                    _this.bottomHeight = typeof bottomHeight !== 'undefined' ? bottomHeight : DEFAULT_BORDER_SIZE;
                    _this.refresh(true);
                    return _this;
                }
                NineSlicePlane.prototype.updateHorizontalVertices = function updateHorizontalVertices() {
                    var vertices = this.vertices;
                    vertices[9] = vertices[11] = vertices[13] = vertices[15] = this._topHeight;
                    vertices[17] = vertices[19] = vertices[21] = vertices[23] = this._height - this._bottomHeight;
                    vertices[25] = vertices[27] = vertices[29] = vertices[31] = this._height;
                };
                NineSlicePlane.prototype.updateVerticalVertices = function updateVerticalVertices() {
                    var vertices = this.vertices;
                    vertices[2] = vertices[10] = vertices[18] = vertices[26] = this._leftWidth;
                    vertices[4] = vertices[12] = vertices[20] = vertices[28] = this._width - this._rightWidth;
                    vertices[6] = vertices[14] = vertices[22] = vertices[30] = this._width;
                };
                NineSlicePlane.prototype._renderCanvas = function _renderCanvas(renderer) {
                    var context = renderer.context;
                    context.globalAlpha = this.worldAlpha;
                    renderer.setBlendMode(this.blendMode);
                    var transform = this.worldTransform;
                    var res = renderer.resolution;
                    if (renderer.roundPixels) {
                        context.setTransform(transform.a * res, transform.b * res, transform.c * res, transform.d * res, transform.tx * res | 0, transform.ty * res | 0);
                    } else {
                        context.setTransform(transform.a * res, transform.b * res, transform.c * res, transform.d * res, transform.tx * res, transform.ty * res);
                    }
                    var base = this._texture.baseTexture;
                    var textureSource = base.source;
                    var w = base.width * base.resolution;
                    var h = base.height * base.resolution;
                    this.drawSegment(context, textureSource, w, h, 0, 1, 10, 11);
                    this.drawSegment(context, textureSource, w, h, 2, 3, 12, 13);
                    this.drawSegment(context, textureSource, w, h, 4, 5, 14, 15);
                    this.drawSegment(context, textureSource, w, h, 8, 9, 18, 19);
                    this.drawSegment(context, textureSource, w, h, 10, 11, 20, 21);
                    this.drawSegment(context, textureSource, w, h, 12, 13, 22, 23);
                    this.drawSegment(context, textureSource, w, h, 16, 17, 26, 27);
                    this.drawSegment(context, textureSource, w, h, 18, 19, 28, 29);
                    this.drawSegment(context, textureSource, w, h, 20, 21, 30, 31);
                };
                NineSlicePlane.prototype.drawSegment = function drawSegment(context, textureSource, w, h, x1, y1, x2, y2) {
                    var uvs = this.uvs;
                    var vertices = this.vertices;
                    var sw = (uvs[x2] - uvs[x1]) * w;
                    var sh = (uvs[y2] - uvs[y1]) * h;
                    var dw = vertices[x2] - vertices[x1];
                    var dh = vertices[y2] - vertices[y1];
                    if (sw < 1) {
                        sw = 1;
                    }
                    if (sh < 1) {
                        sh = 1;
                    }
                    if (dw < 1) {
                        dw = 1;
                    }
                    if (dh < 1) {
                        dh = 1;
                    }
                    context.drawImage(textureSource, uvs[x1] * w, uvs[y1] * h, sw, sh, vertices[x1], vertices[y1], dw, dh);
                };
                NineSlicePlane.prototype._refresh = function _refresh() {
                    _Plane.prototype._refresh.call(this);
                    var uvs = this.uvs;
                    var texture = this._texture;
                    this._origWidth = texture.orig.width;
                    this._origHeight = texture.orig.height;
                    var _uvw = 1.0 / this._origWidth;
                    var _uvh = 1.0 / this._origHeight;
                    uvs[0] = uvs[8] = uvs[16] = uvs[24] = 0;
                    uvs[1] = uvs[3] = uvs[5] = uvs[7] = 0;
                    uvs[6] = uvs[14] = uvs[22] = uvs[30] = 1;
                    uvs[25] = uvs[27] = uvs[29] = uvs[31] = 1;
                    uvs[2] = uvs[10] = uvs[18] = uvs[26] = _uvw * this._leftWidth;
                    uvs[4] = uvs[12] = uvs[20] = uvs[28] = 1 - _uvw * this._rightWidth;
                    uvs[9] = uvs[11] = uvs[13] = uvs[15] = _uvh * this._topHeight;
                    uvs[17] = uvs[19] = uvs[21] = uvs[23] = 1 - _uvh * this._bottomHeight;
                    this.updateHorizontalVertices();
                    this.updateVerticalVertices();
                    this.dirty++;
                    this.multiplyUvs();
                };
                _createClass(NineSlicePlane, [{
                    key: 'width',
                    get: function get() {
                        return this._width;
                    },
                    set: function set(value) {
                        this._width = value;
                        this._refresh();
                    }
                }, {
                    key: 'height',
                    get: function get() {
                        return this._height;
                    },
                    set: function set(value) {
                        this._height = value;
                        this._refresh();
                    }
                }, {
                    key: 'leftWidth',
                    get: function get() {
                        return this._leftWidth;
                    },
                    set: function set(value) {
                        this._leftWidth = value;
                        this._refresh();
                    }
                }, {
                    key: 'rightWidth',
                    get: function get() {
                        return this._rightWidth;
                    },
                    set: function set(value) {
                        this._rightWidth = value;
                        this._refresh();
                    }
                }, {
                    key: 'topHeight',
                    get: function get() {
                        return this._topHeight;
                    },
                    set: function set(value) {
                        this._topHeight = value;
                        this._refresh();
                    }
                }, {
                    key: 'bottomHeight',
                    get: function get() {
                        return this._bottomHeight;
                    },
                    set: function set(value) {
                        this._bottomHeight = value;
                        this._refresh();
                    }
                }]);
                return NineSlicePlane;
            }(_Plane3.default);
            exports.default = NineSlicePlane;
        }, {
            "./Plane": 168
        }],
        168: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _Mesh2 = require('./Mesh');
            var _Mesh3 = _interopRequireDefault(_Mesh2);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Plane = function (_Mesh) {
                _inherits(Plane, _Mesh);

                function Plane(texture, verticesX, verticesY) {
                    _classCallCheck(this, Plane);
                    var _this = _possibleConstructorReturn(this, _Mesh.call(this, texture));
                    _this._ready = true;
                    _this.verticesX = verticesX || 10;
                    _this.verticesY = verticesY || 10;
                    _this.drawMode = _Mesh3.default.DRAW_MODES.TRIANGLES;
                    _this.refresh();
                    return _this;
                }
                Plane.prototype._refresh = function _refresh() {
                    var texture = this._texture;
                    var total = this.verticesX * this.verticesY;
                    var verts = [];
                    var colors = [];
                    var uvs = [];
                    var indices = [];
                    var segmentsX = this.verticesX - 1;
                    var segmentsY = this.verticesY - 1;
                    var sizeX = texture.width / segmentsX;
                    var sizeY = texture.height / segmentsY;
                    for (var i = 0; i < total; i++) {
                        var x = i % this.verticesX;
                        var y = i / this.verticesX | 0;
                        verts.push(x * sizeX, y * sizeY);
                        uvs.push(x / segmentsX, y / segmentsY);
                    }
                    var totalSub = segmentsX * segmentsY;
                    for (var _i = 0; _i < totalSub; _i++) {
                        var xpos = _i % segmentsX;
                        var ypos = _i / segmentsX | 0;
                        var value = ypos * this.verticesX + xpos;
                        var value2 = ypos * this.verticesX + xpos + 1;
                        var value3 = (ypos + 1) * this.verticesX + xpos;
                        var value4 = (ypos + 1) * this.verticesX + xpos + 1;
                        indices.push(value, value2, value3);
                        indices.push(value2, value4, value3);
                    }
                    this.vertices = new Float32Array(verts);
                    this.uvs = new Float32Array(uvs);
                    this.colors = new Float32Array(colors);
                    this.indices = new Uint16Array(indices);
                    this.dirty++;
                    this.indexDirty++;
                    this.multiplyUvs();
                };
                Plane.prototype._onTextureUpdate = function _onTextureUpdate() {
                    _Mesh3.default.prototype._onTextureUpdate.call(this);
                    if (this._ready) {
                        this.refresh();
                    }
                };
                return Plane;
            }(_Mesh3.default);
            exports.default = Plane;
        }, {
            "./Mesh": 166
        }],
        169: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _Mesh2 = require('./Mesh');
            var _Mesh3 = _interopRequireDefault(_Mesh2);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Rope = function (_Mesh) {
                _inherits(Rope, _Mesh);

                function Rope(texture, points) {
                    _classCallCheck(this, Rope);
                    var _this = _possibleConstructorReturn(this, _Mesh.call(this, texture));
                    _this.points = points;
                    _this.vertices = new Float32Array(points.length * 4);
                    _this.uvs = new Float32Array(points.length * 4);
                    _this.colors = new Float32Array(points.length * 2);
                    _this.indices = new Uint16Array(points.length * 2);
                    _this.autoUpdate = true;
                    _this.refresh();
                    return _this;
                }
                Rope.prototype._refresh = function _refresh() {
                    var points = this.points;
                    if (points.length < 1 || !this._texture._uvs) {
                        return;
                    }
                    if (this.vertices.length / 4 !== points.length) {
                        this.vertices = new Float32Array(points.length * 4);
                        this.uvs = new Float32Array(points.length * 4);
                        this.colors = new Float32Array(points.length * 2);
                        this.indices = new Uint16Array(points.length * 2);
                    }
                    var uvs = this.uvs;
                    var indices = this.indices;
                    var colors = this.colors;
                    uvs[0] = 0;
                    uvs[1] = 0;
                    uvs[2] = 0;
                    uvs[3] = 1;
                    colors[0] = 1;
                    colors[1] = 1;
                    indices[0] = 0;
                    indices[1] = 1;
                    var total = points.length;
                    for (var i = 1; i < total; i++) {
                        var index = i * 4;
                        var amount = i / (total - 1);
                        uvs[index] = amount;
                        uvs[index + 1] = 0;
                        uvs[index + 2] = amount;
                        uvs[index + 3] = 1;
                        index = i * 2;
                        colors[index] = 1;
                        colors[index + 1] = 1;
                        index = i * 2;
                        indices[index] = index;
                        indices[index + 1] = index + 1;
                    }
                    this.dirty++;
                    this.indexDirty++;
                    this.multiplyUvs();
                    this.refreshVertices();
                };
                Rope.prototype.refreshVertices = function refreshVertices() {
                    var points = this.points;
                    if (points.length < 1) {
                        return;
                    }
                    var lastPoint = points[0];
                    var nextPoint = void 0;
                    var perpX = 0;
                    var perpY = 0;
                    var vertices = this.vertices;
                    var total = points.length;
                    for (var i = 0; i < total; i++) {
                        var point = points[i];
                        var index = i * 4;
                        if (i < points.length - 1) {
                            nextPoint = points[i + 1];
                        } else {
                            nextPoint = point;
                        }
                        perpY = -(nextPoint.x - lastPoint.x);
                        perpX = nextPoint.y - lastPoint.y;
                        var ratio = (1 - i / (total - 1)) * 10;
                        if (ratio > 1) {
                            ratio = 1;
                        }
                        var perpLength = Math.sqrt(perpX * perpX + perpY * perpY);
                        var num = this._texture.height / 2;
                        perpX /= perpLength;
                        perpY /= perpLength;
                        perpX *= num;
                        perpY *= num;
                        vertices[index] = point.x + perpX;
                        vertices[index + 1] = point.y + perpY;
                        vertices[index + 2] = point.x - perpX;
                        vertices[index + 3] = point.y - perpY;
                        lastPoint = point;
                    }
                };
                Rope.prototype.updateTransform = function updateTransform() {
                    if (this.autoUpdate) {
                        this.refreshVertices();
                    }
                    this.containerUpdateTransform();
                };
                return Rope;
            }(_Mesh3.default);
            exports.default = Rope;
        }, {
            "./Mesh": 166
        }],
        170: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _core = require('../../core');
            var core = _interopRequireWildcard(_core);
            var _Mesh = require('../Mesh');
            var _Mesh2 = _interopRequireDefault(_Mesh);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var MeshSpriteRenderer = function () {
                function MeshSpriteRenderer(renderer) {
                    _classCallCheck(this, MeshSpriteRenderer);
                    this.renderer = renderer;
                }
                MeshSpriteRenderer.prototype.render = function render(mesh) {
                    var renderer = this.renderer;
                    var context = renderer.context;
                    var transform = mesh.worldTransform;
                    var res = renderer.resolution;
                    if (renderer.roundPixels) {
                        context.setTransform(transform.a * res, transform.b * res, transform.c * res, transform.d * res, transform.tx * res | 0, transform.ty * res | 0);
                    } else {
                        context.setTransform(transform.a * res, transform.b * res, transform.c * res, transform.d * res, transform.tx * res, transform.ty * res);
                    }
                    renderer.context.globalAlpha = mesh.worldAlpha;
                    renderer.setBlendMode(mesh.blendMode);
                    if (mesh.drawMode === _Mesh2.default.DRAW_MODES.TRIANGLE_MESH) {
                        this._renderTriangleMesh(mesh);
                    } else {
                        this._renderTriangles(mesh);
                    }
                };
                MeshSpriteRenderer.prototype._renderTriangleMesh = function _renderTriangleMesh(mesh) {
                    var length = mesh.vertices.length / 2;
                    for (var i = 0; i < length - 2; i++) {
                        var index = i * 2;
                        this._renderDrawTriangle(mesh, index, index + 2, index + 4);
                    }
                };
                MeshSpriteRenderer.prototype._renderTriangles = function _renderTriangles(mesh) {
                    var indices = mesh.indices;
                    var length = indices.length;
                    for (var i = 0; i < length; i += 3) {
                        var index0 = indices[i] * 2;
                        var index1 = indices[i + 1] * 2;
                        var index2 = indices[i + 2] * 2;
                        this._renderDrawTriangle(mesh, index0, index1, index2);
                    }
                };
                MeshSpriteRenderer.prototype._renderDrawTriangle = function _renderDrawTriangle(mesh, index0, index1, index2) {
                    var context = this.renderer.context;
                    var uvs = mesh.uvs;
                    var vertices = mesh.vertices;
                    var texture = mesh._texture;
                    if (!texture.valid) {
                        return;
                    }
                    var base = texture.baseTexture;
                    var textureSource = base.source;
                    var textureWidth = base.width;
                    var textureHeight = base.height;
                    var u0 = void 0;
                    var u1 = void 0;
                    var u2 = void 0;
                    var v0 = void 0;
                    var v1 = void 0;
                    var v2 = void 0;
                    if (mesh.uploadUvTransform) {
                        var ut = mesh._uvTransform.mapCoord;
                        u0 = (uvs[index0] * ut.a + uvs[index0 + 1] * ut.c + ut.tx) * base.width;
                        u1 = (uvs[index1] * ut.a + uvs[index1 + 1] * ut.c + ut.tx) * base.width;
                        u2 = (uvs[index2] * ut.a + uvs[index2 + 1] * ut.c + ut.tx) * base.width;
                        v0 = (uvs[index0] * ut.b + uvs[index0 + 1] * ut.d + ut.ty) * base.height;
                        v1 = (uvs[index1] * ut.b + uvs[index1 + 1] * ut.d + ut.ty) * base.height;
                        v2 = (uvs[index2] * ut.b + uvs[index2 + 1] * ut.d + ut.ty) * base.height;
                    } else {
                        u0 = uvs[index0] * base.width;
                        u1 = uvs[index1] * base.width;
                        u2 = uvs[index2] * base.width;
                        v0 = uvs[index0 + 1] * base.height;
                        v1 = uvs[index1 + 1] * base.height;
                        v2 = uvs[index2 + 1] * base.height;
                    }
                    var x0 = vertices[index0];
                    var x1 = vertices[index1];
                    var x2 = vertices[index2];
                    var y0 = vertices[index0 + 1];
                    var y1 = vertices[index1 + 1];
                    var y2 = vertices[index2 + 1];
                    var canvasPadding = mesh.canvasPadding / this.renderer.resolution;
                    if (canvasPadding > 0) {
                        var paddingX = canvasPadding / Math.abs(mesh.worldTransform.a);
                        var paddingY = canvasPadding / Math.abs(mesh.worldTransform.d);
                        var centerX = (x0 + x1 + x2) / 3;
                        var centerY = (y0 + y1 + y2) / 3;
                        var normX = x0 - centerX;
                        var normY = y0 - centerY;
                        var dist = Math.sqrt(normX * normX + normY * normY);
                        x0 = centerX + normX / dist * (dist + paddingX);
                        y0 = centerY + normY / dist * (dist + paddingY);
                        normX = x1 - centerX;
                        normY = y1 - centerY;
                        dist = Math.sqrt(normX * normX + normY * normY);
                        x1 = centerX + normX / dist * (dist + paddingX);
                        y1 = centerY + normY / dist * (dist + paddingY);
                        normX = x2 - centerX;
                        normY = y2 - centerY;
                        dist = Math.sqrt(normX * normX + normY * normY);
                        x2 = centerX + normX / dist * (dist + paddingX);
                        y2 = centerY + normY / dist * (dist + paddingY);
                    }
                    context.save();
                    context.beginPath();
                    context.moveTo(x0, y0);
                    context.lineTo(x1, y1);
                    context.lineTo(x2, y2);
                    context.closePath();
                    context.clip();
                    var delta = u0 * v1 + v0 * u2 + u1 * v2 - v1 * u2 - v0 * u1 - u0 * v2;
                    var deltaA = x0 * v1 + v0 * x2 + x1 * v2 - v1 * x2 - v0 * x1 - x0 * v2;
                    var deltaB = u0 * x1 + x0 * u2 + u1 * x2 - x1 * u2 - x0 * u1 - u0 * x2;
                    var deltaC = u0 * v1 * x2 + v0 * x1 * u2 + x0 * u1 * v2 - x0 * v1 * u2 - v0 * u1 * x2 - u0 * x1 * v2;
                    var deltaD = y0 * v1 + v0 * y2 + y1 * v2 - v1 * y2 - v0 * y1 - y0 * v2;
                    var deltaE = u0 * y1 + y0 * u2 + u1 * y2 - y1 * u2 - y0 * u1 - u0 * y2;
                    var deltaF = u0 * v1 * y2 + v0 * y1 * u2 + y0 * u1 * v2 - y0 * v1 * u2 - v0 * u1 * y2 - u0 * y1 * v2;
                    context.transform(deltaA / delta, deltaD / delta, deltaB / delta, deltaE / delta, deltaC / delta, deltaF / delta);
                    context.drawImage(textureSource, 0, 0, textureWidth * base.resolution, textureHeight * base.resolution, 0, 0, textureWidth, textureHeight);
                    context.restore();
                    this.renderer.invalidateBlendMode();
                };
                MeshSpriteRenderer.prototype.renderMeshFlat = function renderMeshFlat(mesh) {
                    var context = this.renderer.context;
                    var vertices = mesh.vertices;
                    var length = vertices.length / 2;
                    context.beginPath();
                    for (var i = 1; i < length - 2; ++i) {
                        var index = i * 2;
                        var x0 = vertices[index];
                        var y0 = vertices[index + 1];
                        var x1 = vertices[index + 2];
                        var y1 = vertices[index + 3];
                        var x2 = vertices[index + 4];
                        var y2 = vertices[index + 5];
                        context.moveTo(x0, y0);
                        context.lineTo(x1, y1);
                        context.lineTo(x2, y2);
                    }
                    context.fillStyle = '#FF0000';
                    context.fill();
                    context.closePath();
                };
                MeshSpriteRenderer.prototype.destroy = function destroy() {
                    this.renderer = null;
                };
                return MeshSpriteRenderer;
            }();
            exports.default = MeshSpriteRenderer;
            core.CanvasRenderer.registerPlugin('mesh', MeshSpriteRenderer);
        }, {
            "../../core": 65,
            "../Mesh": 166
        }],
        171: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _Mesh = require('./Mesh');
            Object.defineProperty(exports, 'Mesh', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Mesh).default;
                }
            });
            var _MeshRenderer = require('./webgl/MeshRenderer');
            Object.defineProperty(exports, 'MeshRenderer', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_MeshRenderer).default;
                }
            });
            var _CanvasMeshRenderer = require('./canvas/CanvasMeshRenderer');
            Object.defineProperty(exports, 'CanvasMeshRenderer', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_CanvasMeshRenderer).default;
                }
            });
            var _Plane = require('./Plane');
            Object.defineProperty(exports, 'Plane', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Plane).default;
                }
            });
            var _NineSlicePlane = require('./NineSlicePlane');
            Object.defineProperty(exports, 'NineSlicePlane', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_NineSlicePlane).default;
                }
            });
            var _Rope = require('./Rope');
            Object.defineProperty(exports, 'Rope', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_Rope).default;
                }
            });

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
        }, {
            "./Mesh": 166,
            "./NineSlicePlane": 167,
            "./Plane": 168,
            "./Rope": 169,
            "./canvas/CanvasMeshRenderer": 170,
            "./webgl/MeshRenderer": 172
        }],
        172: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _core = require('../../core');
            var core = _interopRequireWildcard(_core);
            var _pixiGlCore = require('pixi-gl-core');
            var _pixiGlCore2 = _interopRequireDefault(_pixiGlCore);
            var _Mesh = require('../Mesh');
            var _Mesh2 = _interopRequireDefault(_Mesh);
            var _path = require('path');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var matrixIdentity = core.Matrix.IDENTITY;
            var MeshRenderer = function (_core$ObjectRenderer) {
                _inherits(MeshRenderer, _core$ObjectRenderer);

                function MeshRenderer(renderer) {
                    _classCallCheck(this, MeshRenderer);
                    var _this = _possibleConstructorReturn(this, _core$ObjectRenderer.call(this, renderer));
                    _this.shader = null;
                    return _this;
                }
                MeshRenderer.prototype.onContextChange = function onContextChange() {
                    var gl = this.renderer.gl;
                    this.shader = new core.Shader(gl, 'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n', 'varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n');
                };
                MeshRenderer.prototype.render = function render(mesh) {
                    var renderer = this.renderer;
                    var gl = renderer.gl;
                    var texture = mesh._texture;
                    if (!texture.valid) {
                        return;
                    }
                    var glData = mesh._glDatas[renderer.CONTEXT_UID];
                    if (!glData) {
                        renderer.bindVao(null);
                        glData = {
                            shader: this.shader,
                            vertexBuffer: _pixiGlCore2.default.GLBuffer.createVertexBuffer(gl, mesh.vertices, gl.STREAM_DRAW),
                            uvBuffer: _pixiGlCore2.default.GLBuffer.createVertexBuffer(gl, mesh.uvs, gl.STREAM_DRAW),
                            indexBuffer: _pixiGlCore2.default.GLBuffer.createIndexBuffer(gl, mesh.indices, gl.STATIC_DRAW),
                            vao: null,
                            dirty: mesh.dirty,
                            indexDirty: mesh.indexDirty
                        };
                        glData.vao = new _pixiGlCore2.default.VertexArrayObject(gl).addIndex(glData.indexBuffer).addAttribute(glData.vertexBuffer, glData.shader.attributes.aVertexPosition, gl.FLOAT, false, 2 * 4, 0).addAttribute(glData.uvBuffer, glData.shader.attributes.aTextureCoord, gl.FLOAT, false, 2 * 4, 0);
                        mesh._glDatas[renderer.CONTEXT_UID] = glData;
                    }
                    renderer.bindVao(glData.vao);
                    if (mesh.dirty !== glData.dirty) {
                        glData.dirty = mesh.dirty;
                        glData.uvBuffer.upload(mesh.uvs);
                    }
                    if (mesh.indexDirty !== glData.indexDirty) {
                        glData.indexDirty = mesh.indexDirty;
                        glData.indexBuffer.upload(mesh.indices);
                    }
                    glData.vertexBuffer.upload(mesh.vertices);
                    renderer.bindShader(glData.shader);
                    glData.shader.uniforms.uSampler = renderer.bindTexture(texture);
                    renderer.state.setBlendMode(core.utils.correctBlendMode(mesh.blendMode, texture.baseTexture.premultipliedAlpha));
                    if (glData.shader.uniforms.uTransform) {
                        if (mesh.uploadUvTransform) {
                            glData.shader.uniforms.uTransform = mesh._uvTransform.mapCoord.toArray(true);
                        } else {
                            glData.shader.uniforms.uTransform = matrixIdentity.toArray(true);
                        }
                    }
                    glData.shader.uniforms.translationMatrix = mesh.worldTransform.toArray(true);
                    glData.shader.uniforms.uColor = core.utils.premultiplyRgba(mesh.tintRgb, mesh.worldAlpha, glData.shader.uniforms.uColor, texture.baseTexture.premultipliedAlpha);
                    var drawMode = mesh.drawMode === _Mesh2.default.DRAW_MODES.TRIANGLE_MESH ? gl.TRIANGLE_STRIP : gl.TRIANGLES;
                    glData.vao.draw(drawMode, mesh.indices.length, 0);
                };
                return MeshRenderer;
            }(core.ObjectRenderer);
            exports.default = MeshRenderer;
            core.WebGLRenderer.registerPlugin('mesh', MeshRenderer);
        }, {
            "../../core": 65,
            "../Mesh": 166,
            "path": 8,
            "pixi-gl-core": 15
        }],
        173: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }
                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();
            var _core = require('../core');
            var core = _interopRequireWildcard(_core);
            var _utils = require('../core/utils');

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var ParticleContainer = function (_core$Container) {
                _inherits(ParticleContainer, _core$Container);

                function ParticleContainer() {
                    var maxSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1500;
                    var properties = arguments[1];
                    var batchSize = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 16384;
                    var autoResize = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
                    _classCallCheck(this, ParticleContainer);
                    var _this = _possibleConstructorReturn(this, _core$Container.call(this));
                    var maxBatchSize = 16384;
                    if (batchSize > maxBatchSize) {
                        batchSize = maxBatchSize;
                    }
                    if (batchSize > maxSize) {
                        batchSize = maxSize;
                    }
                    _this._properties = [false, true, false, false, false];
                    _this._maxSize = maxSize;
                    _this._batchSize = batchSize;
                    _this._glBuffers = {};
                    _this._bufferToUpdate = 0;
                    _this.interactiveChildren = false;
                    _this.blendMode = core.BLEND_MODES.NORMAL;
                    _this.autoResize = autoResize;
                    _this.roundPixels = true;
                    _this.baseTexture = null;
                    _this.setProperties(properties);
                    _this._tint = 0;
                    _this.tintRgb = new Float32Array(4);
                    _this.tint = 0xFFFFFF;
                    return _this;
                }
                ParticleContainer.prototype.setProperties = function setProperties(properties) {
                    if (properties) {
                        this._properties[0] = 'vertices' in properties || 'scale' in properties ? !!properties.vertices || !!properties.scale : this._properties[0];
                        this._properties[1] = 'position' in properties ? !!properties.position : this._properties[1];
                        this._properties[2] = 'rotation' in properties ? !!properties.rotation : this._properties[2];
                        this._properties[3] = 'uvs' in properties ? !!properties.uvs : this._properties[3];
                        this._properties[4] = 'tint' in properties || 'alpha' in properties ? !!properties.tint || !!properties.alpha : this._properties[4];
                    }
                };
                ParticleContainer.prototype.updateTransform = function updateTransform() {
                    this.displayObjectUpdateTransform();
                };
                ParticleContainer.prototype.renderWebGL = function renderWebGL(renderer) {
                    var _this2 = this;
                    if (!this.visible || this.worldAlpha <= 0 || !this.children.length || !this.renderable) {
                        return;
                    }
                    if (!this.baseTexture) {
                        this.baseTexture = this.children[0]._texture.baseTexture;
                        if (!this.baseTexture.hasLoaded) {
                            this.baseTexture.once('update', function () {
                                return _this2.onChildrenChange(0);
                            });
                        }
                    }
                    renderer.setObjectRenderer(renderer.plugins.particle);
                    renderer.plugins.particle.render(this);
                };
                ParticleContainer.prototype.onChildrenChange = function onChildrenChange(smallestChildIndex) {
                    var bufferIndex = Math.floor(smallestChildIndex / this._batchSize);
                    if (bufferIndex < this._bufferToUpdate) {
                        this._bufferToUpdate = bufferIndex;
                    }
                };
                ParticleContainer.prototype.renderCanvas = function renderCanvas(renderer) {
                    if (!this.visible || this.worldAlpha <= 0 || !this.children.length || !this.renderable) {
                        return;
                    }
                    var context = renderer.context;
                    var transform = this.worldTransform;
                    var isRotated = true;
                    var positionX = 0;
                    var positionY = 0;
                    var finalWidth = 0;
                    var finalHeight = 0;
                    renderer.setBlendMode(this.blendMode);
                    context.globalAlpha = this.worldAlpha;
                    this.displayObjectUpdateTransform();
                    for (var i = 0; i < this.children.length; ++i) {
                        var child = this.children[i];
                        if (!child.visible) {
                            continue;
                        }
                        var frame = child._texture.frame;
                        context.globalAlpha = this.worldAlpha * child.alpha;
                        if (child.rotation % (Math.PI * 2) === 0) {
                            if (isRotated) {
                                context.setTransform(transform.a, transform.b, transform.c, transform.d, transform.tx * renderer.resolution, transform.ty * renderer.resolution);
                                isRotated = false;
                            }
                            positionX = child.anchor.x * (-frame.width * child.scale.x) + child.position.x + 0.5;
                            positionY = child.anchor.y * (-frame.height * child.scale.y) + child.position.y + 0.5;
                            finalWidth = frame.width * child.scale.x;
                            finalHeight = frame.height * child.scale.y;
                        } else {
                            if (!isRotated) {
                                isRotated = true;
                            }
                            child.displayObjectUpdateTransform();
                            var childTransform = child.worldTransform;
                            if (renderer.roundPixels) {
                                context.setTransform(childTransform.a, childTransform.b, childTransform.c, childTransform.d, childTransform.tx * renderer.resolution | 0, childTransform.ty * renderer.resolution | 0);
                            } else {
                                context.setTransform(childTransform.a, childTransform.b, childTransform.c, childTransform.d, childTransform.tx * renderer.resolution, childTransform.ty * renderer.resolution);
                            }
                            positionX = child.anchor.x * -frame.width + 0.5;
                            positionY = child.anchor.y * -frame.height + 0.5;
                            finalWidth = frame.width;
                            finalHeight = frame.height;
                        }
                        var resolution = child._texture.baseTexture.resolution;
                        context.drawImage(child._texture.baseTexture.source, frame.x * resolution, frame.y * resolution, frame.width * resolution, frame.height * resolution, positionX * renderer.resolution, positionY * renderer.resolution, finalWidth * renderer.resolution, finalHeight * renderer.resolution);
                    }
                };
                ParticleContainer.prototype.destroy = function destroy(options) {
                    _core$Container.prototype.destroy.call(this, options);
                    if (this._buffers) {
                        for (var i = 0; i < this._buffers.length; ++i) {
                            this._buffers[i].destroy();
                        }
                    }
                    this._properties = null;
                    this._buffers = null;
                };
                _createClass(ParticleContainer, [{
                    key: 'tint',
                    get: function get() {
                        return this._tint;
                    },
                    set: function set(value) {
                        this._tint = value;
                        (0, _utils.hex2rgb)(value, this.tintRgb);
                    }
                }]);
                return ParticleContainer;
            }(core.Container);
            exports.default = ParticleContainer;
        }, {
            "../core": 65,
            "../core/utils": 125
        }],
        174: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _ParticleContainer = require('./ParticleContainer');
            Object.defineProperty(exports, 'ParticleContainer', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_ParticleContainer).default;
                }
            });
            var _ParticleRenderer = require('./webgl/ParticleRenderer');
            Object.defineProperty(exports, 'ParticleRenderer', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_ParticleRenderer).default;
                }
            });

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
        }, {
            "./ParticleContainer": 173,
            "./webgl/ParticleRenderer": 176
        }],
        175: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _pixiGlCore = require('pixi-gl-core');
            var _pixiGlCore2 = _interopRequireDefault(_pixiGlCore);
            var _createIndicesForQuads = require('../../core/utils/createIndicesForQuads');
            var _createIndicesForQuads2 = _interopRequireDefault(_createIndicesForQuads);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var ParticleBuffer = function () {
                function ParticleBuffer(gl, properties, dynamicPropertyFlags, size) {
                    _classCallCheck(this, ParticleBuffer);
                    this.gl = gl;
                    this.size = size;
                    this.dynamicProperties = [];
                    this.staticProperties = [];
                    for (var i = 0; i < properties.length; ++i) {
                        var property = properties[i];
                        property = {
                            attribute: property.attribute,
                            size: property.size,
                            uploadFunction: property.uploadFunction,
                            unsignedByte: property.unsignedByte,
                            offset: property.offset
                        };
                        if (dynamicPropertyFlags[i]) {
                            this.dynamicProperties.push(property);
                        } else {
                            this.staticProperties.push(property);
                        }
                    }
                    this.staticStride = 0;
                    this.staticBuffer = null;
                    this.staticData = null;
                    this.staticDataUint32 = null;
                    this.dynamicStride = 0;
                    this.dynamicBuffer = null;
                    this.dynamicData = null;
                    this.dynamicDataUint32 = null;
                    this.initBuffers();
                }
                ParticleBuffer.prototype.initBuffers = function initBuffers() {
                    var gl = this.gl;
                    var dynamicOffset = 0;
                    this.indices = (0, _createIndicesForQuads2.default)(this.size);
                    this.indexBuffer = _pixiGlCore2.default.GLBuffer.createIndexBuffer(gl, this.indices, gl.STATIC_DRAW);
                    this.dynamicStride = 0;
                    for (var i = 0; i < this.dynamicProperties.length; ++i) {
                        var property = this.dynamicProperties[i];
                        property.offset = dynamicOffset;
                        dynamicOffset += property.size;
                        this.dynamicStride += property.size;
                    }
                    var dynBuffer = new ArrayBuffer(this.size * this.dynamicStride * 4 * 4);
                    this.dynamicData = new Float32Array(dynBuffer);
                    this.dynamicDataUint32 = new Uint32Array(dynBuffer);
                    this.dynamicBuffer = _pixiGlCore2.default.GLBuffer.createVertexBuffer(gl, dynBuffer, gl.STREAM_DRAW);
                    var staticOffset = 0;
                    this.staticStride = 0;
                    for (var _i = 0; _i < this.staticProperties.length; ++_i) {
                        var _property = this.staticProperties[_i];
                        _property.offset = staticOffset;
                        staticOffset += _property.size;
                        this.staticStride += _property.size;
                    }
                    var statBuffer = new ArrayBuffer(this.size * this.staticStride * 4 * 4);
                    this.staticData = new Float32Array(statBuffer);
                    this.staticDataUint32 = new Uint32Array(statBuffer);
                    this.staticBuffer = _pixiGlCore2.default.GLBuffer.createVertexBuffer(gl, statBuffer, gl.STATIC_DRAW);
                    this.vao = new _pixiGlCore2.default.VertexArrayObject(gl).addIndex(this.indexBuffer);
                    for (var _i2 = 0; _i2 < this.dynamicProperties.length; ++_i2) {
                        var _property2 = this.dynamicProperties[_i2];
                        if (_property2.unsignedByte) {
                            this.vao.addAttribute(this.dynamicBuffer, _property2.attribute, gl.UNSIGNED_BYTE, true, this.dynamicStride * 4, _property2.offset * 4);
                        } else {
                            this.vao.addAttribute(this.dynamicBuffer, _property2.attribute, gl.FLOAT, false, this.dynamicStride * 4, _property2.offset * 4);
                        }
                    }
                    for (var _i3 = 0; _i3 < this.staticProperties.length; ++_i3) {
                        var _property3 = this.staticProperties[_i3];
                        if (_property3.unsignedByte) {
                            this.vao.addAttribute(this.staticBuffer, _property3.attribute, gl.UNSIGNED_BYTE, true, this.staticStride * 4, _property3.offset * 4);
                        } else {
                            this.vao.addAttribute(this.staticBuffer, _property3.attribute, gl.FLOAT, false, this.staticStride * 4, _property3.offset * 4);
                        }
                    }
                };
                ParticleBuffer.prototype.uploadDynamic = function uploadDynamic(children, startIndex, amount) {
                    for (var i = 0; i < this.dynamicProperties.length; i++) {
                        var property = this.dynamicProperties[i];
                        property.uploadFunction(children, startIndex, amount, property.unsignedByte ? this.dynamicDataUint32 : this.dynamicData, this.dynamicStride, property.offset);
                    }
                    this.dynamicBuffer.upload();
                };
                ParticleBuffer.prototype.uploadStatic = function uploadStatic(children, startIndex, amount) {
                    for (var i = 0; i < this.staticProperties.length; i++) {
                        var property = this.staticProperties[i];
                        property.uploadFunction(children, startIndex, amount, property.unsignedByte ? this.staticDataUint32 : this.staticData, this.staticStride, property.offset);
                    }
                    this.staticBuffer.upload();
                };
                ParticleBuffer.prototype.destroy = function destroy() {
                    this.dynamicProperties = null;
                    this.dynamicBuffer.destroy();
                    this.dynamicBuffer = null;
                    this.dynamicData = null;
                    this.dynamicDataUint32 = null;
                    this.staticProperties = null;
                    this.staticBuffer.destroy();
                    this.staticBuffer = null;
                    this.staticData = null;
                    this.staticDataUint32 = null;
                };
                return ParticleBuffer;
            }();
            exports.default = ParticleBuffer;
        }, {
            "../../core/utils/createIndicesForQuads": 123,
            "pixi-gl-core": 15
        }],
        176: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _core = require('../../core');
            var core = _interopRequireWildcard(_core);
            var _ParticleShader = require('./ParticleShader');
            var _ParticleShader2 = _interopRequireDefault(_ParticleShader);
            var _ParticleBuffer = require('./ParticleBuffer');
            var _ParticleBuffer2 = _interopRequireDefault(_ParticleBuffer);
            var _utils = require('../../core/utils');

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var ParticleRenderer = function (_core$ObjectRenderer) {
                _inherits(ParticleRenderer, _core$ObjectRenderer);

                function ParticleRenderer(renderer) {
                    _classCallCheck(this, ParticleRenderer);
                    var _this = _possibleConstructorReturn(this, _core$ObjectRenderer.call(this, renderer));
                    _this.shader = null;
                    _this.indexBuffer = null;
                    _this.properties = null;
                    _this.tempMatrix = new core.Matrix();
                    _this.CONTEXT_UID = 0;
                    return _this;
                }
                ParticleRenderer.prototype.onContextChange = function onContextChange() {
                    var gl = this.renderer.gl;
                    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
                    this.shader = new _ParticleShader2.default(gl);
                    this.properties = [{
                        attribute: this.shader.attributes.aVertexPosition,
                        size: 2,
                        uploadFunction: this.uploadVertices,
                        offset: 0
                    }, {
                        attribute: this.shader.attributes.aPositionCoord,
                        size: 2,
                        uploadFunction: this.uploadPosition,
                        offset: 0
                    }, {
                        attribute: this.shader.attributes.aRotation,
                        size: 1,
                        uploadFunction: this.uploadRotation,
                        offset: 0
                    }, {
                        attribute: this.shader.attributes.aTextureCoord,
                        size: 2,
                        uploadFunction: this.uploadUvs,
                        offset: 0
                    }, {
                        attribute: this.shader.attributes.aColor,
                        size: 1,
                        unsignedByte: true,
                        uploadFunction: this.uploadTint,
                        offset: 0
                    }];
                };
                ParticleRenderer.prototype.start = function start() {
                    this.renderer.bindShader(this.shader);
                };
                ParticleRenderer.prototype.render = function render(container) {
                    var children = container.children;
                    var maxSize = container._maxSize;
                    var batchSize = container._batchSize;
                    var renderer = this.renderer;
                    var totalChildren = children.length;
                    if (totalChildren === 0) {
                        return;
                    } else if (totalChildren > maxSize) {
                        totalChildren = maxSize;
                    }
                    var buffers = container._glBuffers[renderer.CONTEXT_UID];
                    if (!buffers) {
                        buffers = container._glBuffers[renderer.CONTEXT_UID] = this.generateBuffers(container);
                    }
                    var baseTexture = children[0]._texture.baseTexture;
                    this.renderer.setBlendMode(core.utils.correctBlendMode(container.blendMode, baseTexture.premultipliedAlpha));
                    var gl = renderer.gl;
                    var m = container.worldTransform.copy(this.tempMatrix);
                    m.prepend(renderer._activeRenderTarget.projectionMatrix);
                    this.shader.uniforms.projectionMatrix = m.toArray(true);
                    this.shader.uniforms.uColor = core.utils.premultiplyRgba(container.tintRgb, container.worldAlpha, this.shader.uniforms.uColor, baseTexture.premultipliedAlpha);
                    this.shader.uniforms.uSampler = renderer.bindTexture(baseTexture);
                    for (var i = 0, j = 0; i < totalChildren; i += batchSize, j += 1) {
                        var amount = totalChildren - i;
                        if (amount > batchSize) {
                            amount = batchSize;
                        }
                        if (j >= buffers.length) {
                            if (!container.autoResize) {
                                break;
                            }
                            buffers.push(this._generateOneMoreBuffer(container));
                        }
                        var buffer = buffers[j];
                        buffer.uploadDynamic(children, i, amount);
                        if (container._bufferToUpdate === j) {
                            buffer.uploadStatic(children, i, amount);
                            container._bufferToUpdate = j + 1;
                        }
                        renderer.bindVao(buffer.vao);
                        buffer.vao.draw(gl.TRIANGLES, amount * 6);
                    }
                };
                ParticleRenderer.prototype.generateBuffers = function generateBuffers(container) {
                    var gl = this.renderer.gl;
                    var buffers = [];
                    var size = container._maxSize;
                    var batchSize = container._batchSize;
                    var dynamicPropertyFlags = container._properties;
                    for (var i = 0; i < size; i += batchSize) {
                        buffers.push(new _ParticleBuffer2.default(gl, this.properties, dynamicPropertyFlags, batchSize));
                    }
                    return buffers;
                };
                ParticleRenderer.prototype._generateOneMoreBuffer = function _generateOneMoreBuffer(container) {
                    var gl = this.renderer.gl;
                    var batchSize = container._batchSize;
                    var dynamicPropertyFlags = container._properties;
                    return new _ParticleBuffer2.default(gl, this.properties, dynamicPropertyFlags, batchSize);
                };
                ParticleRenderer.prototype.uploadVertices = function uploadVertices(children, startIndex, amount, array, stride, offset) {
                    var w0 = 0;
                    var w1 = 0;
                    var h0 = 0;
                    var h1 = 0;
                    for (var i = 0; i < amount; ++i) {
                        var sprite = children[startIndex + i];
                        var texture = sprite._texture;
                        var sx = sprite.scale.x;
                        var sy = sprite.scale.y;
                        var trim = texture.trim;
                        var orig = texture.orig;
                        if (trim) {
                            w1 = trim.x - sprite.anchor.x * orig.width;
                            w0 = w1 + trim.width;
                            h1 = trim.y - sprite.anchor.y * orig.height;
                            h0 = h1 + trim.height;
                        } else {
                            w0 = orig.width * (1 - sprite.anchor.x);
                            w1 = orig.width * -sprite.anchor.x;
                            h0 = orig.height * (1 - sprite.anchor.y);
                            h1 = orig.height * -sprite.anchor.y;
                        }
                        array[offset] = w1 * sx;
                        array[offset + 1] = h1 * sy;
                        array[offset + stride] = w0 * sx;
                        array[offset + stride + 1] = h1 * sy;
                        array[offset + stride * 2] = w0 * sx;
                        array[offset + stride * 2 + 1] = h0 * sy;
                        array[offset + stride * 3] = w1 * sx;
                        array[offset + stride * 3 + 1] = h0 * sy;
                        offset += stride * 4;
                    }
                };
                ParticleRenderer.prototype.uploadPosition = function uploadPosition(children, startIndex, amount, array, stride, offset) {
                    for (var i = 0; i < amount; i++) {
                        var spritePosition = children[startIndex + i].position;
                        array[offset] = spritePosition.x;
                        array[offset + 1] = spritePosition.y;
                        array[offset + stride] = spritePosition.x;
                        array[offset + stride + 1] = spritePosition.y;
                        array[offset + stride * 2] = spritePosition.x;
                        array[offset + stride * 2 + 1] = spritePosition.y;
                        array[offset + stride * 3] = spritePosition.x;
                        array[offset + stride * 3 + 1] = spritePosition.y;
                        offset += stride * 4;
                    }
                };
                ParticleRenderer.prototype.uploadRotation = function uploadRotation(children, startIndex, amount, array, stride, offset) {
                    for (var i = 0; i < amount; i++) {
                        var spriteRotation = children[startIndex + i].rotation;
                        array[offset] = spriteRotation;
                        array[offset + stride] = spriteRotation;
                        array[offset + stride * 2] = spriteRotation;
                        array[offset + stride * 3] = spriteRotation;
                        offset += stride * 4;
                    }
                };
                ParticleRenderer.prototype.uploadUvs = function uploadUvs(children, startIndex, amount, array, stride, offset) {
                    for (var i = 0; i < amount; ++i) {
                        var textureUvs = children[startIndex + i]._texture._uvs;
                        if (textureUvs) {
                            array[offset] = textureUvs.x0;
                            array[offset + 1] = textureUvs.y0;
                            array[offset + stride] = textureUvs.x1;
                            array[offset + stride + 1] = textureUvs.y1;
                            array[offset + stride * 2] = textureUvs.x2;
                            array[offset + stride * 2 + 1] = textureUvs.y2;
                            array[offset + stride * 3] = textureUvs.x3;
                            array[offset + stride * 3 + 1] = textureUvs.y3;
                            offset += stride * 4;
                        } else {
                            array[offset] = 0;
                            array[offset + 1] = 0;
                            array[offset + stride] = 0;
                            array[offset + stride + 1] = 0;
                            array[offset + stride * 2] = 0;
                            array[offset + stride * 2 + 1] = 0;
                            array[offset + stride * 3] = 0;
                            array[offset + stride * 3 + 1] = 0;
                            offset += stride * 4;
                        }
                    }
                };
                ParticleRenderer.prototype.uploadTint = function uploadTint(children, startIndex, amount, array, stride, offset) {
                    for (var i = 0; i < amount; ++i) {
                        var sprite = children[startIndex + i];
                        var premultiplied = sprite._texture.baseTexture.premultipliedAlpha;
                        var alpha = sprite.alpha;
                        var argb = alpha < 1.0 && premultiplied ? (0, _utils.premultiplyTint)(sprite._tintRGB, alpha) : sprite._tintRGB + (alpha * 255 << 24);
                        array[offset] = argb;
                        array[offset + stride] = argb;
                        array[offset + stride * 2] = argb;
                        array[offset + stride * 3] = argb;
                        offset += stride * 4;
                    }
                };
                ParticleRenderer.prototype.destroy = function destroy() {
                    if (this.renderer.gl) {
                        this.renderer.gl.deleteBuffer(this.indexBuffer);
                    }
                    _core$ObjectRenderer.prototype.destroy.call(this);
                    this.shader.destroy();
                    this.indices = null;
                    this.tempMatrix = null;
                };
                return ParticleRenderer;
            }(core.ObjectRenderer);
            exports.default = ParticleRenderer;
            core.WebGLRenderer.registerPlugin('particle', ParticleRenderer);
        }, {
            "../../core": 65,
            "../../core/utils": 125,
            "./ParticleBuffer": 175,
            "./ParticleShader": 177
        }],
        177: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _Shader2 = require('../../core/Shader');
            var _Shader3 = _interopRequireDefault(_Shader2);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var ParticleShader = function (_Shader) {
                _inherits(ParticleShader, _Shader);

                function ParticleShader(gl) {
                    _classCallCheck(this, ParticleShader);
                    return _possibleConstructorReturn(this, _Shader.call(this, gl, ['attribute vec2 aVertexPosition;', 'attribute vec2 aTextureCoord;', 'attribute vec4 aColor;', 'attribute vec2 aPositionCoord;', 'attribute float aRotation;', 'uniform mat3 projectionMatrix;', 'uniform vec4 uColor;', 'varying vec2 vTextureCoord;', 'varying vec4 vColor;', 'void main(void){', '   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);', '   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);', '   vec2 v = vec2(x, y);', '   v = v + aPositionCoord;', '   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);', '   vTextureCoord = aTextureCoord;', '   vColor = aColor * uColor;', '}'].join('\n'), ['varying vec2 vTextureCoord;', 'varying vec4 vColor;', 'uniform sampler2D uSampler;', 'void main(void){', '  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;', '  gl_FragColor = color;', '}'].join('\n')));
                }
                return ParticleShader;
            }(_Shader3.default);
            exports.default = ParticleShader;
        }, {
            "../../core/Shader": 44
        }],
        178: [function (require, module, exports) {
            "use strict";
            if (!Math.sign) {
                Math.sign = function mathSign(x) {
                    x = Number(x);
                    if (x === 0 || isNaN(x)) {
                        return x;
                    }
                    return x > 0 ? 1 : -1;
                };
            }
        }, {}],
        179: [function (require, module, exports) {
            'use strict';
            var _objectAssign = require('object-assign');
            var _objectAssign2 = _interopRequireDefault(_objectAssign);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
            if (!Object.assign) {
                Object.assign = _objectAssign2.default;
            }
        }, {
            "object-assign": 6
        }],
        180: [function (require, module, exports) {
            'use strict';
            require('./Object.assign');
            require('./requestAnimationFrame');
            require('./Math.sign');
            if (!window.ArrayBuffer) {
                window.ArrayBuffer = Array;
            }
            if (!window.Float32Array) {
                window.Float32Array = Array;
            }
            if (!window.Uint32Array) {
                window.Uint32Array = Array;
            }
            if (!window.Uint16Array) {
                window.Uint16Array = Array;
            }
        }, {
            "./Math.sign": 178,
            "./Object.assign": 179,
            "./requestAnimationFrame": 181
        }],
        181: [function (require, module, exports) {
            (function (global) {
                'use strict';
                var ONE_FRAME_TIME = 16;
                if (!(Date.now && Date.prototype.getTime)) {
                    Date.now = function now() {
                        return new Date().getTime();
                    };
                }
                if (!(global.performance && global.performance.now)) {
                    var startTime = Date.now();
                    if (!global.performance) {
                        global.performance = {};
                    }
                    global.performance.now = function () {
                        return Date.now() - startTime;
                    };
                }
                var lastTime = Date.now();
                var vendors = ['ms', 'moz', 'webkit', 'o'];
                for (var x = 0; x < vendors.length && !global.requestAnimationFrame; ++x) {
                    var p = vendors[x];
                    global.requestAnimationFrame = global[p + 'RequestAnimationFrame'];
                    global.cancelAnimationFrame = global[p + 'CancelAnimationFrame'] || global[p + 'CancelRequestAnimationFrame'];
                }
                if (!global.requestAnimationFrame) {
                    global.requestAnimationFrame = function (callback) {
                        if (typeof callback !== 'function') {
                            throw new TypeError(callback + 'is not a function');
                        }
                        var currentTime = Date.now();
                        var delay = ONE_FRAME_TIME + lastTime - currentTime;
                        if (delay < 0) {
                            delay = 0;
                        }
                        lastTime = currentTime;
                        return setTimeout(function () {
                            lastTime = Date.now();
                            callback(performance.now());
                        }, delay);
                    };
                }
                if (!global.cancelAnimationFrame) {
                    global.cancelAnimationFrame = function (id) {
                        return clearTimeout(id);
                    };
                }
            }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
        }, {}],
        182: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _core = require('../core');
            var core = _interopRequireWildcard(_core);
            var _CountLimiter = require('./limiters/CountLimiter');
            var _CountLimiter2 = _interopRequireDefault(_CountLimiter);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var SharedTicker = core.ticker.shared;
            core.settings.UPLOADS_PER_FRAME = 4;
            var BasePrepare = function () {
                function BasePrepare(renderer) {
                    var _this = this;
                    _classCallCheck(this, BasePrepare);
                    this.limiter = new _CountLimiter2.default(core.settings.UPLOADS_PER_FRAME);
                    this.renderer = renderer;
                    this.uploadHookHelper = null;
                    this.queue = [];
                    this.addHooks = [];
                    this.uploadHooks = [];
                    this.completes = [];
                    this.ticking = false;
                    this.delayedTick = function () {
                        if (!_this.queue) {
                            return;
                        }
                        _this.prepareItems();
                    };
                    this.registerFindHook(findText);
                    this.registerFindHook(findTextStyle);
                    this.registerFindHook(findMultipleBaseTextures);
                    this.registerFindHook(findBaseTexture);
                    this.registerFindHook(findTexture);
                    this.registerUploadHook(drawText);
                    this.registerUploadHook(calculateTextStyle);
                }
                BasePrepare.prototype.upload = function upload(item, done) {
                    if (typeof item === 'function') {
                        done = item;
                        item = null;
                    }
                    if (item) {
                        this.add(item);
                    }
                    if (this.queue.length) {
                        if (done) {
                            this.completes.push(done);
                        }
                        if (!this.ticking) {
                            this.ticking = true;
                            SharedTicker.addOnce(this.tick, this, core.UPDATE_PRIORITY.UTILITY);
                        }
                    } else if (done) {
                        done();
                    }
                };
                BasePrepare.prototype.tick = function tick() {
                    setTimeout(this.delayedTick, 0);
                };
                BasePrepare.prototype.prepareItems = function prepareItems() {
                    this.limiter.beginFrame();
                    while (this.queue.length && this.limiter.allowedToUpload()) {
                        var item = this.queue[0];
                        var uploaded = false;
                        if (item && !item._destroyed) {
                            for (var i = 0, len = this.uploadHooks.length; i < len; i++) {
                                if (this.uploadHooks[i](this.uploadHookHelper, item)) {
                                    this.queue.shift();
                                    uploaded = true;
                                    break;
                                }
                            }
                        }
                        if (!uploaded) {
                            this.queue.shift();
                        }
                    }
                    if (!this.queue.length) {
                        this.ticking = false;
                        var completes = this.completes.slice(0);
                        this.completes.length = 0;
                        for (var _i = 0, _len = completes.length; _i < _len; _i++) {
                            completes[_i]();
                        }
                    } else {
                        SharedTicker.addOnce(this.tick, this, core.UPDATE_PRIORITY.UTILITY);
                    }
                };
                BasePrepare.prototype.registerFindHook = function registerFindHook(addHook) {
                    if (addHook) {
                        this.addHooks.push(addHook);
                    }
                    return this;
                };
                BasePrepare.prototype.registerUploadHook = function registerUploadHook(uploadHook) {
                    if (uploadHook) {
                        this.uploadHooks.push(uploadHook);
                    }
                    return this;
                };
                BasePrepare.prototype.add = function add(item) {
                    for (var i = 0, len = this.addHooks.length; i < len; i++) {
                        if (this.addHooks[i](item, this.queue)) {
                            break;
                        }
                    }
                    if (item instanceof core.Container) {
                        for (var _i2 = item.children.length - 1; _i2 >= 0; _i2--) {
                            this.add(item.children[_i2]);
                        }
                    }
                    return this;
                };
                BasePrepare.prototype.destroy = function destroy() {
                    if (this.ticking) {
                        SharedTicker.remove(this.tick, this);
                    }
                    this.ticking = false;
                    this.addHooks = null;
                    this.uploadHooks = null;
                    this.renderer = null;
                    this.completes = null;
                    this.queue = null;
                    this.limiter = null;
                    this.uploadHookHelper = null;
                };
                return BasePrepare;
            }();
            exports.default = BasePrepare;

            function findMultipleBaseTextures(item, queue) {
                var result = false;
                if (item && item._textures && item._textures.length) {
                    for (var i = 0; i < item._textures.length; i++) {
                        if (item._textures[i] instanceof core.Texture) {
                            var baseTexture = item._textures[i].baseTexture;
                            if (queue.indexOf(baseTexture) === -1) {
                                queue.push(baseTexture);
                                result = true;
                            }
                        }
                    }
                }
                return result;
            }

            function findBaseTexture(item, queue) {
                if (item instanceof core.BaseTexture) {
                    if (queue.indexOf(item) === -1) {
                        queue.push(item);
                    }
                    return true;
                }
                return false;
            }

            function findTexture(item, queue) {
                if (item._texture && item._texture instanceof core.Texture) {
                    var texture = item._texture.baseTexture;
                    if (queue.indexOf(texture) === -1) {
                        queue.push(texture);
                    }
                    return true;
                }
                return false;
            }

            function drawText(helper, item) {
                if (item instanceof core.Text) {
                    item.updateText(true);
                    return true;
                }
                return false;
            }

            function calculateTextStyle(helper, item) {
                if (item instanceof core.TextStyle) {
                    var font = item.toFontString();
                    core.TextMetrics.measureFont(font);
                    return true;
                }
                return false;
            }

            function findText(item, queue) {
                if (item instanceof core.Text) {
                    if (queue.indexOf(item.style) === -1) {
                        queue.push(item.style);
                    }
                    if (queue.indexOf(item) === -1) {
                        queue.push(item);
                    }
                    var texture = item._texture.baseTexture;
                    if (queue.indexOf(texture) === -1) {
                        queue.push(texture);
                    }
                    return true;
                }
                return false;
            }

            function findTextStyle(item, queue) {
                if (item instanceof core.TextStyle) {
                    if (queue.indexOf(item) === -1) {
                        queue.push(item);
                    }
                    return true;
                }
                return false;
            }
        }, {
            "../core": 65,
            "./limiters/CountLimiter": 185
        }],
        183: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _core = require('../../core');
            var core = _interopRequireWildcard(_core);
            var _BasePrepare2 = require('../BasePrepare');
            var _BasePrepare3 = _interopRequireDefault(_BasePrepare2);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var CANVAS_START_SIZE = 16;
            var CanvasPrepare = function (_BasePrepare) {
                _inherits(CanvasPrepare, _BasePrepare);

                function CanvasPrepare(renderer) {
                    _classCallCheck(this, CanvasPrepare);
                    var _this = _possibleConstructorReturn(this, _BasePrepare.call(this, renderer));
                    _this.uploadHookHelper = _this;
                    _this.canvas = document.createElement('canvas');
                    _this.canvas.width = CANVAS_START_SIZE;
                    _this.canvas.height = CANVAS_START_SIZE;
                    _this.ctx = _this.canvas.getContext('2d');
                    _this.registerUploadHook(uploadBaseTextures);
                    return _this;
                }
                CanvasPrepare.prototype.destroy = function destroy() {
                    _BasePrepare.prototype.destroy.call(this);
                    this.ctx = null;
                    this.canvas = null;
                };
                return CanvasPrepare;
            }(_BasePrepare3.default);
            exports.default = CanvasPrepare;

            function uploadBaseTextures(prepare, item) {
                if (item instanceof core.BaseTexture) {
                    var image = item.source;
                    var imageWidth = image.width === 0 ? prepare.canvas.width : Math.min(prepare.canvas.width, image.width);
                    var imageHeight = image.height === 0 ? prepare.canvas.height : Math.min(prepare.canvas.height, image.height);
                    prepare.ctx.drawImage(image, 0, 0, imageWidth, imageHeight, 0, 0, prepare.canvas.width, prepare.canvas.height);
                    return true;
                }
                return false;
            }
            core.CanvasRenderer.registerPlugin('prepare', CanvasPrepare);
        }, {
            "../../core": 65,
            "../BasePrepare": 182
        }],
        184: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _WebGLPrepare = require('./webgl/WebGLPrepare');
            Object.defineProperty(exports, 'webgl', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_WebGLPrepare).default;
                }
            });
            var _CanvasPrepare = require('./canvas/CanvasPrepare');
            Object.defineProperty(exports, 'canvas', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_CanvasPrepare).default;
                }
            });
            var _BasePrepare = require('./BasePrepare');
            Object.defineProperty(exports, 'BasePrepare', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_BasePrepare).default;
                }
            });
            var _CountLimiter = require('./limiters/CountLimiter');
            Object.defineProperty(exports, 'CountLimiter', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_CountLimiter).default;
                }
            });
            var _TimeLimiter = require('./limiters/TimeLimiter');
            Object.defineProperty(exports, 'TimeLimiter', {
                enumerable: true,
                get: function get() {
                    return _interopRequireDefault(_TimeLimiter).default;
                }
            });

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }
        }, {
            "./BasePrepare": 182,
            "./canvas/CanvasPrepare": 183,
            "./limiters/CountLimiter": 185,
            "./limiters/TimeLimiter": 186,
            "./webgl/WebGLPrepare": 187
        }],
        185: [function (require, module, exports) {
            "use strict";
            exports.__esModule = true;

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var CountLimiter = function () {
                function CountLimiter(maxItemsPerFrame) {
                    _classCallCheck(this, CountLimiter);
                    this.maxItemsPerFrame = maxItemsPerFrame;
                    this.itemsLeft = 0;
                }
                CountLimiter.prototype.beginFrame = function beginFrame() {
                    this.itemsLeft = this.maxItemsPerFrame;
                };
                CountLimiter.prototype.allowedToUpload = function allowedToUpload() {
                    return this.itemsLeft-- > 0;
                };
                return CountLimiter;
            }();
            exports.default = CountLimiter;
        }, {}],
        186: [function (require, module, exports) {
            "use strict";
            exports.__esModule = true;

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }
            var TimeLimiter = function () {
                function TimeLimiter(maxMilliseconds) {
                    _classCallCheck(this, TimeLimiter);
                    this.maxMilliseconds = maxMilliseconds;
                    this.frameStart = 0;
                }
                TimeLimiter.prototype.beginFrame = function beginFrame() {
                    this.frameStart = Date.now();
                };
                TimeLimiter.prototype.allowedToUpload = function allowedToUpload() {
                    return Date.now() - this.frameStart < this.maxMilliseconds;
                };
                return TimeLimiter;
            }();
            exports.default = TimeLimiter;
        }, {}],
        187: [function (require, module, exports) {
            'use strict';
            exports.__esModule = true;
            var _core = require('../../core');
            var core = _interopRequireWildcard(_core);
            var _BasePrepare2 = require('../BasePrepare');
            var _BasePrepare3 = _interopRequireDefault(_BasePrepare2);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    default: obj
                };
            }

            function _interopRequireWildcard(obj) {
                if (obj && obj.__esModule) {
                    return obj;
                } else {
                    var newObj = {};
                    if (obj != null) {
                        for (var key in obj) {
                            if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                        }
                    }
                    newObj.default = obj;
                    return newObj;
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self;
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var WebGLPrepare = function (_BasePrepare) {
                _inherits(WebGLPrepare, _BasePrepare);

                function WebGLPrepare(renderer) {
                    _classCallCheck(this, WebGLPrepare);
                    var _this = _possibleConstructorReturn(this, _BasePrepare.call(this, renderer));
                    _this.uploadHookHelper = _this.renderer;
                    _this.registerFindHook(findGraphics);
                    _this.registerUploadHook(uploadBaseTextures);
                    _this.registerUploadHook(uploadGraphics);
                    return _this;
                }
                return WebGLPrepare;
            }(_BasePrepare3.default);
            exports.default = WebGLPrepare;

            function uploadBaseTextures(renderer, item) {
                if (item instanceof core.BaseTexture) {
                    if (!item._glTextures[renderer.CONTEXT_UID]) {
                        renderer.textureManager.updateTexture(item);
                    }
                    return true;
                }
                return false;
            }

            function uploadGraphics(renderer, item) {
                if (item instanceof core.Graphics) {
                    if (item.dirty || item.clearDirty || !item._webGL[renderer.plugins.graphics.CONTEXT_UID]) {
                        renderer.plugins.graphics.updateGraphics(item);
                    }
                    return true;
                }
                return false;
            }

            function findGraphics(item, queue) {
                if (item instanceof core.Graphics) {
                    queue.push(item);
                    return true;
                }
                return false;
            }
            core.WebGLRenderer.registerPlugin('prepare', WebGLPrepare);
        }, {
            "../../core": 65,
            "../BasePrepare": 182
        }],
        188: [function (require, module, exports) {
            (function (global) {
                'use strict';
                exports.__esModule = true;
                exports.loader = exports.prepare = exports.particles = exports.mesh = exports.loaders = exports.interaction = exports.filters = exports.extras = exports.extract = exports.accessibility = undefined;
                var _polyfill = require('./polyfill');
                Object.keys(_polyfill).forEach(function (key) {
                    if (key === "default" || key === "__esModule") return;
                    Object.defineProperty(exports, key, {
                        enumerable: true,
                        get: function get() {
                            return _polyfill[key];
                        }
                    });
                });
                var _core = require('./core');
                Object.keys(_core).forEach(function (key) {
                    if (key === "default" || key === "__esModule") return;
                    Object.defineProperty(exports, key, {
                        enumerable: true,
                        get: function get() {
                            return _core[key];
                        }
                    });
                });
                var _deprecation = require('./deprecation');
                var _deprecation2 = _interopRequireDefault(_deprecation);
                var _accessibility = require('./accessibility');
                var accessibility = _interopRequireWildcard(_accessibility);
                var _extract = require('./extract');
                var extract = _interopRequireWildcard(_extract);
                var _extras = require('./extras');
                var extras = _interopRequireWildcard(_extras);
                var _filters = require('./filters');
                var filters = _interopRequireWildcard(_filters);
                var _interaction = require('./interaction');
                var interaction = _interopRequireWildcard(_interaction);
                var _loaders = require('./loaders');
                var loaders = _interopRequireWildcard(_loaders);
                var _mesh = require('./mesh');
                var mesh = _interopRequireWildcard(_mesh);
                var _particles = require('./particles');
                var particles = _interopRequireWildcard(_particles);
                var _prepare = require('./prepare');
                var prepare = _interopRequireWildcard(_prepare);

                function _interopRequireWildcard(obj) {
                    if (obj && obj.__esModule) {
                        return obj;
                    } else {
                        var newObj = {};
                        if (obj != null) {
                            for (var key in obj) {
                                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
                            }
                        }
                        newObj.default = obj;
                        return newObj;
                    }
                }

                function _interopRequireDefault(obj) {
                    return obj && obj.__esModule ? obj : {
                        default: obj
                    };
                }
                _core.utils.mixins.performMixins();
                var loader = loaders.shared || null;
                exports.accessibility = accessibility;
                exports.extract = extract;
                exports.extras = extras;
                exports.filters = filters;
                exports.interaction = interaction;
                exports.loaders = loaders;
                exports.mesh = mesh;
                exports.particles = particles;
                exports.prepare = prepare;
                exports.loader = loader;
                if (typeof _deprecation2.default === 'function') {
                    (0, _deprecation2.default)(exports);
                }
                global.PIXI = exports;
            }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
        }, {
            "./accessibility": 42,
            "./core": 65,
            "./deprecation": 131,
            "./extract": 133,
            "./extras": 141,
            "./filters": 153,
            "./interaction": 159,
            "./loaders": 162,
            "./mesh": 171,
            "./particles": 174,
            "./polyfill": 180,
            "./prepare": 184
        }]
    }, {}, [188])(188)
});
(function (b, c) {
    'use strict';

    function d(p) {
        this.time = p.time, this.target = p.target, this.rootBounds = p.rootBounds, this.boundingClientRect = p.boundingClientRect, this.intersectionRect = p.intersectionRect || m(), this.isIntersecting = !!p.intersectionRect;
        var q = this.boundingClientRect,
            r = q.width * q.height,
            s = this.intersectionRect,
            u = s.width * s.height;
        this.intersectionRatio = r ? u / r : this.isIntersecting ? 1 : 0
    }

    function e(p, q) {
        var r = q || {};
        if ('function' != typeof p) throw new Error('callback must be a function');
        if (r.root && 1 != r.root.nodeType) throw new Error('root must be an Element');
        this._checkForIntersections = g(this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT), this._callback = p, this._observationTargets = [], this._queuedEntries = [], this._rootMarginValues = this._parseRootMargin(r.rootMargin), this.thresholds = this._initThresholds(r.threshold), this.root = r.root || null, this.rootMargin = this._rootMarginValues.map(function (s) {
            return s.value + s.unit
        }).join(' ')
    }

    function f() {
        return b.performance && performance.now && performance.now()
    }

    function g(p, q) {
        var r = null;
        return function () {
            r || (r = setTimeout(function () {
                p(), r = null
            }, q))
        }
    }

    function h(p, q, r, s) {
        'function' == typeof p.addEventListener ? p.addEventListener(q, r, s || !1) : 'function' == typeof p.attachEvent && p.attachEvent('on' + q, r)
    }

    function j(p, q, r, s) {
        'function' == typeof p.removeEventListener ? p.removeEventListener(q, r, s || !1) : 'function' == typeof p.detatchEvent && p.detatchEvent('on' + q, r)
    }

    function k(p, q) {
        var r = Math.max(p.top, q.top),
            s = Math.min(p.bottom, q.bottom),
            u = Math.max(p.left, q.left),
            v = Math.min(p.right, q.right),
            w = v - u,
            x = s - r;
        return 0 <= w && 0 <= x && {
            top: r,
            bottom: s,
            left: u,
            right: v,
            width: w,
            height: x
        }
    }

    function l(p) {
        var q = p.getBoundingClientRect();
        if (q) return q.width && q.height || (q = {
            top: q.top,
            right: q.right,
            bottom: q.bottom,
            left: q.left,
            width: q.right - q.left,
            height: q.bottom - q.top
        }), q
    }

    function m() {
        return {
            top: 0,
            bottom: 0,
            left: 0,
            right: 0,
            width: 0,
            height: 0
        }
    }

    function n(p, q) {
        for (var r = q; r;) {
            if (11 == r.nodeType && r.host && (r = r.host), r == p) return !0;
            r = r.parentNode
        }
        return !1
    }
    if (!('IntersectionObserver' in b && 'IntersectionObserverEntry' in b && 'intersectionRatio' in b.IntersectionObserverEntry.prototype)) {
        var o = [];
        e.prototype.THROTTLE_TIMEOUT = 100, e.prototype.POLL_INTERVAL = null, e.prototype.observe = function (p) {
            if (!this._observationTargets.some(function (q) {
                    return q.element == p
                })) {
                if (!(p && 1 == p.nodeType)) throw new Error('target must be an Element');
                this._registerInstance(), this._observationTargets.push({
                    element: p,
                    entry: null
                }), this._monitorIntersections()
            }
        }, e.prototype.unobserve = function (p) {
            this._observationTargets = this._observationTargets.filter(function (q) {
                return q.element != p
            }), this._observationTargets.length || (this._unmonitorIntersections(), this._unregisterInstance())
        }, e.prototype.disconnect = function () {
            this._observationTargets = [], this._unmonitorIntersections(), this._unregisterInstance()
        }, e.prototype.takeRecords = function () {
            var p = this._queuedEntries.slice();
            return this._queuedEntries = [], p
        }, e.prototype._initThresholds = function (p) {
            var q = p || [0];
            return Array.isArray(q) || (q = [q]), q.sort().filter(function (r, s, u) {
                if ('number' != typeof r || isNaN(r) || 0 > r || 1 < r) throw new Error('threshold must be a number between 0 and 1 inclusively');
                return r !== u[s - 1]
            })
        }, e.prototype._parseRootMargin = function (p) {
            var r = (p || '0px').split(/\s+/).map(function (s) {
                var u = /^(-?\d*\.?\d+)(px|%)$/.exec(s);
                if (!u) throw new Error('rootMargin must be specified in pixels or percent');
                return {
                    value: parseFloat(u[1]),
                    unit: u[2]
                }
            });
            return r[1] = r[1] || r[0], r[2] = r[2] || r[0], r[3] = r[3] || r[1], r
        }, e.prototype._monitorIntersections = function () {
            this._monitoringIntersections || (this._monitoringIntersections = !0, this._checkForIntersections(), this.POLL_INTERVAL ? this._monitoringInterval = setInterval(this._checkForIntersections, this.POLL_INTERVAL) : (h(b, 'resize', this._checkForIntersections, !0), h(c, 'scroll', this._checkForIntersections, !0), 'MutationObserver' in b && (this._domObserver = new MutationObserver(this._checkForIntersections), this._domObserver.observe(c, {
                attributes: !0,
                childList: !0,
                characterData: !0,
                subtree: !0
            }))))
        }, e.prototype._unmonitorIntersections = function () {
            this._monitoringIntersections && (this._monitoringIntersections = !1, clearInterval(this._monitoringInterval), this._monitoringInterval = null, j(b, 'resize', this._checkForIntersections, !0), j(c, 'scroll', this._checkForIntersections, !0), this._domObserver && (this._domObserver.disconnect(), this._domObserver = null))
        }, e.prototype._checkForIntersections = function () {
            var p = this._rootIsInDom(),
                q = p ? this._getRootRect() : m();
            this._observationTargets.forEach(function (r) {
                var s = r.element,
                    u = l(s),
                    v = this._rootContainsTarget(s),
                    w = r.entry,
                    x = p && v && this._computeTargetAndRootIntersection(s, q),
                    y = r.entry = new d({
                        time: f(),
                        target: s,
                        boundingClientRect: u,
                        rootBounds: q,
                        intersectionRect: x
                    });
                w ? p && v ? this._hasCrossedThreshold(w, y) && this._queuedEntries.push(y) : w && w.isIntersecting && this._queuedEntries.push(y) : this._queuedEntries.push(y)
            }, this), this._queuedEntries.length && this._callback(this.takeRecords(), this)
        }, e.prototype._computeTargetAndRootIntersection = function (p, q) {
            if ('none' != b.getComputedStyle(p).display) {
                for (var w, r = l(p), s = r, u = p.parentNode, v = !1; !v && (w = null, u == this.root || 1 != u.nodeType ? (v = !0, w = q) : 'visible' != b.getComputedStyle(u).overflow && (w = l(u)), !(w && (s = k(w, s), !s)));) u = u.parentNode;
                return s
            }
        }, e.prototype._getRootRect = function () {
            var p;
            if (this.root) p = l(this.root);
            else {
                var q = c.documentElement,
                    r = c.body;
                p = {
                    top: 0,
                    left: 0,
                    right: q.clientWidth || r.clientWidth,
                    width: q.clientWidth || r.clientWidth,
                    bottom: q.clientHeight || r.clientHeight,
                    height: q.clientHeight || r.clientHeight
                }
            }
            return this._expandRectByRootMargin(p)
        }, e.prototype._expandRectByRootMargin = function (p) {
            var q = this._rootMarginValues.map(function (s, u) {
                    return 'px' == s.unit ? s.value : s.value * (u % 2 ? p.width : p.height) / 100
                }),
                r = {
                    top: p.top - q[0],
                    right: p.right + q[1],
                    bottom: p.bottom + q[2],
                    left: p.left - q[3]
                };
            return r.width = r.right - r.left, r.height = r.bottom - r.top, r
        }, e.prototype._hasCrossedThreshold = function (p, q) {
            var r = p && p.isIntersecting ? p.intersectionRatio || 0 : -1,
                s = q.isIntersecting ? q.intersectionRatio || 0 : -1;
            if (r !== s)
                for (var v, u = 0; u < this.thresholds.length; u++)
                    if (v = this.thresholds[u], v == r || v == s || v < r != v < s) return !0
        }, e.prototype._rootIsInDom = function () {
            return !this.root || n(c, this.root)
        }, e.prototype._rootContainsTarget = function (p) {
            return n(this.root || c, p)
        }, e.prototype._registerInstance = function () {
            0 > o.indexOf(this) && o.push(this)
        }, e.prototype._unregisterInstance = function () {
            var p = o.indexOf(this); - 1 != p && o.splice(p, 1)
        }, b.IntersectionObserver = e, b.IntersectionObserverEntry = d
    }
})(window, document);
! function (t, e) {
    "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define("Barba", [], e) : "object" == typeof exports ? exports.Barba = e() : t.Barba = e()
}(this, function () {
    return function (t) {
        function e(r) {
            if (n[r]) return n[r].exports;
            var i = n[r] = {
                exports: {},
                id: r,
                loaded: !1
            };
            return t[r].call(i.exports, i, i.exports, e), i.loaded = !0, i.exports
        }
        var n = {};
        return e.m = t, e.c = n, e.p = "http://localhost:8080/dist", e(0)
    }([function (t, e, n) {
        "function" != typeof Promise && (window.Promise = n(1));
        var r = {
            version: "1.0.0",
            BaseTransition: n(5),
            BaseView: n(7),
            BaseCache: n(9),
            Dispatcher: n(8),
            HistoryManager: n(10),
            Pjax: n(11),
            Prefetch: n(14),
            Utils: n(6)
        };
        t.exports = r
    }, function (t, e, n) {
        (function (e) {
            ! function (n) {
                function r() {}

                function i(t, e) {
                    return function () {
                        t.apply(e, arguments)
                    }
                }

                function o(t) {
                    if ("object" != typeof this) throw new TypeError("Promises must be constructed via new");
                    if ("function" != typeof t) throw new TypeError("not a function");
                    this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], h(t, this)
                }

                function a(t, e) {
                    for (; 3 === t._state;) t = t._value;
                    if (0 === t._state) return void t._deferreds.push(e);
                    t._handled = !0, d(function () {
                        var n = 1 === t._state ? e.onFulfilled : e.onRejected;
                        if (null === n) return void(1 === t._state ? s : c)(e.promise, t._value);
                        var r;
                        try {
                            r = n(t._value)
                        } catch (t) {
                            return void c(e.promise, t)
                        }
                        s(e.promise, r)
                    })
                }

                function s(t, e) {
                    try {
                        if (e === t) throw new TypeError("A promise cannot be resolved with itself.");
                        if (e && ("object" == typeof e || "function" == typeof e)) {
                            var n = e.then;
                            if (e instanceof o) return t._state = 3, t._value = e, void u(t);
                            if ("function" == typeof n) return void h(i(n, e), t)
                        }
                        t._state = 1, t._value = e, u(t)
                    } catch (e) {
                        c(t, e)
                    }
                }

                function c(t, e) {
                    t._state = 2, t._value = e, u(t)
                }

                function u(t) {
                    2 === t._state && 0 === t._deferreds.length && d(function () {
                        t._handled || p(t._value)
                    });
                    for (var e = 0, n = t._deferreds.length; e < n; e++) a(t, t._deferreds[e]);
                    t._deferreds = null
                }

                function f(t, e, n) {
                    this.onFulfilled = "function" == typeof t ? t : null, this.onRejected = "function" == typeof e ? e : null, this.promise = n
                }

                function h(t, e) {
                    var n = !1;
                    try {
                        t(function (t) {
                            n || (n = !0, s(e, t))
                        }, function (t) {
                            n || (n = !0, c(e, t))
                        })
                    } catch (t) {
                        if (n) return;
                        n = !0, c(e, t)
                    }
                }
                var l = setTimeout,
                    d = "function" == typeof e && e || function (t) {
                        l(t, 0)
                    },
                    p = function (t) {
                        "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", t)
                    };
                o.prototype.catch = function (t) {
                    return this.then(null, t)
                }, o.prototype.then = function (t, e) {
                    var n = new this.constructor(r);
                    return a(this, new f(t, e, n)), n
                }, o.all = function (t) {
                    var e = Array.prototype.slice.call(t);
                    return new o(function (t, n) {
                        function r(o, a) {
                            try {
                                if (a && ("object" == typeof a || "function" == typeof a)) {
                                    var s = a.then;
                                    if ("function" == typeof s) return void s.call(a, function (t) {
                                        r(o, t)
                                    }, n)
                                }
                                e[o] = a, 0 == --i && t(e)
                            } catch (t) {
                                n(t)
                            }
                        }
                        if (0 === e.length) return t([]);
                        for (var i = e.length, o = 0; o < e.length; o++) r(o, e[o])
                    })
                }, o.resolve = function (t) {
                    return t && "object" == typeof t && t.constructor === o ? t : new o(function (e) {
                        e(t)
                    })
                }, o.reject = function (t) {
                    return new o(function (e, n) {
                        n(t)
                    })
                }, o.race = function (t) {
                    return new o(function (e, n) {
                        for (var r = 0, i = t.length; r < i; r++) t[r].then(e, n)
                    })
                }, o._setImmediateFn = function (t) {
                    d = t
                }, o._setUnhandledRejectionFn = function (t) {
                    p = t
                }, void 0 !== t && t.exports ? t.exports = o : n.Promise || (n.Promise = o)
            }(this)
        }).call(e, n(2).setImmediate)
    }, function (t, e, n) {
        function r(t, e) {
            this._id = t, this._clearFn = e
        }
        var i = Function.prototype.apply;
        e.setTimeout = function () {
            return new r(i.call(setTimeout, window, arguments), clearTimeout)
        }, e.setInterval = function () {
            return new r(i.call(setInterval, window, arguments), clearInterval)
        }, e.clearTimeout = e.clearInterval = function (t) {
            t && t.close()
        }, r.prototype.unref = r.prototype.ref = function () {}, r.prototype.close = function () {
            this._clearFn.call(window, this._id)
        }, e.enroll = function (t, e) {
            clearTimeout(t._idleTimeoutId), t._idleTimeout = e
        }, e.unenroll = function (t) {
            clearTimeout(t._idleTimeoutId), t._idleTimeout = -1
        }, e._unrefActive = e.active = function (t) {
            clearTimeout(t._idleTimeoutId);
            var e = t._idleTimeout;
            e >= 0 && (t._idleTimeoutId = setTimeout(function () {
                t._onTimeout && t._onTimeout()
            }, e))
        }, n(3), e.setImmediate = setImmediate, e.clearImmediate = clearImmediate
    }, function (t, e, n) {
        (function (t, e) {
            ! function (t, n) {
                "use strict";

                function r(t) {
                    "function" != typeof t && (t = new Function("" + t));
                    for (var e = new Array(arguments.length - 1), n = 0; n < e.length; n++) e[n] = arguments[n + 1];
                    var r = {
                        callback: t,
                        args: e
                    };
                    return u[c] = r, s(c), c++
                }

                function i(t) {
                    delete u[t]
                }

                function o(t) {
                    var e = t.callback,
                        r = t.args;
                    switch (r.length) {
                        case 0:
                            e();
                            break;
                        case 1:
                            e(r[0]);
                            break;
                        case 2:
                            e(r[0], r[1]);
                            break;
                        case 3:
                            e(r[0], r[1], r[2]);
                            break;
                        default:
                            e.apply(n, r)
                    }
                }

                function a(t) {
                    if (f) setTimeout(a, 0, t);
                    else {
                        var e = u[t];
                        if (e) {
                            f = !0;
                            try {
                                o(e)
                            } finally {
                                i(t), f = !1
                            }
                        }
                    }
                }
                if (!t.setImmediate) {
                    var s, c = 1,
                        u = {},
                        f = !1,
                        h = t.document,
                        l = Object.getPrototypeOf && Object.getPrototypeOf(t);
                    l = l && l.setTimeout ? l : t, "[object process]" === {}.toString.call(t.process) ? function () {
                        s = function (t) {
                            e.nextTick(function () {
                                a(t)
                            })
                        }
                    }() : function () {
                        if (t.postMessage && !t.importScripts) {
                            var e = !0,
                                n = t.onmessage;
                            return t.onmessage = function () {
                                e = !1
                            }, t.postMessage("", "*"), t.onmessage = n, e
                        }
                    }() ? function () {
                        var e = "setImmediate$" + Math.random() + "$",
                            n = function (n) {
                                n.source === t && "string" == typeof n.data && 0 === n.data.indexOf(e) && a(+n.data.slice(e.length))
                            };
                        t.addEventListener ? t.addEventListener("message", n, !1) : t.attachEvent("onmessage", n), s = function (n) {
                            t.postMessage(e + n, "*")
                        }
                    }() : t.MessageChannel ? function () {
                        var t = new MessageChannel;
                        t.port1.onmessage = function (t) {
                            a(t.data)
                        }, s = function (e) {
                            t.port2.postMessage(e)
                        }
                    }() : h && "onreadystatechange" in h.createElement("script") ? function () {
                        var t = h.documentElement;
                        s = function (e) {
                            var n = h.createElement("script");
                            n.onreadystatechange = function () {
                                a(e), n.onreadystatechange = null, t.removeChild(n), n = null
                            }, t.appendChild(n)
                        }
                    }() : function () {
                        s = function (t) {
                            setTimeout(a, 0, t)
                        }
                    }(), l.setImmediate = r, l.clearImmediate = i
                }
            }("undefined" == typeof self ? void 0 === t ? this : t : self)
        }).call(e, function () {
            return this
        }(), n(4))
    }, function (t, e) {
        function n() {
            throw new Error("setTimeout has not been defined")
        }

        function r() {
            throw new Error("clearTimeout has not been defined")
        }

        function i(t) {
            if (f === setTimeout) return setTimeout(t, 0);
            if ((f === n || !f) && setTimeout) return f = setTimeout, setTimeout(t, 0);
            try {
                return f(t, 0)
            } catch (e) {
                try {
                    return f.call(null, t, 0)
                } catch (e) {
                    return f.call(this, t, 0)
                }
            }
        }

        function o(t) {
            if (h === clearTimeout) return clearTimeout(t);
            if ((h === r || !h) && clearTimeout) return h = clearTimeout, clearTimeout(t);
            try {
                return h(t)
            } catch (e) {
                try {
                    return h.call(null, t)
                } catch (e) {
                    return h.call(this, t)
                }
            }
        }

        function a() {
            m && d && (m = !1, d.length ? p = d.concat(p) : v = -1, p.length && s())
        }

        function s() {
            if (!m) {
                var t = i(a);
                m = !0;
                for (var e = p.length; e;) {
                    for (d = p, p = []; ++v < e;) d && d[v].run();
                    v = -1, e = p.length
                }
                d = null, m = !1, o(t)
            }
        }

        function c(t, e) {
            this.fun = t, this.array = e
        }

        function u() {}
        var f, h, l = t.exports = {};
        ! function () {
            try {
                f = "function" == typeof setTimeout ? setTimeout : n
            } catch (t) {
                f = n
            }
            try {
                h = "function" == typeof clearTimeout ? clearTimeout : r
            } catch (t) {
                h = r
            }
        }();
        var d, p = [],
            m = !1,
            v = -1;
        l.nextTick = function (t) {
            var e = new Array(arguments.length - 1);
            if (arguments.length > 1)
                for (var n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
            p.push(new c(t, e)), 1 !== p.length || m || i(s)
        }, c.prototype.run = function () {
            this.fun.apply(null, this.array)
        }, l.title = "browser", l.browser = !0, l.env = {}, l.argv = [], l.version = "", l.versions = {}, l.on = u, l.addListener = u, l.once = u, l.off = u, l.removeListener = u, l.removeAllListeners = u, l.emit = u, l.prependListener = u, l.prependOnceListener = u, l.listeners = function (t) {
            return []
        }, l.binding = function (t) {
            throw new Error("process.binding is not supported")
        }, l.cwd = function () {
            return "/"
        }, l.chdir = function (t) {
            throw new Error("process.chdir is not supported")
        }, l.umask = function () {
            return 0
        }
    }, function (t, e, n) {
        var r = n(6),
            i = {
                oldContainer: void 0,
                newContainer: void 0,
                newContainerLoading: void 0,
                extend: function (t) {
                    return r.extend(this, t)
                },
                init: function (t, e) {
                    var n = this;
                    return this.oldContainer = t, this._newContainerPromise = e, this.deferred = r.deferred(), this.newContainerReady = r.deferred(), this.newContainerLoading = this.newContainerReady.promise, this.start(), this._newContainerPromise.then(function (t) {
                        n.newContainer = t, n.newContainerReady.resolve()
                    }), this.deferred.promise
                },
                done: function () {
                    this.oldContainer.parentNode.removeChild(this.oldContainer), this.newContainer.style.visibility = "visible", this.deferred.resolve()
                },
                start: function () {}
            };
        t.exports = i
    }, function (t, e) {
        var n = {
            getCurrentUrl: function () {
                return window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search
            },
            cleanLink: function (t) {
                return t.replace(/#.*/, "")
            },
            xhrTimeout: 5e3,
            xhr: function (t) {
                var e = this.deferred(),
                    n = new XMLHttpRequest;
                return n.onreadystatechange = function () {
                    if (4 === n.readyState) return 200 === n.status ? e.resolve(n.responseText) : e.reject(new Error("xhr: HTTP code is not 200"))
                }, n.ontimeout = function () {
                    return e.reject(new Error("xhr: Timeout exceeded"))
                }, n.open("GET", t), n.timeout = this.xhrTimeout, n.setRequestHeader("x-barba", "yes"), n.send(), e.promise
            },
            extend: function (t, e) {
                var n = Object.create(t);
                for (var r in e) e.hasOwnProperty(r) && (n[r] = e[r]);
                return n
            },
            deferred: function () {
                return new function () {
                    this.resolve = null, this.reject = null, this.promise = new Promise(function (t, e) {
                        this.resolve = t, this.reject = e
                    }.bind(this))
                }
            },
            getPort: function (t) {
                var e = void 0 !== t ? t : window.location.port,
                    n = window.location.protocol;
                return "" != e ? parseInt(e) : "http:" === n ? 80 : "https:" === n ? 443 : void 0
            }
        };
        t.exports = n
    }, function (t, e, n) {
        var r = n(8),
            i = n(6),
            o = {
                namespace: null,
                extend: function (t) {
                    return i.extend(this, t)
                },
                init: function () {
                    var t = this;
                    r.on("initStateChange", function (e, n) {
                        n && n.namespace === t.namespace && t.onLeave()
                    }), r.on("newPageReady", function (e, n, r) {
                        t.container = r, e.namespace === t.namespace && t.onEnter()
                    }), r.on("transitionCompleted", function (e, n) {
                        e.namespace === t.namespace && t.onEnterCompleted(), n && n.namespace === t.namespace && t.onLeaveCompleted()
                    })
                },
                onEnter: function () {},
                onEnterCompleted: function () {},
                onLeave: function () {},
                onLeaveCompleted: function () {}
            };
        t.exports = o
    }, function (t, e) {
        var n = {
            events: {},
            on: function (t, e) {
                this.events[t] = this.events[t] || [], this.events[t].push(e)
            },
            off: function (t, e) {
                t in this.events != !1 && this.events[t].splice(this.events[t].indexOf(e), 1)
            },
            trigger: function (t) {
                if (t in this.events != !1)
                    for (var e = 0; e < this.events[t].length; e++) this.events[t][e].apply(this, Array.prototype.slice.call(arguments, 1))
            }
        };
        t.exports = n
    }, function (t, e, n) {
        var r = n(6),
            i = {
                data: {},
                extend: function (t) {
                    return r.extend(this, t)
                },
                set: function (t, e) {
                    this.data[t] = e
                },
                get: function (t) {
                    return this.data[t]
                },
                reset: function () {
                    this.data = {}
                }
            };
        t.exports = i
    }, function (t, e) {
        var n = {
            history: [],
            add: function (t, e) {
                e || (e = void 0), this.history.push({
                    url: t,
                    namespace: e
                })
            },
            currentStatus: function () {
                return this.history[this.history.length - 1]
            },
            prevStatus: function () {
                var t = this.history;
                return t.length < 2 ? null : t[t.length - 2]
            }
        };
        t.exports = n
    }, function (t, e, n) {
        var r = n(6),
            i = n(8),
            o = n(12),
            a = n(9),
            s = n(10),
            c = n(13);
        window.stateCount = 0;
        var u = {
            Dom: c,
            History: s,
            Cache: a,
            cacheEnabled: !0,
            transitionProgress: !1,
            ignoreClassLink: "no-barba",
            start: function () {
                this.init()
            },
            init: function () {
                var t = this.Dom.getContainer();
                this.Dom.getWrapper().setAttribute("aria-live", "polite"), this.History.add(this.getCurrentUrl(), this.Dom.getNamespace(t)), i.trigger("initStateChange", this.History.currentStatus()), i.trigger("newPageReady", this.History.currentStatus(), {}, t, this.Dom.currentHTML), i.trigger("transitionCompleted", this.History.currentStatus()), this.bindEvents()
            },
            bindEvents: function () {
                document.addEventListener("click", this.onLinkClick.bind(this)), window.addEventListener("popstate", this.onStateChange.bind(this))
            },
            getCurrentUrl: function () {
                return r.cleanLink(r.getCurrentUrl())
            },
            goTo: function (t) {
                window.history.pushState(stateCount, null, t), this.onStateChange()
            },
            forceGoTo: function (t) {
                window.location = t
            },
            load: function (t) {
                var e, n = r.deferred(),
                    i = this;
                return e = this.Cache.get(t), e || (e = r.xhr(t), this.Cache.set(t, e)), e.then(function (t) {
                    var e = i.Dom.parseResponse(t);
                    i.Dom.putContainer(e), i.cacheEnabled || i.Cache.reset(), n.resolve(e)
                }, function () {
                    i.forceGoTo(t), n.reject()
                }), n.promise
            },
            getHref: function (t) {
                if (t) return t.getAttribute && "string" == typeof t.getAttribute("xlink:href") ? t.getAttribute("xlink:href") : "string" == typeof t.href ? t.href : void 0
            },
            onLinkClick: function (t) {
                for (var e = t.target; e && !this.getHref(e);) e = e.parentNode;
                if (this.preventCheck(t, e)) {
                    t.stopPropagation(), t.preventDefault(), i.trigger("linkClicked", e, t);
                    var n = this.getHref(e);
                    this.goTo(n)
                }
            },
            preventCheck: function (t, e) {
                if (!window.history.pushState) return !1;
                var n = this.getHref(e);
                return !(!e || !n) && (!(t.which > 1 || t.metaKey || t.ctrlKey || t.shiftKey || t.altKey) && ((!e.target || "_blank" !== e.target) && (window.location.protocol === e.protocol && window.location.hostname === e.hostname && (r.getPort() === r.getPort(e.port) && (!(n.indexOf("#") > -1) && ((!e.getAttribute || "string" != typeof e.getAttribute("download")) && (r.cleanLink(n) == r.cleanLink(location.href) ? (t.stopPropagation(), t.preventDefault(), !1) : !e.classList.contains(this.ignoreClassLink))))))))
            },
            getTransition: function () {
                return o
            },
            onStateChange: function () {
                var t = this.getCurrentUrl();
                if (this.transitionProgress && this.forceGoTo(t), this.History.currentStatus().url === t) return !1;
                this.History.add(t);
                var e = this.load(t),
                    n = Object.create(this.getTransition());
                this.transitionProgress = !0, i.trigger("initStateChange", this.History.currentStatus(), this.History.prevStatus());
                var r = n.init(this.Dom.getContainer(), e);
                e.then(this.onNewContainerLoaded.bind(this)), r.then(this.onTransitionEnd.bind(this))
            },
            onNewContainerLoaded: function (t) {
                this.History.currentStatus().namespace = this.Dom.getNamespace(t), i.trigger("newPageReady", this.History.currentStatus(), this.History.prevStatus(), t, this.Dom.currentHTML)
            },
            onTransitionEnd: function () {
                this.transitionProgress = !1, i.trigger("transitionCompleted", this.History.currentStatus(), this.History.prevStatus())
            }
        };
        t.exports = u
    }, function (t, e, n) {
        var r = n(5),
            i = r.extend({
                start: function () {
                    this.newContainerLoading.then(this.finish.bind(this))
                },
                finish: function () {
                    document.body.scrollTop = 0, this.done()
                }
            });
        t.exports = i
    }, function (t, e) {
        var n = {
            dataNamespace: "namespace",
            wrapperId: "barba-wrapper",
            containerClass: "barba-container",
            currentHTML: document.documentElement.innerHTML,
            parseResponse: function (t) {
                this.currentHTML = t;
                var e = document.createElement("div");
                e.innerHTML = t;
                var n = e.querySelector("title");
                return n && (document.title = n.textContent), this.getContainer(e)
            },
            getWrapper: function () {
                var t = document.getElementById(this.wrapperId);
                if (!t) throw new Error("Barba.js: wrapper not found!");
                return t
            },
            getContainer: function (t) {
                if (t || (t = document.body), !t) throw new Error("Barba.js: DOM not ready!");
                var e = this.parseContainer(t);
                if (e && e.jquery && (e = e[0]), !e) throw new Error("Barba.js: no container found");
                return e
            },
            getNamespace: function (t) {
                return t && t.dataset ? t.dataset[this.dataNamespace] : t ? t.getAttribute("data-" + this.dataNamespace) : null
            },
            putContainer: function (t) {
                t.style.visibility = "hidden", this.getWrapper().appendChild(t)
            },
            parseContainer: function (t) {
                return t.querySelector("." + this.containerClass)
            }
        };
        t.exports = n
    }, function (t, e, n) {
        var r = n(6),
            i = n(11),
            o = {
                ignoreClassLink: "no-barba-prefetch",
                init: function () {
                    if (!window.history.pushState) return !1;
                    document.body.addEventListener("mouseover", this.onLinkEnter.bind(this)), document.body.addEventListener("touchstart", this.onLinkEnter.bind(this))
                },
                onLinkEnter: function (t) {
                    for (var e = t.target; e && !i.getHref(e);) e = e.parentNode;
                    if (e && !e.classList.contains(this.ignoreClassLink)) {
                        var n = i.getHref(e);
                        if (i.preventCheck(t, e) && !i.Cache.get(n)) {
                            var o = r.xhr(n);
                            i.Cache.set(n, o)
                        }
                    }
                }
            };
        t.exports = o
    }])
});
(function () {
    var a, b, c, d, e, f, g, h, i, j;
    b = window.device, a = {}, window.device = a, d = window.document.documentElement, j = window.navigator.userAgent.toLowerCase(), a.ios = function () {
        return a.iphone() || a.ipod() || a.ipad()
    }, a.iphone = function () {
        return !a.windows() && e("iphone")
    }, a.ipod = function () {
        return e("ipod")
    }, a.ipad = function () {
        return e("ipad")
    }, a.android = function () {
        return !a.windows() && e("android")
    }, a.androidPhone = function () {
        return a.android() && e("mobile")
    }, a.androidTablet = function () {
        return a.android() && !e("mobile")
    }, a.blackberry = function () {
        return e("blackberry") || e("bb10") || e("rim")
    }, a.blackberryPhone = function () {
        return a.blackberry() && !e("tablet")
    }, a.blackberryTablet = function () {
        return a.blackberry() && e("tablet")
    }, a.windows = function () {
        return e("windows")
    }, a.windowsPhone = function () {
        return a.windows() && e("phone")
    }, a.windowsTablet = function () {
        return a.windows() && e("touch") && !a.windowsPhone()
    }, a.fxos = function () {
        return (e("(mobile;") || e("(tablet;")) && e("; rv:")
    }, a.fxosPhone = function () {
        return a.fxos() && e("mobile")
    }, a.fxosTablet = function () {
        return a.fxos() && e("tablet")
    }, a.meego = function () {
        return e("meego")
    }, a.cordova = function () {
        return window.cordova && "file:" === location.protocol
    }, a.nodeWebkit = function () {
        return "object" == typeof window.process
    }, a.mobile = function () {
        return a.androidPhone() || a.iphone() || a.ipod() || a.windowsPhone() || a.blackberryPhone() || a.fxosPhone() || a.meego()
    }, a.tablet = function () {
        return a.ipad() || a.androidTablet() || a.blackberryTablet() || a.windowsTablet() || a.fxosTablet()
    }, a.desktop = function () {
        return !a.tablet() && !a.mobile()
    }, a.television = function () {
        var a;
        for (television = ["googletv", "viera", "smarttv", "internet.tv", "netcast", "nettv", "appletv", "boxee", "kylo", "roku", "dlnadoc", "roku", "pov_tv", "hbbtv", "ce-html"], a = 0; a < television.length;) {
            if (e(television[a])) return !0;
            a++
        }
        return !1
    }, a.portrait = function () {
        return window.innerHeight / window.innerWidth > 1
    }, a.landscape = function () {
        return window.innerHeight / window.innerWidth < 1
    }, a.noConflict = function () {
        return window.device = b, this
    }, e = function (a) {
        return -1 !== j.indexOf(a)
    }, g = function (a) {
        var b;
        return b = new RegExp(a, "i"), d.className.match(b)
    }, c = function (a) {
        var b = null;
        g(a) || (b = d.className.replace(/^\s+|\s+$/g, ""), d.className = b + " " + a)
    }, i = function (a) {
        g(a) && (d.className = d.className.replace(" " + a, ""))
    }, a.ios() ? a.ipad() ? c("ios ipad tablet") : a.iphone() ? c("ios iphone mobile") : a.ipod() && c("ios ipod mobile") : a.android() ? c(a.androidTablet() ? "android tablet" : "android mobile") : a.blackberry() ? c(a.blackberryTablet() ? "blackberry tablet" : "blackberry mobile") : a.windows() ? c(a.windowsTablet() ? "windows tablet" : a.windowsPhone() ? "windows mobile" : "desktop") : a.fxos() ? c(a.fxosTablet() ? "fxos tablet" : "fxos mobile") : a.meego() ? c("meego mobile") : a.nodeWebkit() ? c("node-webkit") : a.television() ? c("television") : a.desktop() && c("desktop"), a.cordova() && c("cordova"), f = function () {
        a.landscape() ? (i("portrait"), c("landscape")) : (i("landscape"), c("portrait"))
    }, h = Object.prototype.hasOwnProperty.call(window, "onorientationchange") ? "orientationchange" : "resize", window.addEventListener ? window.addEventListener(h, f, !1) : window.attachEvent ? window.attachEvent(h, f) : window[h] = f, f(), "function" == typeof define && "object" == typeof define.amd && define.amd ? define(function () {
        return a
    }) : "undefined" != typeof module && module.exports ? module.exports = a : window.device = a
}).call(this);
var retinaSwitch = window.devicePixelRatio;
if (retinaSwitch == 1) {
    isRetina = false;
} else {
    isRetina = true;
}! function (a, b, c, d) {
    "use strict";

    function e(a, b, c) {
        return setTimeout(j(a, c), b)
    }

    function f(a, b, c) {
        return Array.isArray(a) ? (g(a, c[b], c), !0) : !1
    }

    function g(a, b, c) {
        var e;
        if (a)
            if (a.forEach) a.forEach(b, c);
            else if (a.length !== d)
            for (e = 0; e < a.length;) b.call(c, a[e], e, a), e++;
        else
            for (e in a) a.hasOwnProperty(e) && b.call(c, a[e], e, a)
    }

    function h(b, c, d) {
        var e = "DEPRECATED METHOD: " + c + "\n" + d + " AT \n";
        return function () {
            var c = new Error("get-stack-trace"),
                d = c && c.stack ? c.stack.replace(/^[^\(]+?[\n$]/gm, "").replace(/^\s+at\s+/gm, "").replace(/^Object.<anonymous>\s*\(/gm, "{anonymous}()@") : "Unknown Stack Trace",
                f = a.console && (a.console.warn || a.console.log);
            return f && f.call(a.console, e, d), b.apply(this, arguments)
        }
    }

    function i(a, b, c) {
        var d, e = b.prototype;
        d = a.prototype = Object.create(e), d.constructor = a, d._super = e, c && la(d, c)
    }

    function j(a, b) {
        return function () {
            return a.apply(b, arguments)
        }
    }

    function k(a, b) {
        return typeof a == oa ? a.apply(b ? b[0] || d : d, b) : a
    }

    function l(a, b) {
        return a === d ? b : a
    }

    function m(a, b, c) {
        g(q(b), function (b) {
            a.addEventListener(b, c, !1)
        })
    }

    function n(a, b, c) {
        g(q(b), function (b) {
            a.removeEventListener(b, c, !1)
        })
    }

    function o(a, b) {
        for (; a;) {
            if (a == b) return !0;
            a = a.parentNode
        }
        return !1
    }

    function p(a, b) {
        return a.indexOf(b) > -1
    }

    function q(a) {
        return a.trim().split(/\s+/g)
    }

    function r(a, b, c) {
        if (a.indexOf && !c) return a.indexOf(b);
        for (var d = 0; d < a.length;) {
            if (c && a[d][c] == b || !c && a[d] === b) return d;
            d++
        }
        return -1
    }

    function s(a) {
        return Array.prototype.slice.call(a, 0)
    }

    function t(a, b, c) {
        for (var d = [], e = [], f = 0; f < a.length;) {
            var g = b ? a[f][b] : a[f];
            r(e, g) < 0 && d.push(a[f]), e[f] = g, f++
        }
        return c && (d = b ? d.sort(function (a, c) {
            return a[b] > c[b]
        }) : d.sort()), d
    }

    function u(a, b) {
        for (var c, e, f = b[0].toUpperCase() + b.slice(1), g = 0; g < ma.length;) {
            if (c = ma[g], e = c ? c + f : b, e in a) return e;
            g++
        }
        return d
    }

    function v() {
        return ua++
    }

    function w(b) {
        var c = b.ownerDocument || b;
        return c.defaultView || c.parentWindow || a
    }

    function x(a, b) {
        var c = this;
        this.manager = a, this.callback = b, this.element = a.element, this.target = a.options.inputTarget, this.domHandler = function (b) {
            k(a.options.enable, [a]) && c.handler(b)
        }, this.init()
    }

    function y(a) {
        var b, c = a.options.inputClass;
        return new(b = c ? c : xa ? M : ya ? P : wa ? R : L)(a, z)
    }

    function z(a, b, c) {
        var d = c.pointers.length,
            e = c.changedPointers.length,
            f = b & Ea && d - e === 0,
            g = b & (Ga | Ha) && d - e === 0;
        c.isFirst = !!f, c.isFinal = !!g, f && (a.session = {}), c.eventType = b, A(a, c), a.emit("hammer.input", c), a.recognize(c), a.session.prevInput = c
    }

    function A(a, b) {
        var c = a.session,
            d = b.pointers,
            e = d.length;
        c.firstInput || (c.firstInput = D(b)), e > 1 && !c.firstMultiple ? c.firstMultiple = D(b) : 1 === e && (c.firstMultiple = !1);
        var f = c.firstInput,
            g = c.firstMultiple,
            h = g ? g.center : f.center,
            i = b.center = E(d);
        b.timeStamp = ra(), b.deltaTime = b.timeStamp - f.timeStamp, b.angle = I(h, i), b.distance = H(h, i), B(c, b), b.offsetDirection = G(b.deltaX, b.deltaY);
        var j = F(b.deltaTime, b.deltaX, b.deltaY);
        b.overallVelocityX = j.x, b.overallVelocityY = j.y, b.overallVelocity = qa(j.x) > qa(j.y) ? j.x : j.y, b.scale = g ? K(g.pointers, d) : 1, b.rotation = g ? J(g.pointers, d) : 0, b.maxPointers = c.prevInput ? b.pointers.length > c.prevInput.maxPointers ? b.pointers.length : c.prevInput.maxPointers : b.pointers.length, C(c, b);
        var k = a.element;
        o(b.srcEvent.target, k) && (k = b.srcEvent.target), b.target = k
    }

    function B(a, b) {
        var c = b.center,
            d = a.offsetDelta || {},
            e = a.prevDelta || {},
            f = a.prevInput || {};
        b.eventType !== Ea && f.eventType !== Ga || (e = a.prevDelta = {
            x: f.deltaX || 0,
            y: f.deltaY || 0
        }, d = a.offsetDelta = {
            x: c.x,
            y: c.y
        }), b.deltaX = e.x + (c.x - d.x), b.deltaY = e.y + (c.y - d.y)
    }

    function C(a, b) {
        var c, e, f, g, h = a.lastInterval || b,
            i = b.timeStamp - h.timeStamp;
        if (b.eventType != Ha && (i > Da || h.velocity === d)) {
            var j = b.deltaX - h.deltaX,
                k = b.deltaY - h.deltaY,
                l = F(i, j, k);
            e = l.x, f = l.y, c = qa(l.x) > qa(l.y) ? l.x : l.y, g = G(j, k), a.lastInterval = b
        } else c = h.velocity, e = h.velocityX, f = h.velocityY, g = h.direction;
        b.velocity = c, b.velocityX = e, b.velocityY = f, b.direction = g
    }

    function D(a) {
        for (var b = [], c = 0; c < a.pointers.length;) b[c] = {
            clientX: pa(a.pointers[c].clientX),
            clientY: pa(a.pointers[c].clientY)
        }, c++;
        return {
            timeStamp: ra(),
            pointers: b,
            center: E(b),
            deltaX: a.deltaX,
            deltaY: a.deltaY
        }
    }

    function E(a) {
        var b = a.length;
        if (1 === b) return {
            x: pa(a[0].clientX),
            y: pa(a[0].clientY)
        };
        for (var c = 0, d = 0, e = 0; b > e;) c += a[e].clientX, d += a[e].clientY, e++;
        return {
            x: pa(c / b),
            y: pa(d / b)
        }
    }

    function F(a, b, c) {
        return {
            x: b / a || 0,
            y: c / a || 0
        }
    }

    function G(a, b) {
        return a === b ? Ia : qa(a) >= qa(b) ? 0 > a ? Ja : Ka : 0 > b ? La : Ma
    }

    function H(a, b, c) {
        c || (c = Qa);
        var d = b[c[0]] - a[c[0]],
            e = b[c[1]] - a[c[1]];
        return Math.sqrt(d * d + e * e)
    }

    function I(a, b, c) {
        c || (c = Qa);
        var d = b[c[0]] - a[c[0]],
            e = b[c[1]] - a[c[1]];
        return 180 * Math.atan2(e, d) / Math.PI
    }

    function J(a, b) {
        return I(b[1], b[0], Ra) + I(a[1], a[0], Ra)
    }

    function K(a, b) {
        return H(b[0], b[1], Ra) / H(a[0], a[1], Ra)
    }

    function L() {
        this.evEl = Ta, this.evWin = Ua, this.pressed = !1, x.apply(this, arguments)
    }

    function M() {
        this.evEl = Xa, this.evWin = Ya, x.apply(this, arguments), this.store = this.manager.session.pointerEvents = []
    }

    function N() {
        this.evTarget = $a, this.evWin = _a, this.started = !1, x.apply(this, arguments)
    }

    function O(a, b) {
        var c = s(a.touches),
            d = s(a.changedTouches);
        return b & (Ga | Ha) && (c = t(c.concat(d), "identifier", !0)), [c, d]
    }

    function P() {
        this.evTarget = bb, this.targetIds = {}, x.apply(this, arguments)
    }

    function Q(a, b) {
        var c = s(a.touches),
            d = this.targetIds;
        if (b & (Ea | Fa) && 1 === c.length) return d[c[0].identifier] = !0, [c, c];
        var e, f, g = s(a.changedTouches),
            h = [],
            i = this.target;
        if (f = c.filter(function (a) {
                return o(a.target, i)
            }), b === Ea)
            for (e = 0; e < f.length;) d[f[e].identifier] = !0, e++;
        for (e = 0; e < g.length;) d[g[e].identifier] && h.push(g[e]), b & (Ga | Ha) && delete d[g[e].identifier], e++;
        return h.length ? [t(f.concat(h), "identifier", !0), h] : void 0
    }

    function R() {
        x.apply(this, arguments);
        var a = j(this.handler, this);
        this.touch = new P(this.manager, a), this.mouse = new L(this.manager, a), this.primaryTouch = null, this.lastTouches = []
    }

    function S(a, b) {
        a & Ea ? (this.primaryTouch = b.changedPointers[0].identifier, T.call(this, b)) : a & (Ga | Ha) && T.call(this, b)
    }

    function T(a) {
        var b = a.changedPointers[0];
        if (b.identifier === this.primaryTouch) {
            var c = {
                x: b.clientX,
                y: b.clientY
            };
            this.lastTouches.push(c);
            var d = this.lastTouches,
                e = function () {
                    var a = d.indexOf(c);
                    a > -1 && d.splice(a, 1)
                };
            setTimeout(e, cb)
        }
    }

    function U(a) {
        for (var b = a.srcEvent.clientX, c = a.srcEvent.clientY, d = 0; d < this.lastTouches.length; d++) {
            var e = this.lastTouches[d],
                f = Math.abs(b - e.x),
                g = Math.abs(c - e.y);
            if (db >= f && db >= g) return !0
        }
        return !1
    }

    function V(a, b) {
        this.manager = a, this.set(b)
    }

    function W(a) {
        if (p(a, jb)) return jb;
        var b = p(a, kb),
            c = p(a, lb);
        return b && c ? jb : b || c ? b ? kb : lb : p(a, ib) ? ib : hb
    }

    function X() {
        if (!fb) return !1;
        var b = {},
            c = a.CSS && a.CSS.supports;
        return ["auto", "manipulation", "pan-y", "pan-x", "pan-x pan-y", "none"].forEach(function (d) {
            b[d] = c ? a.CSS.supports("touch-action", d) : !0
        }), b
    }

    function Y(a) {
        this.options = la({}, this.defaults, a || {}), this.id = v(), this.manager = null, this.options.enable = l(this.options.enable, !0), this.state = nb, this.simultaneous = {}, this.requireFail = []
    }

    function Z(a) {
        return a & sb ? "cancel" : a & qb ? "end" : a & pb ? "move" : a & ob ? "start" : ""
    }

    function $(a) {
        return a == Ma ? "down" : a == La ? "up" : a == Ja ? "left" : a == Ka ? "right" : ""
    }

    function _(a, b) {
        var c = b.manager;
        return c ? c.get(a) : a
    }

    function aa() {
        Y.apply(this, arguments)
    }

    function ba() {
        aa.apply(this, arguments), this.pX = null, this.pY = null
    }

    function ca() {
        aa.apply(this, arguments)
    }

    function da() {
        Y.apply(this, arguments), this._timer = null, this._input = null
    }

    function ea() {
        aa.apply(this, arguments)
    }

    function fa() {
        aa.apply(this, arguments)
    }

    function ga() {
        Y.apply(this, arguments), this.pTime = !1, this.pCenter = !1, this._timer = null, this._input = null, this.count = 0
    }

    function ha(a, b) {
        return b = b || {}, b.recognizers = l(b.recognizers, ha.defaults.preset), new ia(a, b)
    }

    function ia(a, b) {
        this.options = la({}, ha.defaults, b || {}), this.options.inputTarget = this.options.inputTarget || a, this.handlers = {}, this.session = {}, this.recognizers = [], this.oldCssProps = {}, this.element = a, this.input = y(this), this.touchAction = new V(this, this.options.touchAction), ja(this, !0), g(this.options.recognizers, function (a) {
            var b = this.add(new a[0](a[1]));
            a[2] && b.recognizeWith(a[2]), a[3] && b.requireFailure(a[3])
        }, this)
    }

    function ja(a, b) {
        var c = a.element;
        if (c.style) {
            var d;
            g(a.options.cssProps, function (e, f) {
                d = u(c.style, f), b ? (a.oldCssProps[d] = c.style[d], c.style[d] = e) : c.style[d] = a.oldCssProps[d] || ""
            }), b || (a.oldCssProps = {})
        }
    }

    function ka(a, c) {
        var d = b.createEvent("Event");
        d.initEvent(a, !0, !0), d.gesture = c, c.target.dispatchEvent(d)
    }
    var la, ma = ["", "webkit", "Moz", "MS", "ms", "o"],
        na = b.createElement("div"),
        oa = "function",
        pa = Math.round,
        qa = Math.abs,
        ra = Date.now;
    la = "function" != typeof Object.assign ? function (a) {
        if (a === d || null === a) throw new TypeError("Cannot convert undefined or null to object");
        for (var b = Object(a), c = 1; c < arguments.length; c++) {
            var e = arguments[c];
            if (e !== d && null !== e)
                for (var f in e) e.hasOwnProperty(f) && (b[f] = e[f])
        }
        return b
    } : Object.assign;
    var sa = h(function (a, b, c) {
            for (var e = Object.keys(b), f = 0; f < e.length;)(!c || c && a[e[f]] === d) && (a[e[f]] = b[e[f]]), f++;
            return a
        }, "extend", "Use `assign`."),
        ta = h(function (a, b) {
            return sa(a, b, !0)
        }, "merge", "Use `assign`."),
        ua = 1,
        va = /mobile|tablet|ip(ad|hone|od)|android/i,
        wa = "ontouchstart" in a,
        xa = u(a, "PointerEvent") !== d,
        ya = wa && va.test(navigator.userAgent),
        za = "touch",
        Aa = "pen",
        Ba = "mouse",
        Ca = "kinect",
        Da = 25,
        Ea = 1,
        Fa = 2,
        Ga = 4,
        Ha = 8,
        Ia = 1,
        Ja = 2,
        Ka = 4,
        La = 8,
        Ma = 16,
        Na = Ja | Ka,
        Oa = La | Ma,
        Pa = Na | Oa,
        Qa = ["x", "y"],
        Ra = ["clientX", "clientY"];
    x.prototype = {
        handler: function () {},
        init: function () {
            this.evEl && m(this.element, this.evEl, this.domHandler), this.evTarget && m(this.target, this.evTarget, this.domHandler), this.evWin && m(w(this.element), this.evWin, this.domHandler)
        },
        destroy: function () {
            this.evEl && n(this.element, this.evEl, this.domHandler), this.evTarget && n(this.target, this.evTarget, this.domHandler), this.evWin && n(w(this.element), this.evWin, this.domHandler)
        }
    };
    var Sa = {
            mousedown: Ea,
            mousemove: Fa,
            mouseup: Ga
        },
        Ta = "mousedown",
        Ua = "mousemove mouseup";
    i(L, x, {
        handler: function (a) {
            var b = Sa[a.type];
            b & Ea && 0 === a.button && (this.pressed = !0), b & Fa && 1 !== a.which && (b = Ga), this.pressed && (b & Ga && (this.pressed = !1), this.callback(this.manager, b, {
                pointers: [a],
                changedPointers: [a],
                pointerType: Ba,
                srcEvent: a
            }))
        }
    });
    var Va = {
            pointerdown: Ea,
            pointermove: Fa,
            pointerup: Ga,
            pointercancel: Ha,
            pointerout: Ha
        },
        Wa = {
            2: za,
            3: Aa,
            4: Ba,
            5: Ca
        },
        Xa = "pointerdown",
        Ya = "pointermove pointerup pointercancel";
    a.MSPointerEvent && !a.PointerEvent && (Xa = "MSPointerDown", Ya = "MSPointerMove MSPointerUp MSPointerCancel"), i(M, x, {
        handler: function (a) {
            var b = this.store,
                c = !1,
                d = a.type.toLowerCase().replace("ms", ""),
                e = Va[d],
                f = Wa[a.pointerType] || a.pointerType,
                g = f == za,
                h = r(b, a.pointerId, "pointerId");
            e & Ea && (0 === a.button || g) ? 0 > h && (b.push(a), h = b.length - 1) : e & (Ga | Ha) && (c = !0), 0 > h || (b[h] = a, this.callback(this.manager, e, {
                pointers: b,
                changedPointers: [a],
                pointerType: f,
                srcEvent: a
            }), c && b.splice(h, 1))
        }
    });
    var Za = {
            touchstart: Ea,
            touchmove: Fa,
            touchend: Ga,
            touchcancel: Ha
        },
        $a = "touchstart",
        _a = "touchstart touchmove touchend touchcancel";
    i(N, x, {
        handler: function (a) {
            var b = Za[a.type];
            if (b === Ea && (this.started = !0), this.started) {
                var c = O.call(this, a, b);
                b & (Ga | Ha) && c[0].length - c[1].length === 0 && (this.started = !1), this.callback(this.manager, b, {
                    pointers: c[0],
                    changedPointers: c[1],
                    pointerType: za,
                    srcEvent: a
                })
            }
        }
    });
    var ab = {
            touchstart: Ea,
            touchmove: Fa,
            touchend: Ga,
            touchcancel: Ha
        },
        bb = "touchstart touchmove touchend touchcancel";
    i(P, x, {
        handler: function (a) {
            var b = ab[a.type],
                c = Q.call(this, a, b);
            c && this.callback(this.manager, b, {
                pointers: c[0],
                changedPointers: c[1],
                pointerType: za,
                srcEvent: a
            })
        }
    });
    var cb = 2500,
        db = 25;
    i(R, x, {
        handler: function (a, b, c) {
            var d = c.pointerType == za,
                e = c.pointerType == Ba;
            if (!(e && c.sourceCapabilities && c.sourceCapabilities.firesTouchEvents)) {
                if (d) S.call(this, b, c);
                else if (e && U.call(this, c)) return;
                this.callback(a, b, c)
            }
        },
        destroy: function () {
            this.touch.destroy(), this.mouse.destroy()
        }
    });
    var eb = u(na.style, "touchAction"),
        fb = eb !== d,
        gb = "compute",
        hb = "auto",
        ib = "manipulation",
        jb = "none",
        kb = "pan-x",
        lb = "pan-y",
        mb = X();
    V.prototype = {
        set: function (a) {
            a == gb && (a = this.compute()), fb && this.manager.element.style && mb[a] && (this.manager.element.style[eb] = a), this.actions = a.toLowerCase().trim()
        },
        update: function () {
            this.set(this.manager.options.touchAction)
        },
        compute: function () {
            var a = [];
            return g(this.manager.recognizers, function (b) {
                k(b.options.enable, [b]) && (a = a.concat(b.getTouchAction()))
            }), W(a.join(" "))
        },
        preventDefaults: function (a) {
            var b = a.srcEvent,
                c = a.offsetDirection;
            if (this.manager.session.prevented) return void b.preventDefault();
            var d = this.actions,
                e = p(d, jb) && !mb[jb],
                f = p(d, lb) && !mb[lb],
                g = p(d, kb) && !mb[kb];
            if (e) {
                var h = 1 === a.pointers.length,
                    i = a.distance < 2,
                    j = a.deltaTime < 250;
                if (h && i && j) return
            }
            return g && f ? void 0 : e || f && c & Na || g && c & Oa ? this.preventSrc(b) : void 0
        },
        preventSrc: function (a) {
            this.manager.session.prevented = !0, a.preventDefault()
        }
    };
    var nb = 1,
        ob = 2,
        pb = 4,
        qb = 8,
        rb = qb,
        sb = 16,
        tb = 32;
    Y.prototype = {
        defaults: {},
        set: function (a) {
            return la(this.options, a), this.manager && this.manager.touchAction.update(), this
        },
        recognizeWith: function (a) {
            if (f(a, "recognizeWith", this)) return this;
            var b = this.simultaneous;
            return a = _(a, this), b[a.id] || (b[a.id] = a, a.recognizeWith(this)), this
        },
        dropRecognizeWith: function (a) {
            return f(a, "dropRecognizeWith", this) ? this : (a = _(a, this), delete this.simultaneous[a.id], this)
        },
        requireFailure: function (a) {
            if (f(a, "requireFailure", this)) return this;
            var b = this.requireFail;
            return a = _(a, this), -1 === r(b, a) && (b.push(a), a.requireFailure(this)), this
        },
        dropRequireFailure: function (a) {
            if (f(a, "dropRequireFailure", this)) return this;
            a = _(a, this);
            var b = r(this.requireFail, a);
            return b > -1 && this.requireFail.splice(b, 1), this
        },
        hasRequireFailures: function () {
            return this.requireFail.length > 0
        },
        canRecognizeWith: function (a) {
            return !!this.simultaneous[a.id]
        },
        emit: function (a) {
            function b(b) {
                c.manager.emit(b, a)
            }
            var c = this,
                d = this.state;
            qb > d && b(c.options.event + Z(d)), b(c.options.event), a.additionalEvent && b(a.additionalEvent), d >= qb && b(c.options.event + Z(d))
        },
        tryEmit: function (a) {
            return this.canEmit() ? this.emit(a) : void(this.state = tb)
        },
        canEmit: function () {
            for (var a = 0; a < this.requireFail.length;) {
                if (!(this.requireFail[a].state & (tb | nb))) return !1;
                a++
            }
            return !0
        },
        recognize: function (a) {
            var b = la({}, a);
            return k(this.options.enable, [this, b]) ? (this.state & (rb | sb | tb) && (this.state = nb), this.state = this.process(b), void(this.state & (ob | pb | qb | sb) && this.tryEmit(b))) : (this.reset(), void(this.state = tb))
        },
        process: function (a) {},
        getTouchAction: function () {},
        reset: function () {}
    }, i(aa, Y, {
        defaults: {
            pointers: 1
        },
        attrTest: function (a) {
            var b = this.options.pointers;
            return 0 === b || a.pointers.length === b
        },
        process: function (a) {
            var b = this.state,
                c = a.eventType,
                d = b & (ob | pb),
                e = this.attrTest(a);
            return d && (c & Ha || !e) ? b | sb : d || e ? c & Ga ? b | qb : b & ob ? b | pb : ob : tb
        }
    }), i(ba, aa, {
        defaults: {
            event: "pan",
            threshold: 10,
            pointers: 1,
            direction: Pa
        },
        getTouchAction: function () {
            var a = this.options.direction,
                b = [];
            return a & Na && b.push(lb), a & Oa && b.push(kb), b
        },
        directionTest: function (a) {
            var b = this.options,
                c = !0,
                d = a.distance,
                e = a.direction,
                f = a.deltaX,
                g = a.deltaY;
            return e & b.direction || (b.direction & Na ? (e = 0 === f ? Ia : 0 > f ? Ja : Ka, c = f != this.pX, d = Math.abs(a.deltaX)) : (e = 0 === g ? Ia : 0 > g ? La : Ma, c = g != this.pY, d = Math.abs(a.deltaY))), a.direction = e, c && d > b.threshold && e & b.direction
        },
        attrTest: function (a) {
            return aa.prototype.attrTest.call(this, a) && (this.state & ob || !(this.state & ob) && this.directionTest(a))
        },
        emit: function (a) {
            this.pX = a.deltaX, this.pY = a.deltaY;
            var b = $(a.direction);
            b && (a.additionalEvent = this.options.event + b), this._super.emit.call(this, a)
        }
    }), i(ca, aa, {
        defaults: {
            event: "pinch",
            threshold: 0,
            pointers: 2
        },
        getTouchAction: function () {
            return [jb]
        },
        attrTest: function (a) {
            return this._super.attrTest.call(this, a) && (Math.abs(a.scale - 1) > this.options.threshold || this.state & ob)
        },
        emit: function (a) {
            if (1 !== a.scale) {
                var b = a.scale < 1 ? "in" : "out";
                a.additionalEvent = this.options.event + b
            }
            this._super.emit.call(this, a)
        }
    }), i(da, Y, {
        defaults: {
            event: "press",
            pointers: 1,
            time: 251,
            threshold: 9
        },
        getTouchAction: function () {
            return [hb]
        },
        process: function (a) {
            var b = this.options,
                c = a.pointers.length === b.pointers,
                d = a.distance < b.threshold,
                f = a.deltaTime > b.time;
            if (this._input = a, !d || !c || a.eventType & (Ga | Ha) && !f) this.reset();
            else if (a.eventType & Ea) this.reset(), this._timer = e(function () {
                this.state = rb, this.tryEmit()
            }, b.time, this);
            else if (a.eventType & Ga) return rb;
            return tb
        },
        reset: function () {
            clearTimeout(this._timer)
        },
        emit: function (a) {
            this.state === rb && (a && a.eventType & Ga ? this.manager.emit(this.options.event + "up", a) : (this._input.timeStamp = ra(), this.manager.emit(this.options.event, this._input)))
        }
    }), i(ea, aa, {
        defaults: {
            event: "rotate",
            threshold: 0,
            pointers: 2
        },
        getTouchAction: function () {
            return [jb]
        },
        attrTest: function (a) {
            return this._super.attrTest.call(this, a) && (Math.abs(a.rotation) > this.options.threshold || this.state & ob)
        }
    }), i(fa, aa, {
        defaults: {
            event: "swipe",
            threshold: 10,
            velocity: .3,
            direction: Na | Oa,
            pointers: 1
        },
        getTouchAction: function () {
            return ba.prototype.getTouchAction.call(this)
        },
        attrTest: function (a) {
            var b, c = this.options.direction;
            return c & (Na | Oa) ? b = a.overallVelocity : c & Na ? b = a.overallVelocityX : c & Oa && (b = a.overallVelocityY), this._super.attrTest.call(this, a) && c & a.offsetDirection && a.distance > this.options.threshold && a.maxPointers == this.options.pointers && qa(b) > this.options.velocity && a.eventType & Ga
        },
        emit: function (a) {
            var b = $(a.offsetDirection);
            b && this.manager.emit(this.options.event + b, a), this.manager.emit(this.options.event, a)
        }
    }), i(ga, Y, {
        defaults: {
            event: "tap",
            pointers: 1,
            taps: 1,
            interval: 300,
            time: 250,
            threshold: 9,
            posThreshold: 10
        },
        getTouchAction: function () {
            return [ib]
        },
        process: function (a) {
            var b = this.options,
                c = a.pointers.length === b.pointers,
                d = a.distance < b.threshold,
                f = a.deltaTime < b.time;
            if (this.reset(), a.eventType & Ea && 0 === this.count) return this.failTimeout();
            if (d && f && c) {
                if (a.eventType != Ga) return this.failTimeout();
                var g = this.pTime ? a.timeStamp - this.pTime < b.interval : !0,
                    h = !this.pCenter || H(this.pCenter, a.center) < b.posThreshold;
                this.pTime = a.timeStamp, this.pCenter = a.center, h && g ? this.count += 1 : this.count = 1, this._input = a;
                var i = this.count % b.taps;
                if (0 === i) return this.hasRequireFailures() ? (this._timer = e(function () {
                    this.state = rb, this.tryEmit()
                }, b.interval, this), ob) : rb
            }
            return tb
        },
        failTimeout: function () {
            return this._timer = e(function () {
                this.state = tb
            }, this.options.interval, this), tb
        },
        reset: function () {
            clearTimeout(this._timer)
        },
        emit: function () {
            this.state == rb && (this._input.tapCount = this.count, this.manager.emit(this.options.event, this._input))
        }
    }), ha.VERSION = "2.0.8", ha.defaults = {
        domEvents: !1,
        touchAction: gb,
        enable: !0,
        inputTarget: null,
        inputClass: null,
        preset: [
            [ea, {
                enable: !1
            }],
            [ca, {
                    enable: !1
                },
                ["rotate"]
            ],
            [fa, {
                direction: Na
            }],
            [ba, {
                    direction: Na
                },
                ["swipe"]
            ],
            [ga],
            [ga, {
                    event: "doubletap",
                    taps: 2
                },
                ["tap"]
            ],
            [da]
        ],
        cssProps: {
            userSelect: "none",
            touchSelect: "none",
            touchCallout: "none",
            contentZooming: "none",
            userDrag: "none",
            tapHighlightColor: "rgba(0,0,0,0)"
        }
    };
    var ub = 1,
        vb = 2;
    ia.prototype = {
        set: function (a) {
            return la(this.options, a), a.touchAction && this.touchAction.update(), a.inputTarget && (this.input.destroy(), this.input.target = a.inputTarget, this.input.init()), this
        },
        stop: function (a) {
            this.session.stopped = a ? vb : ub
        },
        recognize: function (a) {
            var b = this.session;
            if (!b.stopped) {
                this.touchAction.preventDefaults(a);
                var c, d = this.recognizers,
                    e = b.curRecognizer;
                (!e || e && e.state & rb) && (e = b.curRecognizer = null);
                for (var f = 0; f < d.length;) c = d[f], b.stopped === vb || e && c != e && !c.canRecognizeWith(e) ? c.reset() : c.recognize(a), !e && c.state & (ob | pb | qb) && (e = b.curRecognizer = c), f++
            }
        },
        get: function (a) {
            if (a instanceof Y) return a;
            for (var b = this.recognizers, c = 0; c < b.length; c++)
                if (b[c].options.event == a) return b[c];
            return null
        },
        add: function (a) {
            if (f(a, "add", this)) return this;
            var b = this.get(a.options.event);
            return b && this.remove(b), this.recognizers.push(a), a.manager = this, this.touchAction.update(), a
        },
        remove: function (a) {
            if (f(a, "remove", this)) return this;
            if (a = this.get(a)) {
                var b = this.recognizers,
                    c = r(b, a); - 1 !== c && (b.splice(c, 1), this.touchAction.update())
            }
            return this
        },
        on: function (a, b) {
            if (a !== d && b !== d) {
                var c = this.handlers;
                return g(q(a), function (a) {
                    c[a] = c[a] || [], c[a].push(b)
                }), this
            }
        },
        off: function (a, b) {
            if (a !== d) {
                var c = this.handlers;
                return g(q(a), function (a) {
                    b ? c[a] && c[a].splice(r(c[a], b), 1) : delete c[a]
                }), this
            }
        },
        emit: function (a, b) {
            this.options.domEvents && ka(a, b);
            var c = this.handlers[a] && this.handlers[a].slice();
            if (c && c.length) {
                b.type = a, b.preventDefault = function () {
                    b.srcEvent.preventDefault()
                };
                for (var d = 0; d < c.length;) c[d](b), d++
            }
        },
        destroy: function () {
            this.element && ja(this, !1), this.handlers = {}, this.session = {}, this.input.destroy(), this.element = null
        }
    }, la(ha, {
        INPUT_START: Ea,
        INPUT_MOVE: Fa,
        INPUT_END: Ga,
        INPUT_CANCEL: Ha,
        STATE_POSSIBLE: nb,
        STATE_BEGAN: ob,
        STATE_CHANGED: pb,
        STATE_ENDED: qb,
        STATE_RECOGNIZED: rb,
        STATE_CANCELLED: sb,
        STATE_FAILED: tb,
        DIRECTION_NONE: Ia,
        DIRECTION_LEFT: Ja,
        DIRECTION_RIGHT: Ka,
        DIRECTION_UP: La,
        DIRECTION_DOWN: Ma,
        DIRECTION_HORIZONTAL: Na,
        DIRECTION_VERTICAL: Oa,
        DIRECTION_ALL: Pa,
        Manager: ia,
        Input: x,
        TouchAction: V,
        TouchInput: P,
        MouseInput: L,
        PointerEventInput: M,
        TouchMouseInput: R,
        SingleTouchInput: N,
        Recognizer: Y,
        AttrRecognizer: aa,
        Tap: ga,
        Pan: ba,
        Swipe: fa,
        Pinch: ca,
        Rotate: ea,
        Press: da,
        on: m,
        off: n,
        each: g,
        merge: ta,
        extend: sa,
        assign: la,
        inherit: i,
        bindFn: j,
        prefixed: u
    });
    var wb = "undefined" != typeof a ? a : "undefined" != typeof self ? self : {};
    wb.Hammer = ha, "function" == typeof define && define.amd ? define(function () {
        return ha
    }) : "undefined" != typeof module && module.exports ? module.exports = ha : a[c] = ha
}(window, document, "Hammer");
var jQuery = Zepto;
(function (factory) {
    if (typeof define === 'function' && define.amd) {
        define(['jquery', 'hammerjs'], factory);
    } else if (typeof exports === 'object') {
        factory(require('jquery'), require('hammerjs'));
    } else {
        factory(jQuery, Hammer);
    }
}(function ($, Hammer) {
    function hammerify(el, options) {
        var $el = $(el);
        if (!$el.data("hammer")) {
            $el.data("hammer", new Hammer($el[0], options));
        }
    }
    $.fn.hammer = function (options) {
        return this.each(function () {
            hammerify(this, options);
        });
    };
    Hammer.Manager.prototype.emit = (function (originalEmit) {
        return function (type, data) {
            originalEmit.call(this, type, data);
            $(this.element).trigger({
                type: type,
                gesture: data
            });
        };
    })(Hammer.Manager.prototype.emit);
}));
var JSON = 'https://theshift.tokyo/json/?';
var mouse = {
    x: 0,
    y: 0,
    cx: 0,
    cy: 0,
}
var isHiQ = true;
var windowHeight = windowWidth = windowHeightHalf = windowWidthHalf = windowTop = windowTopHeight = 0;
var $html;
var isSplash = true;
var isHomeSlideEnable = true;
var isFontsLoaded = false;

function getUniqueStr(myStrong) {
    var strong = 1000;
    if (myStrong) strong = myStrong;
    return new Date().getTime().toString(16) + Math.floor(strong * Math.random()).toString(16)
}

function wrapWords(str, tmpl) {
    return str.replace(/\w+/g, tmpl || "<span>$&</span>");
}

function wrapWordsChild(str, tmpl) {
    return str.replace(/\w+/g, tmpl || "<span class='o'><span class='c'>$&</span></span>");
}
$html = $('html');
getBrows();
windowHeight = $(window).height();
windowWidth = $(window).width();
windowHeightHalf = windowHeight / 2;
windowWidthHalf = windowWidth / 2;
(function (d) {
    var wf = d.createElement('script'),
        s = d.scripts[0];
    wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js';
    wf.async = true;
    s.parentNode.insertBefore(wf, s);
})(document);
var logoAniamtionTm;
var retinaRatio = window.devicePixelRatio;
var retinaScale = 1 / retinaRatio;
var iframeTm = false;
var pages = {
    once: function () {
        var _this = this;
        _this.langSwicher();
        _this.name = $('.js-load-body').data('namespace');
        _this.type = $('.js-load-body').data('pagetype');
    },
    preload: function () {},
    onResize: function () {
        var c = $('.js-ratio-img');
        for (var i = c.length - 1; i >= 0; i--) {
            var width = c[i].clientWidth;
            var height = width * 0.666666667;
            c[i].style.height = height + "px";
        };
    },
    lang: '',
    isLangChanged: false,
    dislang: '',
    url: '',
    langSwicher: function () {
        var _this = this;
        $('.get-lang option').each(function (index, el) {
            var $el = $(el);
            if (!this.selected) {
                if (_this.lang === $el.text() || _this.lang === '') {
                    _this.isLangChanged = false;
                    _this.lang = $el.text();
                    _this.url = $el.val();
                    $('.header-lang-t').text(_this.lang);
                } else {
                    _this.lang = $el.text();
                    _this.url = $el.val();
                    _this.isLangChanged = true;
                }
                $('.header-lang').attr({
                    'href': _this.url
                });
            } else {
                _this.dislang = $el.text();
            }
        });
        if (_this.isLangChanged) {
            TweenLite.to('.header-lang-t', buttons.animation.in.speed, {
                ease: buttons.animation.in.ease,
                y: '-100%',
                onComplete: function () {
                    $('.header-lang-t').text(_this.lang);
                    TweenLite.set('.header-lang-t', {
                        y: '100%',
                    });
                    TweenLite.to('.header-lang-t', buttons.animation.out.speed, {
                        ease: buttons.animation.out.ease,
                        opacity: 1,
                        y: '0%',
                    });
                }
            });
            $('.js-ls-home').attr({
                href: lang[_this.dislang].home
            });
            $('.js-ls-projects').attr({
                href: lang[_this.dislang].projects
            });
            $('.js-ls-about').attr({
                href: lang[_this.dislang].about
            });
        }
        if (_this.dislang === 'Ja') {
            $html.addClass('is-lang-ja').removeClass('is-lang-en');
        } else {
            $html.addClass('is-lang-en').removeClass('is-lang-ja');
        }
    },
    init: function () {
        var _this = this;
        logoAniamtion.ready = false;
        if (!device.desktop()) {
            control.init();
        }
        _this.onResize();
        _this.$header = $('.site-header');
        $('.m-v-cliped-image').each(function (index, el) {
            var $el = $(el);
            if (device.mobile()) {
                var src = $el.data('src').mb;
            } else if (retinaRatio > 1.5) {
                var src = $el.data('src').d2x;
            } else {
                var src = $el.data('src').d1x;
            }
            $el.attr({
                'xlink:href': src
            });
        });
        $('.js-split-char').each(function (index, el) {
            var $el = $(el);
            var txtSpan = '';
            var txt = $el.text();
            txt.split('').forEach(function (c) {
                txtSpan += '<span>' + c + '</span>';
            });
            $el.html(txtSpan);
        });
        $('.js-split-char-child').each(function (index, el) {
            var $el = $(el);
            var txtSpan = '';
            var txt = $el.text();
            txt.split('').forEach(function (c) {
                txtSpan += '<span class="o"><span class="c">' + c + '</span></span>';
            });
            $el.html(txtSpan);
        });
        $('.js-split-cw-child').each(function (index, el) {
            var $el = $(el);
            var t = $el.text();
            var html = wrapWords(t);
            $el.html(html);
            $el.find('span').each(function (i, e) {
                var $e = $(e);
                var txtSpan = '';
                var txt = $e.text();
                txt.split('').forEach(function (c) {
                    txtSpan += '<span class="o"><span class="c">' + c + '</span></span>';
                });
                $e.html(txtSpan);
            });
        });
        $('.js-split-words').each(function (index, el) {
            var t = $(el).text();
            var html = wrapWords(t);
            $(el).html(html);
        });
        $('.js-split-words-child').each(function (index, el) {
            var t = $(el).text();
            var rhtml = '';
            var w = t.split(' ');
            $.each(w, function (k, v) {
                rhtml += "<span class='o'><span class='c'>" + v + "</span></span> ";
            });
            $(el).html(rhtml);
        });
        $('.subpages-title,.single-title,.main-title').css({
            opacity: 1,
        });
        var d = 0.05;
        $('.delay').each(function (index, el) {
            var $el = $(el);
            var delay = index * d;
            $el.css({
                'transition-delay': delay + 's'
            });
        });
        var delay = ($('.delay').length) * d;
        $('.delay-child').children().each(function (index, el) {
            var $el = $(el);
            var delay = index * d;
            $el.css({
                'transition-delay': delay + 's'
            });
        });
        $('.js-background-img').each(function (index, el) {
            var $el = $(el);
            var obj = $el.data('src');
            if ($el.is('.mb-skip') && device.mobile()) {} else {
                if (device.mobile()) {
                    var src = obj.m;
                } else {
                    var src = obj.d;
                }
                var img = new Image();
                var $img = $(img);
                $img.on({
                    load: function () {
                        $el.addClass('is_bg_loaded');
                    }
                });
                img.src = src;
                $el.find('.js-background-src').css({
                    'background-image': 'url(' + src + ')',
                    'background-position': 'center',
                });
            }
        });
        $html.removeClass(function (index, className) {
            return (className.match(/\badd-\S+/g) || []).join(' ');
        });
        _this.name = $('.js-load-body').data('namespace');
        _this.type = $('.js-load-body').data('pagetype');
        $html.addClass('add-page-type_' + _this.type);
        $html.addClass('add-page-in_' + _this.name);
    },
}
var normalPageScroll = {
    y: 0,
    enable: false,
    init: function () {
        var _this = this;
        _this.enable = false;
        _this.y = 0;
        _this.$target = $('.jsc');
        if (_this.$target.length) {
            _this.options = {
                threshold: 0
            };
            _this.observer = new IntersectionObserver(_this.listerner, _this.options);
            _this.$target.each(function (i, e) {
                _this.observer.observe(e);
            });
            _this.enable = true;
        } else {
            _this.enable = false;
        }
    },
    listerner: function (changes) {
        $.each(changes, function (index, val) {
            var target = val.target;
            var isIntersecting = val.isIntersecting;
            if (isIntersecting) {
                target.classList.add('on');
            } else {}
        });
    },
    onDestroy: function () {
        var _this = this;
        if (_this.enable) {
            _this.$target.each(function (i, e) {
                _this.observer.disconnect(e);
            });
            _this.targets = null;
            _this.observer = null;
        }
    },
    onScroll: function () {
        var _this = this;
    },
    onReset: function () {
        var _this = this;
    }
}

function getBrows() {
    var userAgent = window.navigator.userAgent;
    var browserIE = false;
    var browser_nm;
    if (userAgent.match(/MSIE/) || userAgent.match(/Trident/)) {
        browserIE = true;
    }
    if (browserIE) {
        $html.addClass('is-ie is-ie-old is-low');
        isHiQ = false;
    } else if (userAgent.indexOf("Edge") > -1) {
        isHiQ = true;
        $html.addClass('is-ie is-edge is-hi');
    } else if (userAgent.indexOf("Firefox") > -1) {
        isHiQ = true;
        $html.addClass('is-firefox is-hi');
    } else if (userAgent.indexOf("Chrome") > -1) {
        isHiQ = true;
        $html.addClass('is-chrome is-hi');
    } else if (userAgent.indexOf("Opera") > -1) {
        isHiQ = true;
        $html.addClass('is-opera is-low');
    } else if (userAgent.indexOf("Safari") > -1) {
        if (device.windows() && device.desktop()) {
            isHiQ = false;
            $html.addClass('is-safari is-low');
        } else {
            isHiQ = true;
            $html.addClass('is-safari is-hi');
        }
    } else {
        $html.addClass('is-other');
    }
}
$(document).on({
    click: function () {
        TweenLite.to('.attention-wrap', 0.5, {
            opacity: 0,
            y: '100%',
            onComplete: function () {
                $('.attention-wrap').css({
                    'display': 'none'
                });
            }
        });
    },
}, '.attention-close');

function converter(M) {
    var str = "",
        str_as = "";
    for (var i = 0; i < M.length; i++) {
        str_as = M.charCodeAt(i);
        str += String.fromCharCode(str_as + 1);
    }
    return str;
}
$(document).on('click', '.js-mail-to', function (event) {
    event.preventDefault();
    var ad = converter(String.fromCharCode(104, 109, 101, 110, 63, 115, 103, 100, 114, 103, 104, 101, 115, 45, 115, 110, 106, 120, 110, 62, 114, 116, 97, 105, 100, 98, 115, 60));
    location.href = "m" + "a" + "i" + "l" + "t" + "o" + ":" + ad;
});
var wheelSlider = {
    enable: true,
    onScroll: function (y) {},
    onScrollDown: function () {
        var _this = this;
        if (_this.enable) {
            titleTextSlider.enable = false;
            _this.enable = false;
            titleTextSlider.position.dy = -0.75;
            titleTextSlider.onSlideToNext(true);
        }
    },
    onScrollUp: function () {
        var _this = this;
        if (_this.enable) {
            titleTextSlider.enable = false;
            _this.enable = false;
            titleTextSlider.position.dy = 0.75;
            titleTextSlider.onSlideToPrev(true);
        }
    }
}
var titleTextSlider = {
    position: {
        sx: 0,
        sy: 0,
        x: 0,
        y: 0,
        dx: 0,
        dy: 0,
    },
    animation: {
        ing: false,
        enable: false,
        out: {
            speed: 1.2,
            delay: 0.015,
            ease: CustomEase.create("custom", "M0,0 C0.276,0.19 0.291,0.604 0.43,0.822 0.556,1 0.818,1 1,1")
        },
        out_drag: {
            speed: 1.4,
            delay: 0.05,
            ease: CustomEase.create("custom", "M0,0,C0.276,0.19,0.162,0.603,0.324,0.812,0.48,1.014,0.65,1,1,1")
        },
        out_inf: {
            delay: 0.05,
        },
    },
    init: function () {
        var _this = this;
        _this.position = {
            sx: 0,
            sy: 0,
            x: 0,
            y: 0,
            dx: 0,
            dy: 0,
        };
        _this.$slide = $('.m-v-slide');
        _this.dir = 'down';
        _this.max = _this.$slide.length;
        _this.prev = 0;
        _this.now = 0;
        _this.next = 1;
        _this.enable = false;
        _this.over = 0.6;
        _this.pow = 30;
        _this.$link = $('.slider-links');
        _this.animation.ing = false;
        TweenLite.set('.icon-table-path', {
            drawSVG: "0%"
        });
        _this.numHeight = $('.slider-cntrl-max').height();
        TweenLite.set('.slider-cntrl-now-move', {
            y: -_this.numHeight
        });
        if (_this.slideTweens.length) {
            for (var i = _this.slideTweens.length - 1; i >= 0; i--) {
                _this.slideTweens[i].kill();
            };
        }
        _this.$slide.eq(0).addClass('active');
        $('.slider-cntrl-now-move').append('<span class="slider-cntrl-now">' + _this.max + '</span>');
        for (var i = 1; i <= _this.max; i++) {
            $('.slider-cntrl-now-move').append('<span class="slider-cntrl-now">' + i + '</span>');
        };
        $('.slider-cntrl-now-move').append('<span class="slider-cntrl-now">1</span>');
        $('.slider-cntrl-max').text(_this.max);
        TweenLite.set('.main-title .c', {
            x: 0,
            y: '120%',
        });
        _this.onShow();
        _this.initLoop();
        var href = _this.$slide.eq(_this.now).find('.slider-links-overlay').attr('href');
        _this.$link.attr({
            'href': href
        });
    },
    loopTween: false,
    onShow: function () {
        var _this = this;
        var ease = _this.animation.out.ease;
        var speed = _this.animation.out.speed;
        var c = _this.$slide.eq(0).find('.main-title .c');
        for (var i = c.length - 1; i >= 0; i--) {
            var delay = i * _this.animation.out.delay;
            TweenLite.set(c[i], {
                x: 0,
                y: '120%',
            });
            _this.slideTweens[i] = TweenLite.to(c[i], speed, {
                y: '0%',
                delay: delay,
                ease: ease,
            });
        }
    },
    initLoop: function () {
        var _this = this;
        if (_this.loopTween) {
            _this.loopTween.kill();
        }
        _this.loopTween = new TimelineMax({
            repeat: -1,
        });
        _this.loopTween.to('.slider-cntrl-bar', 6, {
            x: '100%',
        });
        _this.loopTween.to('.slider-cntrl-bar', _this.animation.out.speed, {
            x: '200%',
            delay: 1,
            ease: _this.animation.out.ease,
            onStart: function () {
                _this.onSlideToNext(true);
            }
        });
    },
    onResetLoop: function (isNext) {
        var _this = this;
        if (_this.loopTween) {
            _this.loopTween.kill();
            if (isNext) {
                TweenLite.to('.slider-cntrl-bar', _this.animation.out.speed, {
                    ease: _this.animation.out.ease,
                    x: '200%',
                    onComplete: function () {
                        TweenLite.set(this.target, {
                            x: '0%',
                        });
                        _this.initLoop();
                    }
                });
            } else {
                TweenLite.to('.slider-cntrl-bar', 0.1, {
                    x: '0%',
                    onComplete: function () {
                        TweenLite.set(this.target, {
                            x: '200%',
                        });
                        TweenLite.to(this.target, _this.animation.out.speed, {
                            x: '0%',
                            ease: _this.animation.out.ease,
                            onComplete: function () {
                                _this.initLoop();
                            }
                        });
                    }
                });
            }
        }
    },
    onResetLoopDragging: function () {
        var _this = this;
        if (_this.loopTween) {
            _this.loopTween.kill();
        }
    },
    onDragStart: function (x, y) {
        var _this = this;
        _this.position = {
            sx: 0,
            sy: 0,
            x: 0,
            y: 0,
            dx: 0,
            dy: 0,
        };
        _this.position.sx = x;
        _this.position.sy = y;
        $html.addClass('is-drag-start');
        _this.onResetLoopDragging();
    },
    onDragging: function (x, y) {
        var _this = this;
        _this.position.x = x;
        _this.position.y = y;
        _this.position.dx = _this.position.sx - x;
        _this.position.dy = _this.position.sy - y;
        var c = _this.$slide.eq(_this.now).find('.main-title .o');
        for (var i = c.length - 1; i >= 0; i--) {
            var y = _this.position.dy * (c.length / 2 - i) * _this.pow;
            TweenLite.to(c[i], 0.2, {
                y: y,
            });
        }
        icon.onDragging(_this.position.dy);
        thumbPolySlider.onDragging(_this.position.dy);
    },
    slideTweens: [],
    slideOffsets: {
        y: 100,
    },
    onSlideToNext: function (isScroll) {
        var _this = this;
        _this.animation.enable = true;
        _this.animation.ing = true;
        _this.onResetLoop(true);
        if (isScroll) {
            var ease = _this.animation.out.ease;
            var speed = _this.animation.out.speed;
        } else {
            var ease = _this.animation.out_drag.ease;
            var speed = _this.animation.out_drag.speed;
        }
        for (var i = _this.slideTweens.length - 1; i >= 0; i--) {
            _this.slideTweens[i].kill();
        };
        _this.prev = _this.now;
        var c = _this.$slide.eq(_this.prev).find('.main-title .c');
        for (var i = c.length - 1; i >= 0; i--) {
            var delay = i * _this.animation.out.delay;
            TweenLite.to(c[i], speed, {
                delay: delay,
                y: '-120%',
                ease: ease,
            });
        }
        if (_this.now < _this.max - 1) {
            _this.now++;
        } else {
            _this.now = 0;
        }
        _this.next = _this.now;
        var href = _this.$slide.eq(_this.next).find('.slider-links-overlay').attr('href');
        _this.$link.attr({
            'href': href
        });
        var c = _this.$slide.eq(_this.next).find('.main-title .o');
        for (var i = c.length - 1; i >= 0; i--) {
            TweenLite.set(c[i], {
                x: 0,
                y: 0,
            });
        }
        var c = _this.$slide.eq(_this.next).find('.main-title .c');
        for (var i = c.length - 1; i >= 0; i--) {
            var delay = i * _this.animation.out.delay;
            TweenLite.set(c[i], {
                x: 0,
                y: '120%',
            });
            _this.slideTweens[i] = TweenLite.to(c[i], speed, {
                y: '0%',
                delay: delay,
                ease: ease,
                onComplete: function () {
                    wheelSlider.enable = true;
                }
            });
        }
        thumbPolySlider.onSlideToNext(_this.prev, _this.next, isScroll);
        _this.animation.enable = false;
        var c = _this.$slide.eq(_this.prev).find('.m-v-slide-title .c');
        for (var i = c.length - 1; i >= 0; i--) {
            var s = speed + i * _this.animation.out_inf.delay;
            TweenLite.to(c[i], s, {
                ease: ease,
                y: -_this.numHeight
            });
        }
        var c = _this.$slide.eq(_this.next).find('.m-v-slide-title .c');
        for (var i = c.length - 1; i >= 0; i--) {
            var s = speed + i * _this.animation.out_inf.delay;
            TweenLite.set(c[i], {
                y: _this.numHeight
            });
            TweenLite.to(c[i], s, {
                ease: ease,
                y: 0,
            });
        }
        _this.$slide.removeClass('prev active');
        _this.$slide.eq(_this.prev).addClass('prev');
        _this.$slide.eq(_this.next).addClass('active');
        if (_this.now === 0) {
            TweenLite.set($('.slider-cntrl-now-move'), {
                y: 0,
            });
            TweenLite.to($('.slider-cntrl-now-move'), speed, {
                y: -_this.numHeight * (_this.now + 1),
                ease: ease,
            });
        } else {
            TweenLite.to($('.slider-cntrl-now-move'), speed, {
                y: -_this.numHeight * (_this.now + 1),
                ease: ease,
            });
        }
        var c = $('.js-slider-cntrl-to-next').find('path');
        for (var i = c.length - 1; i >= 0; i--) {
            TweenLite.to(c[i], 0.3, {
                drawSVG: '0% 0%',
                onComplete: function () {
                    TweenLite.set(this.target, {
                        drawSVG: '100% 100%',
                    });
                    TweenLite.to(this.target, 0.4, {
                        drawSVG: '0% 100%',
                        onComplete: function () {
                            _this.animation.ing = false;
                        }
                    });
                }
            });
        };
    },
    onSlideToPrev: function (isScroll) {
        var _this = this;
        _this.animation.enable = true;
        _this.animation.ing = true;
        _this.onResetLoop(false);
        if (isScroll) {
            var ease = _this.animation.out.ease;
            var speed = _this.animation.out.speed;
        } else {
            var ease = _this.animation.out_drag.ease;
            var speed = _this.animation.out_drag.speed;
        }
        for (var i = _this.slideTweens.length - 1; i >= 0; i--) {
            _this.slideTweens[i].kill();
        };
        _this.prev = _this.now;
        var c = _this.$slide.eq(_this.prev).find('.main-title .c');
        for (var i = c.length - 1; i >= 0; i--) {
            var delay = i * _this.animation.out.delay;
            TweenLite.to(c[i], speed, {
                y: '120%',
                delay: delay,
                ease: ease,
            });
        };
        if (_this.now === 0) {
            _this.now = _this.max - 1;
        } else {
            _this.now--;
        }
        _this.next = _this.now;
        var href = _this.$slide.eq(_this.next).find('.slider-links-overlay').attr('href');
        _this.$link.attr({
            'href': href
        });
        var c = _this.$slide.eq(_this.next).find('.main-title .o');
        for (var i = c.length - 1; i >= 0; i--) {
            TweenLite.set(c[i], {
                x: 0,
                y: 0,
            });
        };
        var c = _this.$slide.eq(_this.next).find('.main-title .c');
        for (var i = c.length - 1; i >= 0; i--) {
            var delay = i * _this.animation.out.delay;
            TweenLite.set(c[i], {
                y: '-120%',
            });
            _this.slideTweens[i] = TweenLite.to(c[i], speed, {
                y: '0%',
                delay: delay,
                ease: ease,
                onComplete: function () {
                    wheelSlider.enable = true;
                }
            });
        };
        thumbPolySlider.onSlideToPrev(_this.prev, _this.next, isScroll);
        _this.animation.enable = false;
        var c = _this.$slide.eq(_this.prev).find('.m-v-slide-title .c');
        for (var i = c.length - 1; i >= 0; i--) {
            var s = speed + i * _this.animation.out_inf.delay;
            TweenLite.to(c[i], s, {
                ease: ease,
                y: _this.numHeight,
            });
        };
        var c = _this.$slide.eq(_this.next).find('.m-v-slide-title .c');
        for (var i = c.length - 1; i >= 0; i--) {
            var s = speed + i * _this.animation.out_inf.delay;
            TweenLite.set(c[i], {
                y: -_this.numHeight
            });
            TweenLite.to(c[i], s, {
                ease: ease,
                y: 0,
            });
        };
        _this.$slide.removeClass('prev active');
        _this.$slide.eq(_this.prev).addClass('prev');
        _this.$slide.eq(_this.next).addClass('active');
        if (_this.now === _this.max - 1) {
            TweenLite.set($('.slider-cntrl-now-move'), {
                y: -_this.numHeight * (_this.max + 1),
            });
            TweenLite.to($('.slider-cntrl-now-move'), speed, {
                y: -_this.numHeight * (_this.now + 1),
                ease: ease,
            });
        } else {
            TweenLite.to($('.slider-cntrl-now-move'), speed, {
                y: -_this.numHeight * (_this.now + 1),
                ease: ease,
            });
        }
        var c = $('.js-slider-cntrl-to-prev').find('path');
        for (var i = c.length - 1; i >= 0; i--) {
            TweenLite.to(c[i], 0.3, {
                drawSVG: '0% 0%',
                onComplete: function () {
                    TweenLite.set(this.target, {
                        drawSVG: '100% 100%',
                    });
                    TweenLite.to(this.target, 0.4, {
                        drawSVG: '0% 100%',
                        onComplete: function () {
                            _this.animation.ing = false;
                        }
                    });
                }
            });
        };
    },
    onDragEnd: function (x, y) {
        $html.removeClass('is-drag-start');
        var _this = this;
        if (_this.position.dy < -_this.over) {
            _this.onSlideToNext();
        } else if (_this.position.dy > _this.over) {
            _this.onSlideToPrev();
            thumbPolySlider.onSlideToPrev(_this.prev, _this.next);
        } else {
            _this.onResetLoop(true);
            var c = $('.main-title .o');
            for (var i = c.length - 1; i >= 0; i--) {
                TweenLite.to(c[i], _this.animation.out.speed / 2, {
                    y: 0,
                    ease: _this.animation.out.ease,
                });
            };
            thumbPolySlider.onSlideToNone(_this.now);
        }
        icon.onDragEnd(_this.position.dy);
    },
    onReset: function () {},
    onPageLeave: function (ease, speed) {
        var _this = this;
        var c = _this.$slide.eq(_this.next).find('.main-title .o');
        for (var i = c.length - 1; i >= 0; i--) {
            TweenLite.set(c[i], {
                x: 0,
                y: 0,
            });
        };
        var c = _this.$slide.eq(_this.now).find('.main-title .c');
        for (var i = c.length - 1; i >= 0; i--) {
            var delay = i * _this.animation.out.delay;
            TweenLite.to(c[i], speed, {
                y: '-110%',
                delay: delay,
                ease: ease,
            });
        };
    },
}
$(document).on({
    click: function () {
        if (!titleTextSlider.animation.ing) {
            titleTextSlider.onSlideToNext();
        }
    },
}, '.js-slider-cntrl-to-next');
$(document).on({
    click: function () {
        if (!titleTextSlider.animation.ing) {
            titleTextSlider.onSlideToPrev();
        }
    },
}, '.js-slider-cntrl-to-prev');
document.addEventListener('keydown', function (e) {
    if (e.keyCode === 40) {
        if (!titleTextSlider.animation.ing) {
            titleTextSlider.onSlideToNext();
        }
    } else if (e.keyCode === 38) {
        if (!titleTextSlider.animation.ing) {
            titleTextSlider.onSlideToPrev();
        }
    }
});
var thumbPolySlider = {
    ready: false,
    animation: {
        enable: true,
        ing: {
            speed: 0.4,
            ease: Power3.easeOut,
        },
        none: {
            speed: 0.8,
            ease: CustomEase.create("custom", "M0,0,C0.276,0.19,0.162,0.603,0.324,0.812,0.48,1.014,0.65,1,1,1")
        },
        out: {
            speed: 1,
            delay: 0.06,
        },
        out_drag: {
            speed: 0.8,
            delay: 0.03,
        },
        mouse: {
            speed: 1.2,
        }
    },
    offsets: {
        top: 10,
        bottom: 220,
        mouse: 50,
        slide: 50,
    },
    scaleTween: [],
    scale: {
        enable: false,
        speed: 8,
        leave: 1.4,
        enter: 1.1
    },
    onReset: function () {
        var _this = this;
        if (_this.scaleTween.length) {
            for (var i = _this.scaleTween.length - 1; i >= 0; i--) {
                _this.scaleTween[i].kill();
            };
        }
    },
    once: function () {
        var _this = this;
        _this.points = {
            left: {
                from: {
                    x1: 365.5,
                    x2: 193.5,
                    x3: 193.5,
                    x4: 365.5,
                    y1: 505,
                    y2: 505,
                    y3: 505,
                    y4: 505
                },
                origin: {
                    x1: 365.5,
                    x2: 193.5,
                    x3: 562.5,
                    x4: 734.5,
                    y1: 505,
                    y2: 505,
                    y3: 135,
                    y4: 135
                },
                to: {
                    x1: 734.5,
                    x2: 562.5,
                    x3: 562.5,
                    x4: 734.5,
                    y1: 135,
                    y2: 135,
                    y3: 135,
                    y4: 135
                }
            },
            center: {
                from: {
                    x1: 466.5,
                    x2: 294.5,
                    x3: 294.5,
                    x4: 466.5,
                    y1: 615,
                    y2: 615,
                    y3: 615,
                    y4: 615
                },
                origin: {
                    x1: 466.5,
                    x2: 294.5,
                    x3: 663.5,
                    x4: 835.5,
                    y1: 615,
                    y2: 615,
                    y3: 245,
                    y4: 245
                },
                to: {
                    x1: 835.5,
                    x2: 663.5,
                    x3: 663.5,
                    x4: 835.5,
                    y1: 245,
                    y2: 245,
                    y3: 245,
                    y4: 245
                }
            },
            right: {
                from: {
                    x1: 727.5,
                    x2: 555.5,
                    x3: 555.5,
                    x4: 727.5,
                    y1: 565,
                    y2: 565,
                    y3: 565,
                    y4: 565
                },
                origin: {
                    x1: 727.5,
                    x2: 555.5,
                    x3: 924.5,
                    x4: 1096.5,
                    y1: 565,
                    y2: 565,
                    y3: 195,
                    y4: 195
                },
                to: {
                    x1: 1096.5,
                    x2: 924.5,
                    x3: 924.5,
                    x4: 1096.5,
                    y1: 195,
                    y2: 195,
                    y3: 195,
                    y4: 195
                }
            },
        };
        _this.fixpoints = {
            left: {
                from: "365.5, 505 193.5, 505 193.5, 505 365.5, 505 ",
                origin: "365.5, 505 193.5, 505 562.5, 135 734.5, 135 ",
                to: "734.5, 135 562.5, 135 562.5, 135 734.5, 135 ",
            },
            center: {
                from: "466.5, 615 294.5, 615 294.5, 615 466.5, 615 ",
                origin: "466.5, 615 294.5, 615 663.5, 245 835.5, 245 ",
                to: "835.5, 245 663.5, 245 663.5, 245 835.5, 245 ",
            },
            right: {
                from: "727.5, 565 555.5, 565 555.5, 565 727.5, 565 ",
                origin: "727.5, 565 555.5, 565 924.5, 195 1096.5, 195 ",
                to: "1096.5, 195 924.5, 195 924.5, 195 1096.5, 195 ",
            },
        };
    },
    init: function () {
        var _this = this;
        _this.mouse = false;
        _this.ready = false;
        _this.$slide = $('.m-v-slide');
        _this.$mvl = $('.m-v-clip-poly-left');
        _this.$mvc = $('.m-v-clip-poly-center');
        _this.$mvr = $('.m-v-clip-poly-right');
        _this.$front = $('.m-v-slide-thumbnail-front').find('.m-v-cliped-image');
        _this.$back = $('.m-v-slide-thumbnail-back').find('.m-v-cliped-image');
        TweenLite.set('.m-v-cliped-image', {
            scale: 1,
            transformOrigin: 'center'
        });
        TweenLite.set(_this.$mvr, {
            attr: {
                points: _this.fixpoints.right.from
            }
        });
        TweenLite.set(_this.$mvc, {
            attr: {
                points: _this.fixpoints.center.to
            }
        });
        TweenLite.set(_this.$mvl, {
            attr: {
                points: _this.fixpoints.left.from
            }
        });
        _this.animation.enable = true;
        _this.ready = true;
        _this.onShow();
    },
    onShow: function () {
        var _this = this;
        if (isSplash) {
            var ease = titleTextSlider.animation.out.ease;
            var speed = _this.animation.out.speed * 0.7;
            var d = 0.09;
            var d1 = 0.2;
        } else {
            var ease = titleTextSlider.animation.out.ease;
            var speed = _this.animation.out.speed * 0.5;
            var d = 0.06;
            var d1 = 0.2;
        }
        var $l = _this.$slide.eq(0).find('.m-v-clip-poly-left');
        var $c = _this.$slide.eq(0).find('.m-v-clip-poly-center');
        var $r = _this.$slide.eq(0).find('.m-v-clip-poly-right');
        TweenLite.to($l, speed, {
            ease: ease,
            delay: d1,
            attr: {
                points: _this.fixpoints.left.origin
            }
        });
        TweenLite.to($c, speed, {
            ease: ease,
            delay: d1 + d,
            attr: {
                points: _this.fixpoints.center.origin
            }
        });
        TweenLite.to($r, speed, {
            ease: ease,
            delay: d1 + d * 2,
            attr: {
                points: _this.fixpoints.right.origin
            }
        });
        TweenLite.set(_this.$mvl, {
            x: -_this.offsets.slide,
            y: _this.offsets.slide
        });
        TweenLite.set(_this.$mvc, {
            x: _this.offsets.slide,
            y: -_this.offsets.slide
        });
        TweenLite.set(_this.$mvr, {
            x: -_this.offsets.slide,
            y: _this.offsets.slide
        });
        TweenLite.to(_this.$mvl, speed, {
            ease: ease,
            x: 0,
            y: 0,
            delay: d1,
        });
        TweenLite.to(_this.$mvc, speed, {
            ease: ease,
            x: 0,
            y: 0,
            delay: d1 + d,
        });
        TweenLite.to(_this.$mvr, speed, {
            ease: ease,
            x: 0,
            y: 0,
            delay: d1 + d * 2,
            onComplete: function () {
                _this.mouse = true;
            }
        });
        var d1 = 0;
        TweenLite.to('.m-v-slide-bg .m-v-clip-poly-left', speed, {
            ease: ease,
            delay: d1,
            attr: {
                points: _this.fixpoints.left.origin
            }
        });
        TweenLite.to('.m-v-slide-bg .m-v-clip-poly-center', speed, {
            ease: ease,
            delay: d1 + d,
            attr: {
                points: _this.fixpoints.center.origin
            }
        });
        TweenLite.to('.m-v-slide-bg .m-v-clip-poly-right', speed, {
            ease: ease,
            delay: d1 + d * 2,
            attr: {
                points: _this.fixpoints.right.origin
            }
        });
        if (_this.scale.enable) {
            var $img = _this.$slide.eq(0).find('.m-v-cliped-image');
            if (_this.scaleTween.length) {
                for (var i = _this.scaleTween.length - 1; i >= 0; i--) {
                    _this.scaleTween[i].kill();
                };
            }
            _this.scaleTween[0] = TweenLite.to($img, _this.scale.speed, {
                scale: _this.scale.enter,
                ease: Power0.easeNone,
            });
        }
    },
    onMouseMove: function (x, y) {
        var _this = this;
    },
    onDragging: function (dy) {
        var _this = this;
        var $l = _this.$slide.eq(titleTextSlider.now).find('.m-v-clip-poly-left');
        var $c = _this.$slide.eq(titleTextSlider.now).find('.m-v-clip-poly-center');
        var $r = _this.$slide.eq(titleTextSlider.now).find('.m-v-clip-poly-right');
        if (dy < 0) {
            var t = dy * _this.offsets.top;
            var b = dy * _this.offsets.bottom;
        } else {
            var t = dy * _this.offsets.bottom;
            var b = dy * _this.offsets.top;
        }
        var x1 = _this.points.center.origin.x1 + t;
        var y1 = _this.points.center.origin.y1 - t;
        var x2 = _this.points.center.origin.x2 + t;
        var y2 = _this.points.center.origin.y2 - t;
        var x3 = _this.points.center.origin.x3 + b;
        var y3 = _this.points.center.origin.y3 - b;
        var x4 = _this.points.center.origin.x4 + b;
        var y4 = _this.points.center.origin.y4 - b;
        TweenLite.to($c, _this.animation.ing.speed, {
            ease: _this.animation.ing.ease,
            attr: {
                points: x1 + ", " + y1 + " "
                    + x2 + ", " + y2 + " "
                    + x3 + ", " + y3 + " "
                    + x4 + ", " + y4 + " "
            }
        });
        if (dy < 0) {
            var t = dy * _this.offsets.bottom;
            var b = dy * _this.offsets.top;
        } else {
            var t = dy * _this.offsets.top;
            var b = dy * _this.offsets.bottom;
        }
        var x1 = _this.points.right.origin.x1 - t;
        var y1 = _this.points.right.origin.y1 + t;
        var x2 = _this.points.right.origin.x2 - t;
        var y2 = _this.points.right.origin.y2 + t;
        var x3 = _this.points.right.origin.x3 - b;
        var y3 = _this.points.right.origin.y3 + b;
        var x4 = _this.points.right.origin.x4 - b;
        var y4 = _this.points.right.origin.y4 + b;
        TweenLite.to($r, _this.animation.ing.speed, {
            ease: _this.animation.ing.ease,
            attr: {
                points: x1 + ", " + y1 + " "
                    + x2 + ", " + y2 + " "
                    + x3 + ", " + y3 + " "
                    + x4 + ", " + y4 + " "
            }
        });
        var x1 = _this.points.left.origin.x1 - t;
        var y1 = _this.points.left.origin.y1 + t;
        var x2 = _this.points.left.origin.x2 - t;
        var y2 = _this.points.left.origin.y2 + t;
        var x3 = _this.points.left.origin.x3 - b;
        var y3 = _this.points.left.origin.y3 + b;
        var x4 = _this.points.left.origin.x4 - b;
        var y4 = _this.points.left.origin.y4 + b;
        TweenLite.to($l, _this.animation.ing.speed, {
            ease: _this.animation.ing.ease,
            attr: {
                points: x1 + ", " + y1 + " "
                    + x2 + ", " + y2 + " "
                    + x3 + ", " + y3 + " "
                    + x4 + ", " + y4 + " "
            }
        });
    },
    onDragEnd: function () {
        var _this = this;
    },
    onSlideToNone: function (now) {
        var _this = this;
        if (_this.ready) {
            var $l = _this.$slide.eq(now).find('.m-v-clip-poly-left');
            var $c = _this.$slide.eq(now).find('.m-v-clip-poly-center');
            var $r = _this.$slide.eq(now).find('.m-v-clip-poly-right');
            TweenLite.to($c, _this.animation.none.speed, {
                ease: _this.animation.none.ease,
                attr: {
                    points: _this.fixpoints.center.origin
                }
            });
            TweenLite.to($r, _this.animation.none.speed, {
                ease: _this.animation.none.ease,
                attr: {
                    points: _this.fixpoints.right.origin
                }
            });
            TweenLite.to($l, _this.animation.none.speed, {
                ease: _this.animation.none.ease,
                attr: {
                    points: _this.fixpoints.left.origin
                }
            });
        }
    },
    onSlideToNext: function (prev, next, isScroll) {
        var _this = this;
        if (isScroll) {
            var ease = titleTextSlider.animation.out.ease;
            var speed = _this.animation.out.speed;
        } else {
            var ease = titleTextSlider.animation.out_drag.ease;
            var speed = _this.animation.out_drag.speed;
        }
        var $l = _this.$slide.eq(prev).find('.m-v-clip-poly-left');
        var $c = _this.$slide.eq(prev).find('.m-v-clip-poly-center');
        var $r = _this.$slide.eq(prev).find('.m-v-clip-poly-right');
        TweenLite.to($l, speed, {
            delay: _this.animation.out.delay * 1,
            ease: ease,
            x: _this.offsets.slide,
            y: -_this.offsets.slide,
            attr: {
                points: _this.fixpoints.left.to
            },
            onStart: function () {
                _this.animation.enable = false;
            },
            onComplete: function () {
                _this.animation.enable = true;
            }
        });
        TweenLite.to($c, speed, {
            delay: _this.animation.out.delay * 2,
            ease: ease,
            x: -_this.offsets.slide,
            y: _this.offsets.slide,
            attr: {
                points: _this.fixpoints.center.from
            }
        });
        TweenLite.to($r, speed, {
            delay: _this.animation.out.delay * 3,
            ease: ease,
            x: _this.offsets.slide,
            y: -_this.offsets.slide,
            attr: {
                points: _this.fixpoints.right.to
            }
        });
        var $l = _this.$slide.eq(next).find('.m-v-clip-poly-left');
        var $c = _this.$slide.eq(next).find('.m-v-clip-poly-center');
        var $r = _this.$slide.eq(next).find('.m-v-clip-poly-right');
        TweenLite.set($c, {
            x: 0,
            y: 0,
            attr: {
                points: _this.fixpoints.center.to
            }
        });
        TweenLite.set($r, {
            x: 0,
            y: 0,
            attr: {
                points: _this.fixpoints.right.from
            }
        });
        TweenLite.set($l, {
            x: 0,
            y: 0,
            attr: {
                points: _this.fixpoints.left.from
            }
        });
        TweenLite.to($l, speed, {
            delay: _this.animation.out.delay * 1 + _this.animation.out.delay * 1,
            ease: ease,
            x: 0,
            y: 0,
            attr: {
                points: _this.fixpoints.left.origin
            }
        });
        TweenLite.to($c, speed, {
            delay: _this.animation.out.delay * 2 + _this.animation.out.delay * 2,
            ease: ease,
            x: 0,
            y: 0,
            attr: {
                points: _this.fixpoints.center.origin
            }
        });
        TweenLite.to($r, speed, {
            delay: _this.animation.out.delay * 3 + _this.animation.out.delay * 3,
            ease: ease,
            x: 0,
            y: 0,
            attr: {
                points: _this.fixpoints.right.origin
            }
        });
        if (_this.scale.enable) {
            var $p_img = _this.$slide.eq(prev).find('.m-v-cliped-image');
            var $n_img = _this.$slide.eq(next).find('.m-v-cliped-image');
            if (_this.scaleTween.length) {
                for (var i = _this.scaleTween.length - 1; i >= 0; i--) {
                    _this.scaleTween[i].kill();
                };
            }
            _this.scaleTween[0] = TweenLite.to($p_img, _this.scale.speed, {
                scale: _this.scale.leave,
            });
            TweenLite.set($n_img, {
                scale: 1,
            });
            _this.scaleTween[1] = TweenLite.to($n_img, _this.scale.speed, {
                scale: _this.scale.enter,
                ease: Power0.easeNone,
            });
        }
    },
    onSlideToPrev: function (prev, next, isScroll) {
        var _this = this;
        if (isScroll) {
            var ease = titleTextSlider.animation.out.ease;
            var speed = _this.animation.out.speed;
        } else {
            var ease = titleTextSlider.animation.out_drag.ease;
            var speed = _this.animation.out_drag.speed;
        }
        var $l = _this.$slide.eq(prev).find('.m-v-clip-poly-left');
        var $c = _this.$slide.eq(prev).find('.m-v-clip-poly-center');
        var $r = _this.$slide.eq(prev).find('.m-v-clip-poly-right');
        TweenLite.to($l, speed, {
            delay: _this.animation.out.delay * 1,
            ease: ease,
            x: -_this.offsets.slide,
            y: _this.offsets.slide,
            attr: {
                points: _this.fixpoints.left.from
            },
            onStart: function () {
                _this.animation.enable = false;
            },
            onComplete: function () {
                _this.animation.enable = true;
            }
        });
        TweenLite.to($c, speed, {
            delay: _this.animation.out.delay * 2,
            ease: ease,
            x: _this.offsets.slide,
            y: -_this.offsets.slide,
            attr: {
                points: _this.fixpoints.center.to
            }
        });
        TweenLite.to($r, speed, {
            delay: _this.animation.out.delay * 3,
            ease: ease,
            x: -_this.offsets.slide,
            y: _this.offsets.slide,
            attr: {
                points: _this.fixpoints.right.from
            }
        });
        var $l = _this.$slide.eq(next).find('.m-v-clip-poly-left');
        var $c = _this.$slide.eq(next).find('.m-v-clip-poly-center');
        var $r = _this.$slide.eq(next).find('.m-v-clip-poly-right');
        TweenLite.set($c, {
            attr: {
                x: 0,
                y: 0,
                points: _this.fixpoints.center.from
            }
        });
        TweenLite.set($r, {
            attr: {
                x: 0,
                y: 0,
                points: _this.fixpoints.right.to
            }
        });
        TweenLite.set($l, {
            attr: {
                x: 0,
                y: 0,
                points: _this.fixpoints.left.to
            }
        });
        TweenLite.to($l, speed, {
            delay: _this.animation.out.delay * 1 + _this.animation.out.delay * 1,
            ease: ease,
            x: 0,
            y: 0,
            attr: {
                points: _this.fixpoints.left.origin
            }
        });
        TweenLite.to($c, speed, {
            delay: _this.animation.out.delay * 2 + _this.animation.out.delay * 2,
            ease: ease,
            x: 0,
            y: 0,
            attr: {
                points: _this.fixpoints.center.origin
            }
        });
        TweenLite.to($r, speed, {
            delay: _this.animation.out.delay * 3 + _this.animation.out.delay * 3,
            ease: ease,
            x: 0,
            y: 0,
            attr: {
                points: _this.fixpoints.right.origin
            }
        });
        if (_this.scale.enable) {
            var $p_img = _this.$slide.eq(prev).find('.m-v-cliped-image');
            var $n_img = _this.$slide.eq(next).find('.m-v-cliped-image');
            if (_this.scaleTween.length) {
                for (var i = _this.scaleTween.length - 1; i >= 0; i--) {
                    _this.scaleTween[i].kill();
                };
            }
            _this.scaleTween[0] = TweenLite.to($p_img, _this.scale.speed, {
                scale: _this.scale.leave,
            });
            TweenLite.set($n_img, {
                scale: 1,
            });
            _this.scaleTween[1] = TweenLite.to($n_img, _this.scale.speed, {
                scale: _this.scale.enter,
                ease: Power0.easeNone,
            });
        }
    },
    getPoints: function (align, type) {
        var _this = this;
        var p = '';
        $.each(_this.points, function (key, value) {
            if (key === align) {
                $.each(value, function (k, v) {
                    if (k === type) {
                        p = v.x1 + ", " + v.y1 + " " + v.x2 + ", " + v.y2 + " " + v.x3 + ", " + v.y3 + " " + v.x4 + ", " + v.y4 + " ";
                    }
                });
            }
        });
        return p;
    },
    onPageLeave: function (ease, speed, deferred) {
        var _this = this;
        var speed = speed * 0.9;
        var $l = _this.$slide.eq(titleTextSlider.now).find('.m-v-clip-poly-left');
        var $c = _this.$slide.eq(titleTextSlider.now).find('.m-v-clip-poly-center');
        var $r = _this.$slide.eq(titleTextSlider.now).find('.m-v-clip-poly-right');
        TweenLite.to($l, speed, {
            ease: ease,
            x: _this.offsets.slide,
            y: -_this.offsets.slide,
            attr: {
                points: _this.fixpoints.left.to
            },
            onStart: function () {
                _this.animation.enable = false;
            },
            onComplete: function () {
                _this.animation.enable = true;
            }
        });
        TweenLite.to($c, speed, {
            delay: _this.animation.out.delay * 1,
            ease: ease,
            x: -_this.offsets.slide,
            y: _this.offsets.slide,
            attr: {
                points: _this.fixpoints.center.from
            }
        });
        TweenLite.to($r, speed, {
            delay: _this.animation.out.delay * 2,
            ease: ease,
            x: _this.offsets.slide,
            y: -_this.offsets.slide,
            attr: {
                points: _this.fixpoints.right.to
            }
        });
        var d = 0.08;
        TweenLite.to('.m-v-slide-bg .m-v-clip-poly-left', speed, {
            delay: d,
            ease: ease,
            x: _this.offsets.slide,
            y: -_this.offsets.slide,
            attr: {
                points: _this.fixpoints.left.to
            },
            onStart: function () {
                _this.animation.enable = false;
            },
            onComplete: function () {
                _this.animation.enable = true;
            }
        });
        TweenLite.to('.m-v-slide-bg .m-v-clip-poly-center', speed, {
            delay: _this.animation.out.delay * 1 + d,
            ease: ease,
            x: -_this.offsets.slide,
            y: _this.offsets.slide,
            attr: {
                points: _this.fixpoints.center.from
            }
        });
        TweenLite.to('.m-v-slide-bg .m-v-clip-poly-right', speed, {
            delay: _this.animation.out.delay * 2 + d,
            ease: ease,
            x: _this.offsets.slide,
            y: -_this.offsets.slide,
            attr: {
                points: _this.fixpoints.right.to
            },
            onComplete: function () {
                deferred.resolve();
            }
        });
    }
}
var homeSliderTm;
var homeSlider = {
    isClicked: false,
    timer: 0,
    sx: 0,
    sy: 0,
    ex: 0,
    ey: 0,
    isClickStart: function (x, y) {
        var _this = this;
        _this.sx = x;
        _this.sy = y;
        _this.timer = 0;
        _this.isClicked = false;
        clearInterval(homeSliderTm);
        homeSliderTm = setInterval(function () {
            _this.timer++;
        }, 100);
    },
    isClickEnd: function (x, y) {
        var _this = this;
        clearInterval(homeSliderTm);
        _this.ex = x;
        _this.ey = y;
        var d = Math.sqrt(Math.pow(_this.sx - _this.ex, 2) + Math.pow(_this.sy - _this.ey, 2));
        if (d < 10 && _this.timer < 5) {
            _this.isClicked = true;
        } else {
            _this.isClicked = false;
            _this.timer = 0;
            _this.sx = 0;
            _this.sy = 0;
            _this.ex = 0;
            _this.ey = 0;
        }
    },
    isClicked: function () {},
}
var buttons = {
    animation: {
        in: {
            speed: 0.2,
            delay: 0.01,
            ease: Power1.easeIn,
        },
        out: {
            speed: 0.3,
            delay: 0.01,
            ease: Power1.easeOut,
        },
        in_pr: {
            speed: 0.5,
            delay: 0.03,
            ease: Power2.easeOut,
        },
        out_pr: {
            speed: 0.4,
            delay: 0.02,
            ease: Power2.easeOut,
        }
    },
    once: function () {
        var _this = this;
        $(document).on({
            mouseenter: function () {
                var c = $(this).find('.js-split-char span');
                for (var i = c.length - 1; i >= 0; i--) {
                    var delay = _this.animation.in.delay * i;
                    TweenLite.to(c[i], _this.animation.in.speed, {
                        delay: delay,
                        y: '-100%',
                        ease: _this.animation.in.ease,
                        onComplete: function () {
                            TweenLite.set(this.target, {
                                y: '100%',
                            });
                            TweenLite.to(this.target, _this.animation.out.speed, {
                                ease: _this.animation.out.ease,
                                opacity: 1,
                                y: '0%',
                            });
                        }
                    });
                };
            },
        }, '.buttons-wrap');
        $(document).on({
            mouseenter: function () {
                var c = $(this).find('.js-split-char span');
                for (var i = c.length - 1; i >= 0; i--) {
                    var el = c[i];
                    var delay = _this.animation.in.delay * i;
                    TweenLite.to(el, _this.animation.in.speed, {
                        ease: _this.animation.in.ease,
                        delay: delay,
                        y: '-100%',
                        onComplete: function () {
                            TweenLite.set(this.target, {
                                y: '100%',
                            });
                            TweenLite.to(this.target, _this.animation.out.speed, {
                                ease: _this.animation.out.ease,
                                opacity: 1,
                                y: '0%',
                            });
                        }
                    });
                };
            },
        }, '.js-text-hit');
        $(document).on({
            mouseenter: function () {
                var c = $(this).find('.header-lang-t');
                for (var i = c.length - 1; i >= 0; i--) {
                    TweenLite.to(c[i], _this.animation.in.speed, {
                        ease: _this.animation.in.ease,
                        y: '-100%',
                        onComplete: function () {
                            TweenLite.set(this.target, {
                                y: '100%',
                            });
                            TweenLite.to(this.target, _this.animation.out.speed, {
                                ease: _this.animation.out.ease,
                                opacity: 1,
                                y: '0%',
                            });
                        }
                    });
                };
            },
        }, '.header-lang');
        $(document).on({
            mouseenter: function () {
                var c = $(this).find('path');
                for (var i = c.length - 1; i >= 0; i--) {
                    var el = c[i];
                    TweenLite.to(el, 0.3, {
                        drawSVG: '0% 0%',
                        onComplete: function () {
                            TweenLite.set(this.target, {
                                drawSVG: '100% 100%',
                            });
                            TweenLite.to(this.target, 0.4, {
                                drawSVG: '0% 100%',
                            });
                        }
                    });
                };
            },
        }, '.js-slider-cntrl-to-next,.js-slider-cntrl-to-prev');
        $(document).on({
            mousemove: function () {
                projects.onMouseMove($(this));
            },
            mouseenter: function () {
                var c = $(this).find('.c');
                for (var i = c.length - 1; i >= 0; i--) {
                    var delay = i * _this.animation.in_pr.delay;
                    TweenLite.set(c[i], {
                        y: '130%',
                    });
                    TweenLite.to(c[i], _this.animation.in_pr.speed, {
                        y: '0%',
                        ease: _this.animation.in_pr.ease,
                        opacity: 1,
                        delay: delay,
                    });
                };
                var $poly = $(this).parents('.projects-wrap').find('.projects-thumb-front');
                TweenLite.to($poly, _this.animation.in_pr.speed * 2, {
                    opacity: 1,
                    ease: _this.animation.in_pr.ease,
                });
            },
            mouseleave: function () {
                var c = $(this).find('.c');
                for (var i = c.length - 1; i >= 0; i--) {
                    var delay = i * _this.animation.out_pr.delay;
                    TweenLite.to(c[i], _this.animation.out_pr.speed, {
                        y: '-100%',
                        ease: _this.animation.out_pr.ease,
                        opacity: 0,
                        delay: delay,
                    });
                };
                var $poly = $(this).parents('.projects-wrap').find('.projects-thumb-front');
                TweenLite.to($poly, _this.animation.out_pr.speed * 2, {
                    opacity: 0,
                    ease: _this.animation.out_pr.ease,
                });
            }
        }, '.projects-body');
    },
}
var isHoverLinks = true;
$(document).on({
    mouseenter: function () {
        if (icon.ready) {
            isHoverLinks = false;
            var $this = $(this);
            var type = $this.data('type');
            icon.onMouseEnter(type);
        }
    },
    mouseleave: function () {
        if (icon.ready) {
            isHoverLinks = true;
            var $this = $(this);
            icon.onMouseLeave();
        }
    },
    mousemove: function () {
        if (isHoverLinks && icon.ready) {
            isHoverLinks = false;
            var $this = $(this);
            var type = $this.data('type');
            icon.onMouseEnter(type);
        }
    },
}, '.js-icon-hitarea');
$(document).on({
    mouseenter: function () {
        if (icon.ready) {
            isHoverLinks = true;
            var $this = $(this);
            icon.onMouseEnter('link');
        }
    },
    mouseleave: function () {
        if (icon.ready) {
            isHoverLinks = false;
            var $this = $(this);
            icon.onMouseLeave();
        }
    },
    mousemove: function () {
        if (isHoverLinks && icon.ready) {
            isHoverLinks = false;
            var $this = $(this);
            var type = $this.data('type');
            icon.onMouseEnter(type);
        }
    },
}, '.js-links-hitarea');
var iconTm;
var iconJUMP = false;
var icon = {
    ready: false,
    loadingTween: null,
    onStartLoading: function () {
        $('.icon-loading-wrap').addClass('on');
        TweenLite.to('.icon-loading-path', 0.4, {
            drawSVG: '0% 20%'
        });
    },
    onHoverLoading: function (href) {
        $html.addClass('is-single-loading');
        $('.icon-loading-wrap').addClass('on');
        if (iconJUMP) {
            iconJUMP.kill();
        }
        TweenLite.set('.icon-loading-path', {
            drawSVG: '0% 0%',
        });
        iconJUMP = TweenLite.to('.icon-loading-path', 1.6, {
            drawSVG: '0% 100%',
            ease: Power0.easeNone,
            onComplete: function () {
                Barba.Pjax.goTo(href);
            },
        });
    },
    onHoverEndLoading: function () {
        if (iconJUMP) {
            iconJUMP.kill();
        }
        iconJUMP = TweenLite.to('.icon-loading-path', 0.3, {
            drawSVG: '0% 0%',
            ease: Power0.easeNone,
            onComplete: function () {
                $html.removeClass('is-single-loading');
                $('.icon-loading-wrap').removeClass('on');
            }
        });
    },
    onEndLoading: function () {
        TweenLite.to('.icon-loading-path', 0.4, {
            drawSVG: '20% 20%',
            onComplete: function () {
                $('.icon-loading-wrap').removeClass('on');
            }
        });
    },
    once: function () {
        TweenLite.set('.icon-loading-path', {
            drawSVG: '0% 0%'
        });
        this.init();
        this.ready = true;
    },
    scale: {
        origin: 0.1,
        drag: 1,
        dragging: 0.6,
        link: 0.4,
    },
    init: function () {
        var _this = this;
        _this.$body = $('.js-icon-body');
        _this.$offset = $('.js-icon-offset');
        _this.$inner = $('.js-icon-in');
        _this.$bg = $('.js-icon-bg');
        _this.setback = _this.$body.width() / 2;
        TweenLite.to(_this.$inner, _this.animation.out.speed, {
            ease: _this.animation.out.ease,
            scale: _this.scale.origin,
        });
        var c = "#dddddd";
        TweenLite.to(_this.$offset, _this.animation.in.speed, {
            ease: _this.animation.in.ease,
            x: -_this.setback - _this.offset,
            y: -_this.setback - _this.offset,
        });
        TweenLite.to(_this.$bg, _this.animation.in.speed, {
            ease: _this.animation.in.ease,
            backgroundColor: c,
        });
    },
    animation: {
        in: {
            speed: 0.5,
            ease: CustomEase.create("custom", "M0,0,C0.276,0.19,0.162,0.603,0.324,0.812,0.48,1.014,0.65,1,1,1"),
        },
        out: {
            speed: 0.5,
            ease: CustomEase.create("custom", "M0,0,C0.276,0.19,0.162,0.603,0.324,0.812,0.48,1.014,0.65,1,1,1"),
        },
    },
    offset: 10,
    onMouseEnter: function (type) {
        var _this = this;
        if (type === 'link') {
            TweenLite.to(_this.$inner, _this.animation.in.speed, {
                ease: _this.animation.in.ease,
                scale: _this.scale.link,
            });
            TweenLite.set('.js-icon-type', {
                opacity: 0,
            });
            if (pages.name === 'projects' || pages.name === 'home' || pages.name === 'category') {
                var c = "#fff";
            } else {
                var c = "#eee";
            }
            TweenLite.to(_this.$offset, _this.animation.in.speed, {
                ease: _this.animation.in.ease,
                x: -_this.setback - _this.offset,
                y: -_this.setback - _this.offset,
            });
            TweenLite.to(_this.$bg, _this.animation.in.speed, {
                ease: _this.animation.in.ease,
                backgroundColor: c,
            });
            _this.$body.removeClass('ov');
        } else if (type === 'thumb') {
            TweenLite.to(_this.$inner, _this.animation.in.speed, {
                ease: _this.animation.in.ease,
                scale: _this.scale.drag,
            });
            TweenLite.set('.js-icon-type-drag', {
                opacity: 0,
            });
            TweenLite.set('.js-icon-type-link', {
                opacity: 1,
            });
            _this.$body.addClass('ov');
            TweenLite.to(_this.$offset, _this.animation.in.speed, {
                ease: _this.animation.in.ease,
                x: 0,
                y: 0,
            });
            TweenLite.to(_this.$bg, _this.animation.in.speed, {
                ease: _this.animation.in.ease,
                backgroundColor: "#f24e54",
            });
        } else if (type === 'drag') {
            TweenLite.to(_this.$inner, _this.animation.in.speed, {
                ease: _this.animation.in.ease,
                scale: _this.scale.drag,
            });
            TweenLite.set('.js-icon-type-link', {
                opacity: 0,
            });
            TweenLite.set('.js-icon-type-drag', {
                opacity: 1,
            });
            TweenLite.to(_this.$offset, _this.animation.in.speed, {
                ease: _this.animation.in.ease,
                x: 0,
                y: 0,
            });
            TweenLite.to(_this.$bg, _this.animation.in.speed, {
                ease: _this.animation.in.ease,
                backgroundColor: "#f24e54",
            });
            _this.$body.removeClass('ov');
        }
    },
    onReset: function () {
        $('.js-draggble-area').remove();
        var _this = this;
        TweenLite.to(_this.$inner, _this.animation.out.speed, {
            ease: _this.animation.out.ease,
            scale: _this.scale.origin,
        });
        var c = "#dddddd";
        TweenLite.to(_this.$offset, _this.animation.in.speed, {
            ease: _this.animation.in.ease,
            x: -_this.setback - _this.offset,
            y: -_this.setback - _this.offset,
        });
        TweenLite.to(_this.$bg, _this.animation.in.speed, {
            ease: _this.animation.in.ease,
            backgroundColor: c,
        });
    },
    onMouseLeave: function () {
        var _this = this;
        if (!titleTextSlider.enable) {
            TweenLite.to(_this.$inner, _this.animation.out.speed, {
                ease: _this.animation.out.ease,
                scale: _this.scale.origin,
            });
            var c = "#dddddd";
            TweenLite.to(_this.$offset, _this.animation.in.speed, {
                ease: _this.animation.in.ease,
                x: -_this.setback - _this.offset,
                y: -_this.setback - _this.offset,
            });
            TweenLite.to(_this.$bg, _this.animation.in.speed, {
                ease: _this.animation.in.ease,
                backgroundColor: c,
            });
        }
    },
    onDragFlag: true,
    onDragStart: function () {
        var _this = this;
        TweenLite.to(_this.$bg, 0.2, {
            scale: _this.scale.dragging
        });
    },
    onDragging: function (dy) {
        if (dy > 0) {
            titleTextSlider.dir = 'up';
            var py = 100 - Math.abs(dy * 100 * (1 / titleTextSlider.over));
            TweenLite.set('.icon-table-path', {
                drawSVG: py + '% 100%'
            });
            TweenLite.to('.icon-table-in .i-svg-arrow-down', 0.2, {
                opacity: 0,
                y: '50%',
            });
            TweenLite.to('.icon-table-in .i-svg-arrow-up', 0.2, {
                opacity: 1,
                y: '50%',
            });
        } else {
            titleTextSlider.dir = 'down';
            var py = Math.abs(dy * 100 * (1 / titleTextSlider.over));
            TweenLite.set('.icon-table-path', {
                drawSVG: '0% ' + py + '%'
            });
            TweenLite.to('.icon-table-in .i-svg-arrow-down', 0.2, {
                opacity: 1,
                y: '-50%',
            });
            TweenLite.to('.icon-table-in .i-svg-arrow-up', 0.2, {
                opacity: 0,
                y: '-50%',
            });
        }
    },
    onDragEnd: function (dy) {
        var _this = this;
        if (dy < -titleTextSlider.over) {
            TweenLite.set('.icon-table-path', {
                drawSVG: '0% 100%',
            });
            TweenLite.to('.icon-table-path', titleTextSlider.animation.out.speed / 2, {
                drawSVG: '100% 100%',
            });
        } else if (dy > titleTextSlider.over) {
            TweenLite.set('.icon-table-path', {
                drawSVG: '0% 100%',
            });
            TweenLite.to('.icon-table-path', titleTextSlider.animation.out.speed / 2, {
                drawSVG: '0% 0%',
            });
        } else {
            if (titleTextSlider.dir === 'down') {
                TweenLite.to('.icon-table-path', titleTextSlider.animation.out.speed / 2, {
                    drawSVG: '0% 0%',
                });
            } else {
                TweenLite.to('.icon-table-path', titleTextSlider.animation.out.speed / 2, {
                    drawSVG: '100% 100%',
                });
            }
        }
        TweenLite.to(_this.$bg, titleTextSlider.animation.out.speed / 2, {
            scale: _this.scale.drag,
            ease: Power2.easeOut
        });
        TweenLite.to('.icon-table-in .i-svg-arrow-down', 0.2, {
            opacity: 1,
            y: '0%',
        });
        TweenLite.to('.icon-table-in .i-svg-arrow-up', 0.2, {
            opacity: 1,
            y: '0%',
        });
    },
    onMouseMove: function (x, y) {
        var _this = this;
        if (_this.ready) {
            TweenLite.to(_this.$body, 0.15, {
                x: x + _this.offset,
                y: y + _this.offset,
            });
        }
    }
}
$(document).on({
    click: function (e) {
        e.preventDefault();
        var $el = $($(this).attr('href'));
        var y = $el.offset().top;
        TweenLite.to(window, 1, {
            scrollTo: y - 150,
            ease: Power2.easeOut
        });
    }
}, '.js-scroll-to');
$(document).on({
    click: function (e) {
        e.preventDefault();
        TweenLite.to(window, 0.6, {
            scrollTo: windowHeight,
            ease: Power2.easeOut
        });
    }
}, '.buttons-scroll-to');
var subpagesResizeTm = false;
var subpagesScrollTm = false;
var subpages = {
    par: 0,
    init: function () {
        var _this = this;
        _this.$body = $('.scroll-body');
        _this.$height = $('.scroll-height');
        _this.$header = $('.site-header-scroll');
        _this.$mbheader = $('.header-logo,.toggle');
        _this.onReset();
        _this.onResize();
        clearInterval(subpagesResizeTm);
        subpagesResizeTm = setInterval(function () {
            _this.onResize();
        }, 500);
        _this.onScroll();
        if (pages.name != 'home') {
            $('.window').on({
                scroll: function () {
                    windowTop = $(this).scrollTop();
                    _this.onScroll();
                }
            });
        }
    },
    onReset: function () {
        $('.window').off('scroll');
        clearInterval(subpagesResizeTm);
        clearTimeout(subpagesScrollTm);
    },
    onScroll: function () {
        var _this = this;
        _this.par = windowTop / (_this.scrollHeight - windowHeight);
        var old = windowTop;
        if (device.desktop()) {
            subpagesScrollTm = setTimeout(function () {
                var now = windowTop;
                if (now < old) {
                    clearTimeout(subpagesScrollTm);
                    TweenLite.to(_this.$header, 0.4, {
                        y: 0,
                    });
                    $html.addClass('add-scroll-up');
                } else {
                    clearTimeout(subpagesScrollTm);
                    if (windowTop >= 200) {
                        var y = 200;
                    } else {
                        var y = windowTop;
                    }
                    TweenLite.to(_this.$header, 0.4, {
                        y: -y,
                    });
                    $html.removeClass('add-scroll-up');
                }
            }, 100);
            TweenLite.to(_this.$body, 0.2, {
                y: -windowTop
            });
            if (projects.enable) {
                projects.onScroll();
            }
            if (shiftline.enable) {
                shiftline.onScroll();
            }
            if (windowTop > 0 && !logoAniamtion.isShow && logoAniamtion.loaded && logoAniamtion.ready) {
                logoAniamtion.isShow = true;
                logoAniamtion.onSplash();
            }
        } else if (device.mobile()) {
            subpagesScrollTm = setTimeout(function () {
                var now = windowTop;
                if (menu.isOpen) {
                    clearTimeout(subpagesScrollTm);
                    TweenLite.to(_this.$mbheader, 0.4, {
                        y: 0,
                    });
                    TweenLite.to('.site-header-bg', 0.4, {
                        y: 0,
                    });
                    $html.addClass('add-scroll-up');
                } else if (now < old || windowTop < 90) {
                    clearTimeout(subpagesScrollTm);
                    TweenLite.to(_this.$mbheader, 0.4, {
                        y: 0,
                    });
                    TweenLite.to('.site-header-bg', 0.4, {
                        y: 0,
                    });
                    $html.addClass('add-scroll-up');
                } else {
                    clearTimeout(subpagesScrollTm);
                    if (windowTop >= 200) {
                        var y = 200;
                    } else {
                        var y = windowTop;
                    }
                    TweenLite.to(_this.$mbheader, 0.4, {
                        y: -90,
                    });
                    TweenLite.to('.site-header-bg', 0.4, {
                        y: -90,
                    });
                    $html.removeClass('add-scroll-up');
                }
            }, 100);
        }
    },
    onResize: function () {
        var _this = this;
        if (_this.$body) {
            _this.scrollHeight = _this.$body.height();
            $('.scroll-height').css({
                height: _this.scrollHeight
            });
        }
    }
}
var projects = {
    enable: 0,
    init: function () {
        var _this = this;
        _this.$wrap = $('.projects-wrap');
        _this.enable = _this.$wrap.length;
        _this.$title = $('.subpages-title');
        _this.titleLen = _this.$title.children().length;
        _this.$svg = $('.p-clip-svg');
        _this.$poly = $('.p-clip-poly');
        if ((_this.$wrap.length % 2) != 0) {
            _this.$para = $('.projects-wrap:nth-child(2n)');
            $('.scroll-wrap').addClass('projects-grid-even');
        } else {
            _this.$para = $('.projects-wrap:nth-child(2n-1)');
            $('.scroll-wrap').addClass('projects-grid-odd');
        }
    },
    onScroll: function () {
        var _this = this;
        if (pages.name === 'projects' && device.desktop()) {
            for (var i = _this.$para.length - 1; i >= 0; i--) {
                var y = 200 * subpages.par;
                TweenLite.to(_this.$para[i], 0.2, {
                    y: y
                });
            };
        }
        var c = _this.$title.children();
        for (var i = c.length - 1; i >= 0; i--) {
            var p = 1 - subpages.par * 2;
            var m = (i - _this.titleLen / 2) / _this.titleLen;
            var y = p * m * windowHeightHalf * 0.8;
            var x = subpages.par * m * windowHeight;
            TweenLite.to(c[i], 0.3, {
                scale: subpages.par * 1.5 + 1,
                y: y,
                x: x * 2
            });
        };
    },
    onMouseMove: function ($el) {
        var rect = $el[0].getBoundingClientRect();
        var ox = rect.left;
        var oy = rect.top;
        var lx = mouse.x - ox;
        var ly = mouse.y - oy;
        var $poly = $el.parents('.projects-wrap').find('circle');
        TweenLite.to($poly, 0.2, {
            x: lx,
            y: ly
        });
    }
}
var single = {
    init: function () {
        $('.edit-images-wrap').each(function (index, el) {
            if ($(el).find('.caption').length) {
                $(el).addClass('has_caption');
            }
        });
    },
    onReset: function () {
        clearTimeout(iframeTm);
        $('iframe').remove();
    },
    onLoadAfter: function () {
        clearTimeout(iframeTm);
        if (!device.desktop()) {
            iframeTm = setTimeout(function () {
                var c = $('.js-put-iframe');
                for (var i = c.length - 1; i >= 0; i--) {
                    var type = c[i].dataset.type;
                    var vid = c[i].dataset.videoid;
                    if (type === 'youtube') {
                        var html = '<iframe width="560" height="315" src="https://www.youtube.com/embed/' + vid + '?rel=0&amp;controls=0&amp;showinfo=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>';
                    } else {
                        var html = '<iframe src="https://player.vimeo.com/video/' + vid + '?title=0&amp;byline=0&amp;portrait=0" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';
                    }
                    c[i].innerHTML = html;
                };
            }, 4000);
        }
    }
}
$(document).on({
    click: function () {
        var $this = $(this);
        var $oya = $this.parents('.edit-video');
        var type = $oya.data('type');
        var vid = $oya.data('videoid');
        if (type === 'youtube') {
            var html = '<iframe width="560" height="315" src="https://www.youtube.com/embed/' + vid + '?rel=0&amp;controls=0&amp;showinfo=0&amp;autoplay=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>';
        } else {
            var html = '<iframe src="https://player.vimeo.com/video/' + vid + '?title=0&amp;byline=0&amp;autoplay=1&amp;portrait=0" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';
        }
        $oya.find('.edit-video-html').html(html);
        $oya.addClass('active');
    }
}, '.edit-video-button');
var youTimer;
var you = {
    ready: false,
    once: function (data) {
        var _this = this;
        _this.seed = data.time;
        _this.gis = data.gis;
        _this.getNumber();
    },
    init: function () {
        var _this = this;
        _this.ready = true;
        _this.$body = $('.js-next-shift');
        _this.onChangeNumber();
        clearInterval(youTimer);
        if (device.desktop()) {
            _this.getLeft();
            youTimer = setInterval(function () {
                _this.getDateInterval();
            }, 60000);
        }
    },
    getLeft: function () {
        var _this = this;
        var d = _this.gis.split(':');
        var h = parseInt(d[0], 10) * 60 * 60;
        var m = parseInt(d[1], 10) * 60;
        var s = parseInt(d[2], 10);
        var l = 86400 - (h + m + s);
        var sec = (l % 60) % 60;
        var min = Math.floor(l / 60) % 60;
        var hour = Math.floor(l / 3600);
        var m0 = ('00' + min).slice(-2);
        var s0 = ('00' + sec).slice(-2);
        _this.$body.text(hour + 'h:' + m0 + 'm');
    },
    getDateInterval: function () {
        var _this = this;
        var url = JSON + getUniqueStr();
        $.ajax({
            type: 'GET',
            url: url,
            dataType: 'json',
            timeout: 3000,
            success: function (data) {
                _this.gis = data.gis;
                _this.getLeft();
                if (_this.seed != data.time) {
                    _this.seed = data.time;
                    _this.getNumber();
                    _this.onChangeNumber();
                    logoAniamtion.onDateChange(_this.position);
                }
            }
        });
    },
    getNumber: function () {
        var _this = this;
        Xor128.init();
        _this.position = [];
        _this.fixed = "";
        for (var i = 0; i < 12; i++) {
            var r = Xor128.rand();
            _this.position.push(r);
            _this.fixed += r;
        }
    },
    onChangeNumber: function () {
        var _this = this;
        if ($('.dg-ol').eq(0).children().length > 1) {
            $('.dg-ol').find('span:first-child').remove();
        }
        $('.dg-ol').each(function (i, e) {
            var $el = $(e);
            var html = '<span>' + _this.position[i] + '</span>';
            $el.append(html);
            var delay = buttons.animation.in.delay * i;
            var $prev = $el.find('span').eq(0);
            TweenLite.to($prev, buttons.animation.out.speed * 1.5, {
                y: '-100%',
                delay: delay,
                ease: buttons.animation.out.ease,
            });
            var $now = $el.find('span').eq(1);
            TweenLite.set($now, {
                y: '100%',
            });
            TweenLite.to($now, buttons.animation.out.speed * 1.5, {
                y: '0%',
                delay: delay,
                ease: buttons.animation.out.ease,
            });
        });
    }
}
var Xor128 = {
    seed: 0,
    init: function () {
        var _this = this;
        _this.seed = you.seed;
        _this.x = 0 | _this.seed << 13;
        _this.y = 0 | (_this.seed >>> 9) ^ (_this.x << 6);
        _this.z = 0 | _this.y >>> 7;
        _this.gen = xor128(_this.seed, _this.x, _this.y, _this.z);
    },
    rand: function () {
        var _this = this;
        return 0 | _this.gen.next().value % 9;
    }
}

function* xor128(w, x, y, z) {
    var t;
    for (;;) {
        t = x ^ (x << 11);
        x = y;
        y = z;
        z = w;
        yield w = ((w ^ (w >>> 19)) ^ (t ^ (t >>> 8))) >>> 0;
    }
}
var hidden, visibilityChange;
if (typeof document.hidden !== "undefined") {
    hidden = "hidden";
    visibilityChange = "visibilitychange";
} else if (typeof document.mozHidden !== "undefined") {
    hidden = "mozHidden";
    visibilityChange = "mozvisibilitychange";
} else if (typeof document.msHidden !== "undefined") {
    hidden = "msHidden";
    visibilityChange = "msvisibilitychange";
} else if (typeof document.webkitHidden !== "undefined") {
    hidden = "webkitHidden";
    visibilityChange = "webkitvisibilitychange";
}

function handleVisibilityChange() {
    if (document[hidden]) {
        clearInterval(youTimer);
    } else {
        if (you.ready) {
            you.init();
        }
    }
}
if (typeof document.addEventListener === "undefined" || typeof hidden === "undefined") {} else {
    document.addEventListener(visibilityChange, handleVisibilityChange, false);
}
PIXI.utils.skipHello();
var logoAniamtion = {
    ready: false,
    loaded: false,
    src: './asset/img/logo.png',
    width: 1100,
    height: 492,
    texture: {
        origin: {
            width: 1100,
            height: 492,
        },
        ratios: {
            width: 1100,
            height: 492,
        },
        scale: {
            width: 1100,
            height: 492,
        },
        ratio: 1,
    },
    split: {
        w: 9,
        h: 12,
        width: 0,
        height: 0,
    },
    num: {
        height: 20,
    },
    tilePosition: [],
    maskPosition: [],
    animation: {
        splash: {
            speed: 1.3,
            ease: CustomEase.create("custom", "M0,0,C0.1,0.046,0.171,0.191,0.266,0.552,0.374,0.964,0.542,1,1,1"),
            delay: 0.05,
        },
        slide: {
            speed: 1.2,
            ease: CustomEase.create("custom", "M0,0,C0.1,0.046,0.171,0.191,0.266,0.552,0.374,0.964,0.542,1,1,1"),
            delay: 0.015,
        },
        num: {
            speed: 1.2,
            ease: CustomEase.create("custom", "M0,0,C0.1,0.046,0.171,0.191,0.266,0.552,0.374,0.964,0.542,1,1,1"),
            delay: 0.01,
        },
    },
    initAfter: function () {
        var _this = this;
        var url = JSON + getUniqueStr();
        $.ajax({
            type: 'GET',
            url: url,
            dataType: 'json',
            timeout: 3000,
            success: function (data) {
                you.once(data);
                you.init();
                _this.build();
            }
        });
    },
    padding: {
        x: 300,
        y: 400,
    },
    isShow: false,
    enable: 0,
    init: function () {
        var _this = this;
        _this.ready = false;
        if (device.mobile()) {
            _this.animation.splash.speed = 1.2;
            _this.animation.splash.delay = 0.03;
            _this.padding.x = 40;
            _this.padding.y = 40;
            retinaRatio = 1.5;
        } else if (device.tablet()) {
            _this.animation.splash.speed = 1.2;
            _this.animation.splash.delay = 0.03;
            _this.padding.x = 200;
            retinaRatio = 1.5;
        }
        _this.setSize();
        _this.$canvas = $('#shift-graphic');
        _this.enable = _this.$canvas.length;
        _this.src = _this.$canvas.data('src');
        if (_this.$canvas.length) {
            _this.renderer = PIXI.autoDetectRenderer(_this.width, _this.height, {
                transparent: true,
                antialias: true,
                view: _this.$canvas[0]
            });
        }
    },
    build: function () {
        var _this = this;
        if (_this.$canvas.length) {
            _this.stage = new PIXI.Container();
            if (!_this.loaded) {
                PIXI.loader.add(_this.src).on('progress', function (loader, loadedResource) {
                    _this.onLoad();
                    _this.loaded = true;
                }).load();
            } else {
                _this.onLoad();
            }
        }
        _this.isShow = false;
    },
    setSize: function () {
        var _this = this;
        var w = $('.edit-section').width();
        _this.texture.ratio = w / _this.texture.origin.width;
        _this.texture.ratios.width = w;
        _this.texture.ratios.height = _this.texture.origin.height * _this.texture.ratio;
        _this.width = $('.edit-section').width() * retinaRatio;
        _this.height = _this.texture.ratios.height * retinaRatio;
        _this.texture.scale.width = _this.texture.ratios.width * retinaRatio;
        _this.texture.scale.height = _this.texture.ratios.height * retinaRatio;
        _this.split.width = (_this.texture.scale.width / _this.split.w);
        _this.split.height = (_this.texture.scale.height / _this.split.h);
    },
    container: [],
    contents: [],
    mask: [],
    onLoad: function () {
        var _this = this;
        _this.world = new PIXI.Container();
        var x = _this.width / 2 + _this.width;
        for (var n = 0; n < _this.split.h; n++) {
            _this.container[n] = new PIXI.Container();
            _this.container[n].position.x = 0;
            _this.container[n].position.y = 0;
            _this.contents[n] = new PIXI.extras.TilingSprite.fromImage(_this.src);
            var tx = you.position[n] * _this.split.width;
            var ty = 0;
            _this.contents[n].tilePosition.x = tx;
            _this.contents[n].tilePosition.y = ty;
            _this.contents[n].anchor.x = 0.5;
            _this.contents[n].anchor.y = 0.5;
            _this.contents[n].tileScale.x = 0.5 * retinaRatio * _this.texture.ratio;
            _this.contents[n].tileScale.y = 0.5 * retinaRatio * _this.texture.ratio;
            _this.contents[n].width = _this.texture.scale.width;
            _this.contents[n].height = _this.texture.scale.height;
            _this.contents[n].position.x = _this.width / 2;
            _this.contents[n].position.y = _this.height / 2;
            var rx = -_this.texture.scale.width / 2;
            var ry = -_this.texture.scale.height / 2 + n * _this.split.height;
            _this.mask[n] = new PIXI.Graphics();
            _this.mask[n].beginFill(0x000000);
            _this.mask[n].drawRect(rx, ry, _this.texture.scale.width, _this.split.height + 1);
            _this.mask[n].endFill(0x000000);
            _this.mask[n].position.x = -_this.width / 2;
            _this.mask[n].position.y = _this.height / 2;
            _this.container[n].addChild(_this.contents[n]);
            _this.container[n].mask = _this.mask[n];
            _this.stage.addChild(_this.mask[n]);
            _this.stage.addChild(_this.container[n]);
        }
        _this.world.addChild(_this.stage);
        if (!device.desktop()) {
            _this.onSplash();
        }
        _this.ready = true;
        render();
    },
    tweens: {
        flip: false,
    },
    onSplash: function () {
        var _this = this;
        if (_this.tweens.flip) {
            _this.tweens.flip.kill();
        }
        var x = _this.width / 2;
        for (var i = 0; i < _this.split.h; i++) {
            if (i % 2) {
                var cx = x + _this.texture.scale.width * 2;
                var mx = x - _this.texture.scale.width * 2;
            } else {
                var cx = x - _this.texture.scale.width * 2;
                var mx = x + _this.texture.scale.width * 2;
            }
            _this.contents[i].position.x = cx;
            _this.mask[i].position.x = mx;
            _this.tweens.flip = TweenLite.to(_this.contents[i].position, _this.animation.splash.speed, {
                x: x,
                ease: _this.animation.splash.ease,
                delay: i * _this.animation.splash.delay,
            });
            _this.tweens.flip = TweenLite.to(_this.mask[i].position, _this.animation.splash.speed, {
                x: _this.width / 2,
                ease: _this.animation.splash.ease,
                delay: i * _this.animation.splash.delay,
            });
        }
    },
    onDateChange: function (p) {
        var _this = this;
        if (_this.tweens.flip) {
            _this.tweens.flip.kill();
        }
        for (var n = 0; n < _this.split.h; n++) {
            var x = p[n] * _this.split.width;
            if (n % 2) {
                var offset = _this.texture.scale.width;
            } else {
                var offset = -_this.texture.scale.width;
            }
            if (n === _this.split.h - 1) {
                _this.tweens.flip = TweenLite.to(_this.contents[n].tilePosition, _this.animation.splash.speed, {
                    x: x + offset,
                    ease: _this.animation.splash.ease,
                    delay: n * _this.animation.splash.delay,
                    onComplete: function () {
                        for (var i = 0; i < _this.split.h; i++) {
                            _this.contents[i].tilePosition.x = p[i] * _this.split.width;
                        }
                    }
                });
            } else {
                _this.tweens.flip = TweenLite.to(_this.contents[n].tilePosition, _this.animation.splash.speed, {
                    x: x + offset,
                    ease: _this.animation.splash.ease,
                    delay: n * _this.animation.splash.delay,
                });
            }
        }
    },
    onResize: function () {
        var _this = this;
        _this.setSize();
        for (var n = 0; n < _this.split.h; n++) {
            var tx = you.position[n] * _this.split.width;
            _this.contents[n].tilePosition.x = tx;
            _this.contents[n].tileScale.x = 0.5 * retinaRatio * _this.texture.ratio;
            _this.contents[n].tileScale.y = 0.5 * retinaRatio * _this.texture.ratio;
            _this.contents[n].width = _this.texture.scale.width;
            _this.contents[n].height = _this.texture.scale.height;
            _this.contents[n].position.x = _this.width / 2;
            _this.contents[n].position.y = _this.height / 2;
            var rx = -_this.texture.scale.width / 2;
            var ry = -_this.texture.scale.height / 2 + n * _this.split.height;
            _this.mask[n].x = rx;
            _this.mask[n].y = ry;
            _this.mask[n].width = _this.texture.scale.width;
            _this.mask[n].height = _this.split.height + 1;
            _this.mask[n].position.x = _this.width / 2;
            _this.mask[n].position.y = _this.height / 2;
        };
        _this.renderer.resize(_this.width, _this.height);
    },
    onDestroy: function () {
        var _this = this;
        if (animateRenderFrame) {
            window.cancelAnimationFrame(animateRenderFrame);
        }
        for (var n = 0; n < _this.split.h; n++) {
            if (_this.container[n].length) {
                _this.container[n].children[0]._texture.baseTexture.destroy(true);
            }
            if (_this.container[n].length) {
                _this.container[n].destroy(true);
            }
            if (_this.contents[n].length) {
                _this.contents[n].destroy(true);
            }
            if (_this.mask[n].length) {
                _this.mask[n].destroy(true);
            }
        }
        _this.stage.destroy(true);
        _this.world.destroy(true);
        _this.renderer.destroy(true);
        PIXI.utils.textureCache = {};
        PIXI.utils.baseTextureCache = {};
    }
}
var c = 0;
var fps = 8;
var animateRenderFrame;

function render() {
    animateRenderFrame = requestAnimationFrame(render);
    logoAniamtion.renderer.render(logoAniamtion.world);
}
var shiftlineTimer;
var shiftline = {
    enable: 0,
    loop: 6000,
    animation: {
        in: {
            speed: 1,
            ease: Power2.easeOut,
            delay: 0.07,
            x: 50,
        },
        loop: {
            speed: 1,
            ease: Power2.easeInOut,
            delay: 0.07,
            x: 50,
        },
    },
    init: function () {
        var _this = this;
        _this.$wrap = $('.shift-the-line-wrap');
        _this.enable = _this.$wrap.length;
        _this.paraenable = false;
        _this.$slide = $('.shift-the-line-slide');
        _this.$para = $('.shift-the-para');
        if (_this.enable) {
            _this.y = _this.$wrap.position().top - windowHeight + 300;
            _this.onResize();
            if (!device.desktop()) {
                if (device.mobile()) {
                    _this.animation.in.x = _this.animation.loop.x = 20;
                }
                _this.enable = 0;
                _this.onShow();
            }
        }
    },
    onScroll: function () {
        var _this = this;
        if (windowTop > _this.y) {
            _this.enable = 0;
            _this.onShow();
        }
    },
    onScrollPara: function () {
        var _this = this;
        _this.$para.each(function (i, el) {
            var $el = $(el);
            var y = $el.offset().top / (windowTop + windowHeightHalf) - 1;
            var pow = 100 * (i + 1);
            TweenLite.to(el, 0.3, {
                delay: i * 0.01,
                x: y * pow
            });
        });
    },
    onLeave: function (ease, speed) {
        var _this = this;
        TweenLite.to(_this.$wrap, speed, {
            ease: ease,
            opacity: 0,
        });
    },
    onShow: function () {
        var _this = this;
        if (pages.name === 'about') {
            _this.$wrap.eq(0).find('.shift-the-shadow').each(function (i, e) {
                var $e = $(e);
                var $mago = $e.find('span');
                $mago.each(function (n, c) {
                    var $c = $(c);
                    var x = (n + i + 1) * _this.animation.in.x;
                    TweenLite.set($c, {
                        x: x,
                        opacity: 0,
                    });
                    TweenLite.to($c, _this.animation.in.speed, {
                        ease: _this.animation.in.ease,
                        delay: n * _this.animation.in.delay,
                        x: 0,
                        opacity: 1,
                    });
                });
            });
            _this.$slide.eq(0).find('.shift-the-shadow').each(function (i, e) {
                var $e = $(e);
                var $mago = $e.find('span');
                $mago.each(function (n, c) {
                    var $c = $(c);
                    var x = (n + i + 1) * _this.animation.in.x;
                    TweenLite.set($c, {
                        x: x,
                        opacity: 0,
                    });
                    TweenLite.to($c, _this.animation.in.speed, {
                        ease: _this.animation.in.ease,
                        delay: (n + 2) * _this.animation.in.delay,
                        x: 0,
                        opacity: 1,
                    });
                });
            });
            _this.initLoop();
        } else if (pages.name === 'single') {
            _this.$wrap.each(function (m, el) {
                var $el = $(el);
                var $shadow = $el.find('.shift-the-shadow');
                $shadow.each(function (i, e) {
                    var $e = $(e);
                    var $mago = $e.find('span');
                    $mago.each(function (n, c) {
                        var $c = $(c);
                        var x = (m + n + i + 1) * _this.animation.in.x;
                        TweenLite.set($c, {
                            x: x,
                            opacity: 0,
                        });
                        TweenLite.to($c, _this.animation.in.speed, {
                            ease: _this.animation.in.ease,
                            delay: (m + n + i + 1) * _this.animation.in.delay,
                            x: 0,
                            opacity: 1,
                        });
                    });
                });
            });
            _this.paraenable = true;
        }
    },
    initLoop: function () {
        var _this = this;
        _this.count = 0;
        _this.now = 0;
        _this.prev = 0;
        _this.max = _this.$slide.length;
        clearInterval(shiftlineTimer);
        shiftlineTimer = setInterval(function () {
            _this.onLoop();
            if (!device.desktop()) {
                _this.onLoopAnimationMobile();
            } else {
                _this.onLoopAnimation();
            }
        }, _this.loop);
    },
    onLoop: function () {
        var _this = this;
        if (_this.count < _this.max - 1) {
            _this.prev = _this.count;
            _this.count++;
            _this.now = _this.count;
        } else {
            _this.prev = _this.max - 1;
            _this.count = 0;
            _this.now = 0;
        }
    },
    onLoopAnimation: function () {
        var _this = this;
        _this.$slide.eq(_this.prev).find('.shift-the-shadow').each(function (i, e) {
            var $e = $(e);
            var $mago = $e.find('span');
            $mago.each(function (n, c) {
                var $c = $(c);
                var x = (n + i + 1) * _this.animation.loop.x;
                TweenLite.to($c, _this.animation.loop.speed, {
                    ease: _this.animation.loop.ease,
                    delay: n * _this.animation.loop.delay,
                    x: -x,
                    opacity: 0,
                });
            });
        });
        _this.$slide.eq(_this.now).find('.shift-the-shadow').each(function (i, e) {
            var $e = $(e);
            var $mago = $e.find('span');
            $mago.each(function (n, c) {
                var $c = $(c);
                var x = (n + i + 1) * _this.animation.loop.x;
                TweenLite.set($c, {
                    x: x,
                    opacity: 0,
                });
                TweenLite.to($c, _this.animation.loop.speed, {
                    ease: _this.animation.loop.ease,
                    delay: n * _this.animation.loop.delay,
                    x: 0,
                    opacity: 1,
                });
            });
        });
    },
    onLoopAnimationMobile: function () {
        var _this = this;
        _this.$slide.removeClass('prev active');
        _this.$slide.eq(_this.prev).addClass('prev');
        _this.$slide.eq(_this.now).addClass('active');
    },
    onResize: function () {
        var _this = this;
        _this.$wrap.each(function (index, el) {
            var $el = $(el);
            var $child = $el.find('.shift-the-line');
            var $shadow = $el.find('.shift-the-shadow');
            $child.each(function (i, e) {
                var $e = $(e);
                var $mago = $e.find('span');
                $mago.each(function (n, c) {
                    var $c = $(c);
                    var px = $c.position().left;
                    var py = $c.position().top;
                    var $sd = $shadow.find('span:nth-child(' + (n + 1) + ')');
                    TweenLite.set($sd, {
                        left: px,
                        top: py,
                    });
                });
            });
            $shadow.each(function (i, e) {
                var $e = $(e);
                var $mago = $e.find('span');
                if (pages.name === 'single') {
                    var h = $mago.height();
                    var w = $mago.width();
                    $e.css({
                        height: h,
                        width: w
                    });
                }
                $mago.each(function (n, c) {
                    var $c = $(c);
                    var w = $c.width();
                    var h = $c.height();
                    if ($c.parents().is('.front')) {
                        var rect = 'rect(0 ' + w + 'px ' + h / 2 + 'px 0px)';
                    } else {
                        var rect = 'rect(' + h / 2 + 'px ' + w + 'px ' + h + 'px 0px)';
                    }
                    TweenLite.set($c, {
                        clip: rect,
                    });
                });
            });
        });
    }
}
Barba.Pjax.Dom.wrapperId = 'page-wrapper';
Barba.Pjax.Dom.containerClass = 'js-load-body';
$(document).on('click', '.slider-links-overlay,.js-draggble-area', function (event) {
    event.preventDefault();
    var $this = $(this);
    var $p = $this.parents('.m-v-slide-in');
    var newUrl = $p.find('.slider-links-overlay').attr('href');
    if (homeSlider.isClicked) {
        isHomeSlideEnable = false;
        jumpto = 'single';
        Barba.Pjax.goTo(newUrl);
        $('html,.window-mask-linear').css({
            'background': '#fff'
        });
    }
});
$(document).on('click', '.js-draggble-area', function (event) {
    event.preventDefault();
    var newUrl = $('.m-v-slide.active').find('.slider-links-overlay').attr('href');
    if (homeSlider.isClicked) {
        isHomeSlideEnable = false;
        jumpto = 'single';
        Barba.Pjax.goTo(newUrl);
        $('html,.window-mask-linear').css({
            'background': '#fff'
        });
    }
});
var oldStatus = null;
var isClickStatus = false;
var isSingleToSingle = false;
var jumpto = 'single';
var PageStatus = {
    isClicked: false,
    currentStatus: null,
    oldStatus: null,
    init: function () {
        var _this = this;
        if (_this.currentStatus != null && _this.oldStatus != null && !_this.isClicked) {}
    }
}
$(function () {
    Barba.Pjax.init();
    Barba.Prefetch.init();
    Barba.Dispatcher.on('linkClicked', function (el) {
        lastElementClicked = el;
        var $el = $(el);
        jumpto = $el.data('to');
        if (jumpto) {
            if (jumpto === 'home') {
                $('html,.window-mask-linear').css({
                    'background': '#eee'
                });
            } else if (jumpto === 'about' || jumpto === 'single') {
                $('html,.window-mask-linear').css({
                    'background': '#fff'
                });
            } else if (jumpto === 'projects') {
                $('html,.window-mask-linear').css({
                    'background': '#eee'
                });
            }
        } else {}
        if ($el.is('.js-ss')) {
            isSingleToSingle = true;
        }
    });
    Barba.Dispatcher.on('initStateChange', function (currentStatus) {
        ga('send', 'pageview', location.pathname);
    });
    var ExpandTransition = Barba.BaseTransition.extend({
        start: function () {
            Promise.all([this.newContainerLoading, this.fadeOut()]).then(this.fadeIn.bind(this));
        },
        fadeOut: function () {
            var deferred = Barba.Utils.deferred();
            var $old = $(this.oldContainer);
            PageTransition.fadeOut($old, deferred);
            return deferred.promise;
        },
        fadeIn: function () {
            var _this = this;
            var $old = $(this.oldContainer);
            var $now = $(this.newContainer);
            PageTransition.fadeIn($old, $now, _this);
        }
    });
    Barba.Pjax.getTransition = function () {
        var transitionObj = ExpandTransition;
        return transitionObj;
    };
    Barba.Dispatcher.on('newPageReady', function (currentStatus, oldStatus, container) {
        pages.oldname = oldStatus.namespace;
        pages.name = currentStatus.namespace;
    });
    Barba.Dispatcher.on('transitionCompleted', function () {});
});
var PageTransition = {
    animation: {
        out: {
            speed: 0.5,
            ease: Power1.easeInOut,
        },
        in: {
            speed: 0.5,
            ease: Power1.easeInOut,
        },
        enter: {
            speed: 0.85,
            delay: 0.04,
            ease: CustomEase.create("custom", "M0,0 C0.276,0.19 0.291,0.604 0.43,0.822 0.556,1 0.818,1 1,1"),
        },
        leave: {
            speed: 0.5,
            delay: 0.04,
            ease: CustomEase.create("custom", "M0,0 C0.276,0.19 0.291,0.604 0.43,0.822 0.556,1 0.818,1 1,1"),
        },
    },
    onEnterOnce: function () {
        var _this = this;
        TweenLite.to('.header-logo-svg', _this.animation.enter.speed, {
            opacity: 1,
            y: '0%',
            ease: _this.animation.enter.ease,
        });
        $('.header-navigation li').each(function (index, el) {
            var delay = index * _this.animation.enter.delay;
            TweenLite.to(el, _this.animation.enter.speed, {
                opacity: 1,
                y: '0%',
                delay: delay,
                ease: _this.animation.enter.ease,
            });
        });
        TweenLite.to('.toggle', _this.animation.enter.speed, {
            opacity: 1,
            y: '0%',
            ease: _this.animation.enter.ease,
        });
    },
    onEnterAfter: function () {
        var _this = this;
    },
    onEnter: function () {
        var _this = this;
        $('.js-show').each(function (index, el) {
            var $el = $(el);
            var delay = index * _this.animation.enter.delay;
            if (isSingleToSingle) {
                TweenLite.set($el, {
                    opacity: 0,
                    x: 0,
                    y: 0,
                });
            } else {
                TweenLite.set($el, {
                    opacity: 0,
                    y: 50,
                });
            }
            TweenLite.to($el, _this.animation.enter.speed, {
                opacity: 1,
                x: 0,
                y: 0,
                delay: delay,
                ease: _this.animation.enter.ease,
            });
        });
        $('.js-show-child').each(function (index, el) {
            var $el = $(el);
            $el.children().each(function (i, e) {
                var $e = $(e);
                $e.find('span').each(function (n, s) {
                    var $s = $(s);
                    var delay = i * _this.animation.enter.delay + n * 0.01;
                    TweenLite.set($s, {
                        y: 50,
                    });
                    TweenLite.to($s, _this.animation.enter.speed, {
                        y: 0,
                        delay: delay,
                        ease: _this.animation.enter.ease,
                    });
                });
            });
        });
        $('.js-show-child,.main-visal-slider').css({
            opacity: 1
        });
        var c = $('.single-title .c');
        if (isSingleToSingle && device.desktop()) {
            TweenLite.set('.single-title .c', {
                x: '100%',
                y: '0%',
            });
            for (var i = c.length - 1; i >= 0; i--) {
                var delay = i * _this.animation.enter.delay;
                TweenLite.to(c[i], _this.animation.enter.speed, {
                    opacity: 1,
                    x: '0%',
                    delay: delay,
                    ease: _this.animation.enter.ease,
                });
            };
        } else {
            for (var i = c.length - 1; i >= 0; i--) {
                var delay = i * _this.animation.enter.delay;
                TweenLite.to(c[i], _this.animation.enter.speed, {
                    opacity: 1,
                    y: '0%',
                    delay: delay,
                    ease: _this.animation.enter.ease,
                });
            };
        }
        var c = $('.subpages-title .c');
        if (c.length > 11) {
            for (var i = c.length - 1; i >= 0; i--) {
                var delay = i * _this.animation.enter.delay * 0.4;
                TweenLite.to(c[i], _this.animation.enter.speed * 0.8, {
                    opacity: 1,
                    y: '0%',
                    delay: delay,
                    ease: _this.animation.enter.ease,
                });
            };
        } else {
            for (var i = c.length - 1; i >= 0; i--) {
                var delay = i * _this.animation.enter.delay;
                TweenLite.to(c[i], _this.animation.enter.speed, {
                    opacity: 1,
                    y: '0%',
                    delay: delay,
                    ease: _this.animation.enter.ease,
                });
            }
        }
        TweenLite.to('.slider-shift-the', _this.animation.enter.speed, {
            opacity: 1,
            x: 0,
            delay: delay,
            ease: _this.animation.enter.ease,
        });
        TweenLite.to('.slider-shift-hr', _this.animation.enter.speed, {
            opacity: 1,
            x: 0,
            delay: (delay + 0.5),
            ease: _this.animation.enter.ease,
        });
        TweenLite.set('.projects-wrap', {
            opacity: 0,
            y: 50,
        });
        var c = $('.projects-wrap');
        for (var i = c.length - 1; i >= 0; i--) {
            var delay = i * _this.animation.enter.delay;
            TweenLite.to(c[i], _this.animation.enter.speed, {
                delay: delay,
                opacity: 1,
                y: 0,
                ease: _this.animation.enter.ease,
            });
        };
        if (isSingleToSingle) {
            TweenLite.set('.single-next-show', {
                y: '0%'
            });
            TweenLite.to('.single-next-show', _this.animation.enter.speed, {
                opacity: 1,
                ease: _this.animation.enter.ease,
            });
        } else {
            TweenLite.to('.single-next-show', _this.animation.enter.speed, {
                opacity: 1,
                y: '0%',
                ease: _this.animation.enter.ease,
            });
        }
        var delay = 4 * _this.animation.enter.delay;
        TweenLite.to('.slider-links', _this.animation.enter.speed, {
            opacity: 1,
            y: '0%',
            delay: delay,
            ease: _this.animation.enter.ease,
        });
        TweenLite.to('.single-goto', _this.animation.enter.speed, {
            opacity: 1,
            delay: delay,
            ease: _this.animation.enter.ease,
        });
        TweenLite.to('.slider-cntrl-bar-wrap.mb', _this.animation.enter.speed, {
            x: 0,
            y: 0,
            rotation: -45,
            opacity: 1,
            ease: _this.animation.enter.ease,
        });
    },
    onLeave: function () {
        var _this = this;
        shiftline.onLeave(_this.animation.leave.ease, _this.animation.leave.speed);
        TweenLite.to('.slider-shift-the', _this.animation.leave.speed, {
            opacity: 0,
            ease: _this.animation.leave.ease,
        });
        TweenLite.to('.slider-shift-hr', _this.animation.leave.speed, {
            opacity: 0,
            ease: _this.animation.leave.ease,
        });
        var c = $('.js-show');
        for (var i = c.length - 1; i >= 0; i--) {
            TweenLite.to(c[i], _this.animation.leave.speed, {
                opacity: 0,
                ease: _this.animation.leave.ease,
            });
        };
        $('.js-show-child').each(function (index, el) {
            var $el = $(el);
            $el.children().each(function (i, e) {
                var $e = $(e);
                $e.find('span').each(function (n, s) {
                    var $s = $(s);
                    TweenLite.to($s, _this.animation.leave.speed, {
                        y: -50,
                        ease: _this.animation.leave.ease,
                    });
                });
            });
        });
        var c = $('.single-title .c');
        if (isSingleToSingle && device.desktop()) {
            for (var i = c.length - 1; i >= 0; i--) {
                var delay = i * _this.animation.leave.delay;
                TweenLite.to(c[i], _this.animation.leave.speed, {
                    opacity: 0,
                    x: '-100%',
                    delay: delay,
                    ease: _this.animation.leave.ease,
                });
            }
        } else {
            for (var i = c.length - 1; i >= 0; i--) {
                var delay = i * _this.animation.leave.delay;
                TweenLite.to(c[i], _this.animation.leave.speed, {
                    opacity: 0,
                    y: '-100%',
                    delay: delay,
                    ease: _this.animation.leave.ease,
                });
            }
        }
        var c = $('.subpages-title .c');
        if (c.length > 11) {
            for (var i = c.length - 1; i >= 0; i--) {
                var delay = i * _this.animation.leave.delay * 0.5;
                TweenLite.to(c[i], _this.animation.leave.speed * 0.5, {
                    opacity: 0,
                    y: '-100%',
                    delay: delay,
                    ease: _this.animation.leave.ease,
                });
            };
        } else {
            for (var i = c.length - 1; i >= 0; i--) {
                var delay = i * _this.animation.leave.delay * 0.8;
                TweenLite.to(c[i], _this.animation.leave.speed * 0.8, {
                    opacity: 0,
                    y: '-100%',
                    delay: delay,
                    ease: _this.animation.leave.ease,
                });
            };
        }
        TweenLite.to('.single-next-show', _this.animation.leave.speed, {
            opacity: 0,
            ease: _this.animation.leave.ease,
        });
        TweenLite.to('.slider-links', _this.animation.leave.speed, {
            opacity: 0,
            ease: _this.animation.leave.ease,
        });
        TweenLite.to('.single-goto', _this.animation.leave.speed, {
            opacity: 0,
            ease: _this.animation.leave.ease,
        });
        TweenLite.to('.projects-grid', _this.animation.leave.speed, {
            opacity: 0,
            ease: _this.animation.leave.ease,
        });
        TweenLite.to('#shift-graphic', _this.animation.leave.speed, {
            opacity: 0,
            ease: _this.animation.leave.ease,
        });
        TweenLite.to('.slider-cntrl-bar-wrap.mb', _this.animation.leave.speed, {
            opacity: 0,
            ease: _this.animation.leave.ease,
        });
    },
    fadeOut: function ($old, deferred) {
        var _this = this;
        clearInterval(shiftlineTimer);
        projects.enable = 0;
        shiftline.enable = 0;
        logoAniamtion.enable = 0;
        _this.onLeave();
        icon.onReset();
        normalPageScroll.onDestroy();
        iconTm = setTimeout(function () {
            icon.onStartLoading();
        }, 1500);
        $html.addClass('is-before-transition');
        if (device.mobile() && menu.isOpen) {
            menu.onClose();
            $html.addClass('is-menu-transition');
        }
        if (pages.name === 'home') {
            isHomeSlideEnable = false;
            if (titleTextSlider.loopTween) {
                titleTextSlider.loopTween.kill();
            }
            thumbPolySlider.onPageLeave(_this.animation.leave.ease, _this.animation.leave.speed, deferred);
            titleTextSlider.onPageLeave(_this.animation.leave.ease, _this.animation.leave.speed);
        } else {
            TweenLite.to($old.find('.scroll-height'), _this.animation.in.speed, {
                opacity: 0,
                ease: _this.animation.in.ease,
                onComplete: function () {
                    deferred.resolve();
                }
            });
        }
        $('.jsc').addClass('off');
    },
    fadeIn: function ($old, $now, _that) {
        var _this = this;
        $html.removeClass('is-before-transition').addClass('is-after-transition');
        if ($('#shift-graphic').length && logoAniamtion.ready) {
            logoAniamtion.onDestroy();
        }
        single.onReset();
        windowTop = 0;
        window.scrollTo(0, 0);
        $old.hide();
        $now.css({
            visibility: 'visible'
        });
        TweenLite.to($now.find('.scroll-height'), _this.animation.in.speed, {
            opacity: 1,
            ease: _this.animation.in.ease,
            onStart: function () {
                _this.onStart();
                clearTimeout(iconTm);
                icon.onEndLoading();
            },
            onComplete: function () {
                _this.onComplete();
                $html.removeClass('is-menu-transition is-after-transition');
            },
        });
        _that.done();
    },
    onStart: function () {
        pages.init();
        normalPageScroll.init();
        single.init();
        projects.init();
        if (pages.name === 'home') {
            titleTextSlider.init();
            thumbPolySlider.init();
        }
        if (pages.name === 'about') {
            logoAniamtion.init();
        }
        subpages.init();
        pages.langSwicher();
        this.onEnter();
        isSingleToSingle = false;
    },
    onComplete: function () {
        isHomeSlideEnable = true;
        if (pages.name === 'single') {
            single.onLoadAfter();
        }
        if (pages.name === 'single' || pages.name === 'about') {
            shiftline.init();
        }
        if (pages.name === 'about') {
            logoAniamtion.initAfter();
        }
        this.onEnterAfter();
    }
}
var windowMask = {
    animation: {
        enter: {
            speed: 0.38,
            delay: 0.05,
            ease: Power2.easeOut,
        },
        leave: {
            speed: 0.38,
            delay: 0.05,
            ease: Power2.easeInOut,
        }
    },
    once: function () {
        var _this = this;
        _this.$linear = $('.window-mask-linear');
        if (device.mobile()) {
            _this.animation.enter.speed = 0.6;
            _this.animation.enter.delay = 0.05;
            _this.animation.enter.ease = Power2.easeOut;
            _this.animation.leave.speed = 0.5;
            _this.animation.leave.delay = 0.05;
            _this.animation.leave.ease = Power2.easeInOut;
        }
    },
    onEnter: function (isToggle) {
        var _this = this;
        if (!isToggle) {
            $html.addClass('is-enter-transition');
        }
        _this.$linear.each(function (index, el) {
            var $el = $(el);
            var d = index * _this.animation.enter.delay;
            if ($el.is('.odd')) {
                TweenLite.set($el, {
                    y: '100%',
                });
                if ($el.is(':last-child')) {
                    TweenLite.to($el, _this.animation.enter.speed, {
                        y: '-100%',
                        delay: d,
                        ease: _this.animation.enter.ease,
                    });
                } else {
                    TweenLite.to($el, _this.animation.enter.speed, {
                        y: '-100%',
                        delay: d,
                        ease: _this.animation.enter.ease,
                    });
                }
            } else {
                TweenLite.set($el, {
                    y: '-100%',
                });
                TweenLite.to($el, _this.animation.enter.speed, {
                    y: '100%',
                    delay: d,
                    ease: _this.animation.enter.ease,
                });
            }
        });
    },
    onLeave: function (isToggle) {
        var _this = this;
        if (!isToggle) {
            $html.removeClass('is-enter-transition');
        }
        _this.$linear.each(function (index, el) {
            var $el = $(el);
            var d = index * _this.animation.leave.delay;
            if ($el.is('.odd')) {
                if ($el.is(':last-child')) {
                    TweenLite.to($el, _this.animation.leave.speed, {
                        y: '-200%',
                        delay: d,
                        ease: _this.animation.leave.ease,
                    });
                } else {
                    TweenLite.to($el, _this.animation.leave.speed, {
                        y: '-200%',
                        delay: d,
                        ease: _this.animation.leave.ease,
                    });
                }
            } else {
                TweenLite.to($el, _this.animation.leave.speed, {
                    y: '200%',
                    delay: d,
                    ease: _this.animation.leave.ease,
                });
            }
        });
    },
}
var control = {
    hammer: null,
    init: function () {
        var _this = this;
        if ($('.main-visal-slider').length) {
            _this.hammer = new Hammer($('.main-visal-slider')[0]);
            _this.hammer.get('swipe').set({
                direction: Hammer.DIRECTION_ALL
            });
            _this.hammer.on('swipeup', function (e) {
                if (!titleTextSlider.animation.ing) {
                    titleTextSlider.onSlideToNext();
                }
            });
            _this.hammer.on('swipedown', function (e) {
                if (!titleTextSlider.animation.ing) {
                    titleTextSlider.onSlideToPrev();
                }
            });
        } else {
            _this.hammer = null;
        }
    },
}
var menu = {
    isOpen: false,
    animation: {
        in: {
            speed: 0.6,
            delay: 0.05,
            ease: CustomEase.create("custom", "M0,0 C0.276,0.19 0.291,0.604 0.43,0.822 0.556,1 0.818,1 1,1")
        },
        out: {
            speed: 0.6,
            delay: 0.05,
            ease: CustomEase.create("custom", "M0,0 C0.276,0.19 0.291,0.604 0.43,0.822 0.556,1 0.818,1 1,1")
        },
    },
    onOpen: function () {
        var _this = this;
        $html.addClass('is-menu-opened is-menu-opened-before');
        TweenLite.to('.toggle .t1', _this.animation.in.speed, {
            rotation: 45,
            y: 8,
            ease: _this.animation.in.ease,
            onComplete: function () {
                _this.isOpen = true;
            }
        });
        TweenLite.to('.toggle .t3', _this.animation.in.speed, {
            rotation: -45,
            y: -8,
            ease: _this.animation.in.ease,
        });
        $('.toggle .t').each(function (index, el) {
            var $el = $(el);
            TweenLite.to($el.find('span'), _this.animation.in.speed, {
                x: '100%',
                ease: _this.animation.in.ease,
            });
        });
        TweenLite.set('.header-navigation ul li .js-split-char span', {
            y: '100%',
        });
        $('.header-navigation ul li .js-split-char').each(function (index, el) {
            var $el = $(el);
            $el.find('span').each(function (i, e) {
                var $e = $(e);
                var delay = 0.02 * i;
                TweenLite.to($e, 0.5, {
                    ease: _this.animation.out.ease,
                    delay: delay,
                    y: '0%',
                });
            });
        });
        TweenLite.to('.header-logo .bg', _this.animation.in.speed, {
            fill: '#ffffff',
            ease: _this.animation.in.ease,
        });
        windowMask.onEnter(true);
    },
    onClose: function () {
        var _this = this;
        $('.toggle .t').each(function (index, el) {
            var $el = $(el);
            TweenLite.set($el.find('span'), {
                x: '-100%',
            });
            TweenLite.to($el.find('span'), _this.animation.in.speed, {
                x: '0%',
                ease: _this.animation.in.ease,
            });
        });
        $html.removeClass('is-menu-opened-before');
        TweenLite.to('.toggle .t1,.toggle .t3', _this.animation.in.speed, {
            rotation: 0,
            y: 0,
            ease: _this.animation.in.ease,
            onComplete: function () {
                $html.removeClass('is-menu-opened');
                _this.isOpen = false;
            }
        });
        $('.header-navigation ul li .js-split-char').each(function (index, el) {
            var $el = $(el);
            $el.find('span').each(function (i, e) {
                var $e = $(e);
                var delay = 0.02 * i;
                TweenLite.to($e, 0.5, {
                    ease: _this.animation.out.ease,
                    delay: delay,
                    y: '-100%',
                });
            });
        });
        TweenLite.to('.header-logo .bg', _this.animation.out.speed, {
            fill: '#333',
            ease: _this.animation.out.ease,
        });
        windowMask.onLeave(true);
    },
}
$(document).on({
    touchstart: function () {
        if (!menu.isOpen) {
            menu.onOpen();
        } else {
            menu.onClose();
        }
    }
}, '.js-toggle');
var notFound = {
    init: function () {},
}
WebFontConfig = {
    classes: false,
    custom: {
        families: ['Museo Sans W01']
    },
    monotype: {
        projectId: 'f1b69f7e-2af5-41d6-bc75-04d347da06c9',
    },
    loading: function () {},
    active: function () {
        shiftline.init();
    }
};
windowMask.once();
pages.once();
pages.init();
buttons.once();
thumbPolySlider.once();
normalPageScroll.init();
single.init();
projects.init();
subpages.init();
isHomeSlideEnable = true;
if (pages.name === 'about') {
    logoAniamtion.init();
}
if (pages.name === 404) {
    notFound.init();
}
$(window).on({
    resize: function () {
        windowHeight = $(window).height();
        windowWidth = $(window).width();
        windowHeightHalf = windowHeight / 2;
        windowWidthHalf = windowWidth / 2;
        pages.onResize();
        if (pages.name != 'home') {
            subpages.onResize();
        }
        if (logoAniamtion.loaded && !device.mobile() && logoAniamtion.enable) {
            logoAniamtion.onResize();
        }
        if (shiftline.enable) {
            shiftline.onResize();
        }
    },
    scroll: function () {
        windowTop = $(this).scrollTop();
        windowTopHeight = windowTop + windowHeight;
        subpages.onScroll();
    },
    wheel: function (e) {
        var force = 20,
            deltaY = e.deltaY,
            direction = (deltaY > 0) ? direction = 'down' : direction = 'up';
        if (force >= Math.abs(deltaY)) return;
        if (wheelSlider.enable && isHomeSlideEnable && pages.name === 'home') {
            switch (direction) {
                case 'down':
                    wheelSlider.onScrollDown();
                    break;
                case 'up':
                    wheelSlider.onScrollUp();
                    break;
            }
        }
    },
    load: function () {
        if (pages.name === 'single') {
            single.onLoadAfter();
        }
        if (pages.name === 'about') {
            logoAniamtion.initAfter();
        }
        PageTransition.onEnterOnce();
        PageTransition.onEnter();
        PageTransition.onEnterAfter();
        $html.addClass('is-page-loaded');
        if (pages.name === 'home') {
            thumbPolySlider.init();
            titleTextSlider.init();
        }
        isSplash = false;
        icon.once();
    }
});
$(document).on({
    mousedown: function (e) {
        wheelSlider.enable = false;
        if (pages.name === 'home') {
            if (!titleTextSlider.animation.enable && !isHoverLinks && isHomeSlideEnable) {
                titleTextSlider.enable = true;
                var x = (e.clientX - windowWidthHalf) / windowWidthHalf;
                var y = (e.clientY - windowHeightHalf) / windowHeightHalf;
                titleTextSlider.onDragStart(x, y);
            }
            icon.onDragFlag = true;
            homeSlider.isClickStart(e.clientX, e.clientY);
        }
    },
    mousemove: function (e) {
        var x = e.clientX;
        var y = e.clientY;
        var cx = (x - windowWidthHalf) / windowWidthHalf;
        var cy = (y - windowHeightHalf) / windowHeightHalf;
        mouse.x = x;
        mouse.y = y;
        mouse.cx = cx;
        mouse.cy = cy;
        if (device.desktop()) {
            if (titleTextSlider.enable && isHomeSlideEnable) {
                titleTextSlider.onDragging(cx, cy);
                if (icon.onDragFlag) {
                    icon.onDragFlag = false;
                    icon.onDragStart();
                }
            }
            if (thumbPolySlider.ready && isHomeSlideEnable) {
                thumbPolySlider.onMouseMove(cx, cy);
            }
            icon.onMouseMove(x, y);
        }
    },
    mouseup: function (e) {
        if (titleTextSlider.enable && !titleTextSlider.animation.enable && isHomeSlideEnable) {
            titleTextSlider.enable = false;
            var x = (e.clientX - windowWidthHalf) / windowWidthHalf;
            var y = (e.clientY - windowHeightHalf) / windowHeightHalf;
            titleTextSlider.onDragEnd(x, y);
        }
        wheelSlider.enable = true;
        homeSlider.isClickEnd(e.clientX, e.clientY);
    },
    mouseleave: function (e) {
        if (titleTextSlider.enable && !titleTextSlider.animation.enable && isHomeSlideEnable) {
            titleTextSlider.enable = false;
            var x = (e.clientX - windowWidthHalf) / windowWidthHalf;
            var y = (e.clientY - windowHeightHalf) / windowHeightHalf;
            titleTextSlider.onDragEnd(x, y);
        }
    }
});
